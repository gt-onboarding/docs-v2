```js server.js lines highlight={12-32}
const express = require('express');
    const app = express();
    const { auth, requiredScopes } = require('express-oauth2-jwt-bearer');

    // 認可ミドルウェア。使用時、アクセストークンが存在し、
    // Auth0 JSON Web Key Set に対して検証される必要があります。
    const checkJwt = auth({
      audience: '{yourApiIdentifier}',
      issuerBaseURL: 'https://{yourDomain}/',
    });

    // このルートは認証不要です
    app.get('/api/public', function(req, res) {
      res.json({
message: 'パブリックエンドポイントからこんにちは！これを表示するために認証は不要です。'
      });
    });

    // このルートは認証が必要です
    app.get('/api/private', checkJwt, function(req, res) {
      res.json({
message: 'プライベートエンドポイントからこんにちは！これを表示するには認証が必要です。'
      });
    });

    const checkScopes = requiredScopes('read:messages');

    app.get('/api/private-scoped', checkJwt, checkScopes, function(req, res) {
      res.json({
message: 'プライベートエンドポイントからこんにちは！これを表示するには認証と read:messages のスコープが必要です。'
      });
    });

    app.listen(3000, function() {
      console.log('Listening on http://localhost:3000');
    });
```
