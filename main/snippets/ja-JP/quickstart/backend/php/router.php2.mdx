```php router.php lines highlight={21-31}
<?php

      declare(strict_types=1);

      use Steampixel\Route;

      function routeResponse(
array $response
      ) {
header('Content-Type: application/json');
print(json_encode($response, JSON_PRETTY_PRINT));
      }

      Route::add('/api/public', function() use ($token) {
routeResponse([
  'message' => 'パブリックエンドポイントからこんにちは!これを表示するために認証する必要はありません。',
  'token' => $token
]);
      });

      Route::add('/api/private', function() use ($token) {
if ($token === null) {
  http_response_code(401);
  exit;
}

routeResponse([
  'message' => 'プライベートエンドポイントからこんにちは!これを表示するには認証する必要があります。',
  'token' => $token,
]);
      });

      Route::add('/api/private-scoped', function() use ($token) {
if ($token === null) {
  http_response_code(401);
  exit;
}

if (! in_array('read:messages', $token['scopes'], true)) {
  http_response_code(401);
  exit;
}

routeResponse([
  'message' => 'プライベートエンドポイントからこんにちは!これを表示するには、認証とread:messagesスコープが必要です。',
  'token' => $token,
]);
      });

      // 以下のルートは混乱を避けるためのものです。
      // このアプリでは「インデックスルート」を使用していないため、リクエストを /api/public にリダイレクトします。
      Route::add('/', function() {
header('Location: /api/public');
      });

      Route::run();
```
