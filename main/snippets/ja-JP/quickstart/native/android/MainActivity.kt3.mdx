```kt MainActivity.kt lines highlight={54-70}
import com.auth0.android.Auth0
import com.auth0.android.provider.WebAuthProvider

class MainActivity : AppCompatActivity() {

  private lateinit var account: Auth0

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    // Auth0アプリケーションの詳細を使用してaccountオブジェクトを設定
    account = Auth0(
      getString(R.string.com_auth0_client_id),
      getString(R.string.com_auth0_domain),
    )
  }

  private fun loginWithBrowser() {
    // カスタムスキームとスコープを使用してWebAuthProviderをセットアップ

    WebAuthProvider.login(account)
      .withScheme("demo")
      .withScope("openid profile email")
      // 結果を受け取るコールバックを渡して認証を開始
      .start(this, object : Callback<Credentials, AuthenticationException> {
        // 認証に失敗した場合に呼び出される
        override fun onFailure(exception: AuthenticationException) {
          // エラーが発生しました!
        }

        // 認証が正常に完了した場合に呼び出される
        override fun onSuccess(credentials: Credentials) {
          // credentialsオブジェクトからアクセストークンを取得
          // これを使用してAPIを呼び出すことができます
          val accessToken = credentials.accessToken
        }
      })
  }

  private fun logout() {
    WebAuthProvider.logout(account)
      .withScheme("demo")
      .start(this, object : Callback<Void?, AuthenticationException> {
        override fun onSuccess(payload: Void?) {
          // ユーザーがログアウトしました!
        }

        override fun onFailure(error: AuthenticationException) {
          // エラーが発生しました!
        }
      })
  }

  private fun showUserProfile(accessToken: String) {
    var client = AuthenticationAPIClient(account)

    // アクセストークンを使用して`userInfo`を呼び出し、Auth0からプロファイルを取得
    client.userInfo(accessToken)
      .start(object : Callback<UserProfile, AuthenticationException> {
        override fun onFailure(exception: AuthenticationException) {
          // エラーが発生しました!
        }

        override fun onSuccess(profile: UserProfile) {
          // ユーザーのプロファイルを取得しました!
          val email = profile.email
          val name = profile.name
        }
      })
  }
}
```
