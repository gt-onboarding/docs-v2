```js server.js lines highlight={1-10}
const express = require('express');
    const app = express();
    const { auth, requiredScopes } = require('express-oauth2-jwt-bearer');

    // Intergiciel d'autorisation. Lorsqu'il est utilisé, le jeton d'accès doit
    // exister et être vérifié par rapport à l'ensemble de clés Web JSON d'Auth0.
    const checkJwt = auth({
      audience: '{yourApiIdentifier}',
      issuerBaseURL: 'https://{yourDomain}/',
    });

    // Cette route ne nécessite pas d'authentification
    app.get('/api/public', function(req, res) {
      res.json({
message: 'Bonjour d\'un point de terminaison public! Vous n\'avez pas besoin d\'être authentifié pour voir ceci.'
      });
    });

    // Cette route nécessite une authentification
    app.get('/api/private', checkJwt, function(req, res) {
      res.json({
message: 'Bonjour d\'un point de terminaison privé! Vous devez être authentifié pour voir ceci.'
      });
    });

    const checkScopes = requiredScopes('read:messages');

    app.get('/api/private-scoped', checkJwt, checkScopes, function(req, res) {
      res.json({
message: 'Bonjour d\'un point de terminaison privé! Vous devez être authentifié et avoir une portée de read:messages pour voir ceci.'
      });
    });

    app.listen(3000, function() {
      console.log('En écoute sur http://localhost:3000');
    });
```
