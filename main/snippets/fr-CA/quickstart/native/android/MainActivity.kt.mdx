```kt MainActivity.kt lines highlight={6-38}
import com.auth0.android.Auth0
import com.auth0.android.provider.WebAuthProvider

class MainActivity : AppCompatActivity() {

  private lateinit var account: Auth0

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    // Configurer l'objet account avec les détails de l'application Auth0
    account = Auth0(
      getString(R.string.com_auth0_client_id),
      getString(R.string.com_auth0_domain),
    )
  }

  private fun loginWithBrowser() {
    // Configurer le WebAuthProvider en utilisant le schéma personnalisé et la portée.

    WebAuthProvider.login(account)
      .withScheme("demo")
      .withScope("openid profile email")
      // Lancer l'authentification en passant le callback où les résultats seront reçus
      .start(this, object : Callback<Credentials, AuthenticationException> {
        // Appelé en cas d'échec d'authentification
        override fun onFailure(exception: AuthenticationException) {
          // Une erreur s'est produite!
        }

        // Appelé lorsque l'authentification se termine avec succès
        override fun onSuccess(credentials: Credentials) {
          // Obtenir le jeton d'accès de l'objet credentials.
          // Ceci peut être utilisé pour appeler des API
          val accessToken = credentials.accessToken
        }
      })
  }

  private fun logout() {
    WebAuthProvider.logout(account)
      .withScheme("demo")
      .start(this, object : Callback<Void?, AuthenticationException> {
        override fun onSuccess(payload: Void?) {
          // L'utilisateur a été déconnecté!
        }

        override fun onFailure(error: AuthenticationException) {
          // Une erreur s'est produite!
        }
      })
  }

  private fun showUserProfile(accessToken: String) {
    var client = AuthenticationAPIClient(account)

    // Avec le jeton d'accès, appeler `userInfo` et obtenir le profil depuis Auth0.
    client.userInfo(accessToken)
      .start(object : Callback<UserProfile, AuthenticationException> {
        override fun onFailure(exception: AuthenticationException) {
          // Une erreur s'est produite!
        }

        override fun onSuccess(profile: UserProfile) {
          // Nous avons le profil de l'utilisateur!
          val email = profile.email
          val name = profile.name
        }
      })
  }
}
```
