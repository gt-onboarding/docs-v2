```php web.php highlight={6-12} lines 
<?php

use Auth0\Laravel\Facade\Auth0;
use Illuminate\Support\Facades\Route;

Route::get('/private', function () {
  return response('Bienvenue! Vous êtes connecté.');
})->middleware('auth');

Route::get('/scope', function () {
    return response('Vous avez la permission `read:messages` et pouvez donc accéder à cette ressource.');
})->middleware('auth')->can('read:messages');

Route::get('/', function () {
  if (! auth()->check()) {
    return response('Vous n'êtes pas connecté.');
  }

  $user = auth()->user();
  $name = $user->name ?? 'Utilisateur';
  $email = $user->email ?? '';

  return response("Bonjour {$name}! Votre adresse courriel est {$email}.");
});

Route::get('/colors', function () {
  $endpoint = Auth0::management()->users();

  $colors = ['red', 'blue', 'green', 'black', 'white', 'yellow', 'purple', 'orange', 'pink', 'brown'];

  $endpoint->update(
    id: auth()->id(),
    body: [
        'user_metadata' => [
            'color' => $colors[random_int(0, count($colors) - 1)]
        ]
    ]
  );

  $metadata = $endpoint->get(auth()->id()); // Récupérer les métadonnées de l'utilisateur.
  $metadata = Auth0::json($metadata); // Convertir le JSON en tableau PHP.

  $color = $metadata['user_metadata']['color'] ?? 'inconnue';
  $name = auth()->user()->name;

  return response("Bonjour {$name}! Votre couleur préférée est {$color}.");
})->middleware('auth');
```
