---
title: "Actions - Déclencheurs - send-phone-message - Objet API"
permalink: "api-object"
---

L&#39;objet API pour le déclencheur Actions « send-phone-message » comprend :

<div id="apicache">
  ## `api.cache`
</div>

Stocker et récupérer des données qui persistent entre les exécutions.

<div id="apicachedeletekey">
  ### `api.cache.delete(key)`
</div>

Supprime, si elle existe, une entrée décrivant une valeur mise en cache associée à la clé fournie.

Renvoie un objet `CacheWriteResult` avec `type: "success"` si une valeur a été supprimée du cache. En cas d’échec, l’opération renvoie `type: "error"`. Pour les erreurs, l’objet renvoyé aura une propriété `code` qui indique la nature de l’échec.

<table class="table">
  <thead>
    <tr>
      <th>Paramètre</th>
      <th>Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>key</code></td>

      <td>
        <p><em>String</em>. Clé de l’entrée stockée dans le cache.</p>
      </td>
    </tr>
  </tbody>
</table>

<div id="apicachegetkey">
  ### `api.cache.get(key)`
</div>

Récupère un enregistrement décrivant une valeur mise en cache à la
clé `key` fournie, si elle existe. Si un enregistrement est trouvé, la valeur mise
en cache se trouve dans la propriété `value` de l&#39;objet retourné.

Retourne un enregistrement de cache si un élément est trouvé dans le cache pour la
clé `key` fournie. Les enregistrements de cache sont des objets avec une
propriété `value` qui contient la valeur mise en cache ainsi qu&#39;une
propriété `expires_at` indiquant l&#39;expiration maximale de
l&#39;enregistrement en millisecondes depuis l&#39;époque Unix.

**Important :**
Ce cache est conçu pour des données temporaires à courte durée de vie. Les éléments peuvent ne pas être
disponibles lors de transactions ultérieures, même s&#39;ils se trouvent toujours à l&#39;intérieur de leur
période de validité définie.

<table class="table">
  <thead>
    <tr>
      <th>Paramètre</th>
      <th>Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>key</code></td>

      <td>
        <p><em>String</em>. La clé de l&#39;enregistrement stocké dans le cache.</p>
      </td>
    </tr>
  </tbody>
</table>

<div id="apicachesetkey-value-options">
  ### `api.cache.set(key, value, [options])`
</div>

Stocke ou met à jour une valeur de type chaîne dans la mémoire cache à la clé indiquée.

Les valeurs stockées dans cette mémoire cache sont limitées au Trigger dans lequel elles sont définies.
Elles sont soumises aux
[limites de la mémoire cache des Actions](/docs/fr-CA/customize/actions/limitations).

Les valeurs stockées de cette façon auront une durée de vie allant jusqu’aux valeurs
`ttl` ou `expires_at` indiquées. Si aucune durée de vie n’est
spécifiée, une durée de vie par défaut de 15 minutes sera utilisée. Les durées de vie ne
peuvent pas dépasser la durée maximale indiquée dans les
[limites de la mémoire cache des Actions](/docs/fr-CA/customize/actions/limitations).

<table class="table">
  <thead>
    <tr>
      <th>Paramètre</th>
      <th>Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>key</code></td>

      <td>
        <p><em>String</em>. La clé de l’enregistrement stocké dans la mémoire cache.</p>
      </td>
    </tr>

    <tr>
      <td><code>value</code></td>

      <td>
        <p><em>String</em>. La valeur de l’enregistrement à stocker.</p>
      </td>
    </tr>

    <tr>
      <td><code>options</code></td>

      <td>
        <p><em>Objet facultatif</em>. Options pour ajuster le comportement de la mémoire cache.</p>
      </td>
    </tr>

    <tr>
      <td><code>options.expires&#95;at</code></td>

      <td>
        <p>
          <em>Nombre facultatif</em>. Le moment d’expiration absolu en millisecondes
          depuis l’époque Unix. Même si les enregistrements mis en cache peuvent être retirés plus tôt,
          ils ne resteront jamais au-delà de la valeur fournie pour
          <code>expires&#95;at</code>.
        </p>

        <p>
          <em>Remarque :</em> Cette valeur ne doit pas être fournie si une valeur a aussi
          été spécifiée pour <code>ttl</code>. Si les deux options sont fournies,
          l’échéance la plus rapprochée des deux sera utilisée.
        </p>
      </td>
    </tr>

    <tr>
      <td><code>options.ttl</code></td>

      <td>
        <p>
          <em>Nombre facultatif</em>. La durée de vie (time-to-live) de cette entrée
          de mémoire cache en millisecondes. Même si les valeurs mises en cache peuvent être retirées plus tôt, elles
          ne resteront jamais au-delà de la valeur fournie pour <code>ttl</code>.
        </p>

        <p>
          <em>Remarque :</em> Cette valeur ne doit pas être fournie si une valeur a aussi
          été spécifiée pour <code>expires&#95;at</code>. Si les deux options sont fournies,
          l’échéance la plus rapprochée des deux sera utilisée.
        </p>
      </td>
    </tr>
  </tbody>
</table>