---
title: "Connexion et déconnexion et profils utilisateurs Auth0.Android"
permalink: "auth0-android-login-logout-and-user-profiles"
'description': "Apprenez à ajouter la connexion, la déconnexion et à lire le profil utilisateur à l'aide de la trousse SDK Android."
'og:title': "Connexion et déconnexion et profils utilisateurs Auth0.Android"
'og:description': "Apprenez à ajouter la connexion, la déconnexion et à lire le profil utilisateur à l'aide de la trousse SDK Android."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Connexion et déconnexion et profils utilisateurs Auth0.Android"
'twitter:description': "Apprenez à ajouter la connexion, la déconnexion et à lire le profil utilisateur à l'aide de la trousse SDK Android."
---

<div id="add-login-to-your-android-application">
  ## Ajouter la connexion à votre application Android
</div>

Vous pouvez connecter l&#39;utilisateur à l&#39;aide de la méthode `WebAuthProvider.login` :

```kotlin lines
WebAuthProvider.login(account)
  .withScheme(getString(R.string.com_auth0_scheme))
  .withScope("openid profile email")
  .start(this, object : Callback<Credentials, AuthenticationException> {
    override fun onFailure(exception: AuthenticationException) {
       // Authentication failed
     }

      override fun onSuccess(credentials: Credentials) {
         // Authentication succeeded
       }
  })
```

Le résultat de l&#39;authentification sera transmis au rappel `onSuccess`.

Voir la configuration [Auth0.Android](/docs/fr-CA/fr-ca/libraries/auth0-android/auth0-android-configuration) pour plus d&#39;options pour la classe `WebAuthProvider`.

<div id="add-logout-to-your-android-application">
  ## Ajouter la déconnexion à votre application Android
</div>

Pour déconnecter l&#39;utilisateur, appelez la méthode `WebAuthProvider.logout`. Le résultat de la déconnexion sera fourni dans le rappel`onSuccess`.

Cette méthode supprime le cookie défini par le navigateur au moment de l&#39;authentification, ce qui oblige les utilisateurs à saisir à nouveau leurs informations d&#39;identification lors de la prochaine tentative d&#39;authentification.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
  Si la déconnexion est annulée, il pourrait être souhaitable de ramener l’utilisateur à l’endroit où il se trouvait avant de tenter de se déconnecter.
</Callout>

```kotlin lines
WebAuthProvider.logout(account)
  .withScheme("demo")
  .start(this, object: Callback<Void?, AuthenticationException> {
    override fun onSuccess(payload: Void?) {
      // The user has been logged out!
    }

    override fun onFailure(error: AuthenticationException) {
      // Something went wrong!
    }
  })
```

<div id="show-the-users-profile">
  ## Afficher le profil de l&#39;utilisateur
</div>

Utilisez la classe `AuthenticationAPIClient` pour récupérer le profil utilisateur auprès de Auth0. Pour ce faire, les éléments suivants sont nécessaires :

* Le jeton d&#39;accès tel qu&#39;il a été reçu lors de la phase de connexion
* La permission `profile` à inclure lorsque `WebAuthProvider.login` est appelé
* La permission `courriel` (si vous voulez récupérer l&#39;adresse courriel de l&#39;utilisateur)

Cet exemple montre une fonction qui récupère le profil de l&#39;utilisateur et l&#39;affiche à l&#39;écran :

```kotlin lines
var client = AuthenticationAPIClient(account)

// Use the received access token to call `userInfo` and get the profile from Auth0.
client.userInfo(accessToken)
  .start(object : Callback<UserProfile, AuthenticationException> {
      override fun onFailure(exception: AuthenticationException) {
          // Something went wrong!
      }

      override fun onSuccess(profile: UserProfile) {
        // We have the user's profile!
        val email = profile.email
        val name = profile.name
      }
})
```