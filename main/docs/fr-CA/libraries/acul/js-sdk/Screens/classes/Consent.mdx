---
title: "Consentement"
---

<Frame>
  <img style={{maxHeight:"400px"}} src="/docs/images/cdy7uua7fh8z/6cK6DkpOJYTjubOGu2vpID/80c03b32275a2c332fe3216df0eca5c7/Consent.png" alt="" />
</Frame>

ConsentMembers

```ts Example
import Consent from '@auth0/auth0-acul-js/consent';
const consentManager = new Consent();
const handleAccept = async () => {
 try {
   await consentManager.accept();
   console.log('Consentement accepté avec succès.');
 } catch (err) {
   console.error('Erreur lors de l'acceptation du consentement :', err);
 }
};
```


<div id="constructors">
  ## Constructeurs
</div>

<ParamField body="Consent" type="Constructor">

Crée une instance du gestionnaire d'écran `Consent`.
Le constructeur initialise le `BaseContext` et définit la propriété `screen`
avec une instance de `ScreenOverride` adaptée à l'écran de consentement.

<div id="throws">
  #### Exceptions
</div>

Si le contexte Universal Login n'est pas disponible ou si le
nom de l'écran courant dans ce contexte ne correspond pas à `Consent.screenIdentifier`.

</ParamField>

<div id="properties">
  ## Propriétés
</div>

<ParamField body='branding' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/BrandingMembers">BrandingMembers</a></span>}/>

<ParamField body='client' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/ClientMembers">ClientMembers</a></span>}/>

<ParamField body='organization' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/OrganizationMembers">OrganizationMembers</a></span>}/>

<ParamField body='prompt' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/PromptMembers">PromptMembers</a></span>}/>

<ParamField body='screen' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/ScreenMembersOnConsent">ScreenMembersOnConsent</a></span>}>

Contient les données et les propriétés spécifiques à l'écran de consentement,
traitées par `ScreenOverride`. Cela inclut la liste des `scopes` demandés
et l'indicateur `hideScopes`.

</ParamField>

<ParamField body='tenant' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/TenantMembers">TenantMembers</a></span>}/>

<ParamField body='transaction' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/TransactionMembers">TransactionMembers</a></span>}/>

<ParamField body='untrustedData' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/UntrustedDataMembers">UntrustedDataMembers</a></span>}/>

<ParamField body='user' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/UserMembers">UserMembers</a></span>}/>

<ParamField body='screenIdentifier' type='string'/>

<div id="methods">
  ## Méthodes
</div>

<ParamField body='accept' type='Promise<void>'>

Soumet la décision de l’utilisateur d’accepter (d’accorder) les autorisations demandées.
Cette méthode prépare et envoie des données de formulaire au point de terminaison `/u/consent?state=<transaction_state>`
avec `action: "accept"`. Le paramètre `state` de la transaction est automatiquement inclus à la fois
dans le paramètre de requête de l’URL et dans le corps du formulaire.

Une promesse qui se résout une fois l’envoi du formulaire initié.
                         En général, un envoi réussi entraîne une redirection côté serveur.

#### Lève

Lève une erreur si `FormHandler` rencontre un problème irrécupérable
                pendant l’envoi (p. ex., une erreur réseau). Les erreurs de validation côté serveur
                d’Auth0 (comme « invalid_request ») ne sont pas levées comme des erreurs JavaScript,
                mais sont mises à disposition dans `this.transaction.errors` après l’opération.

```typescript Example
import Consent from '@auth0/auth0-acul-js/consent';
const consentManager = new Consent();
const handleAccept = async () => {
 try {
   await consentManager.accept();
   console.log('Consent accepted successfully.');
 } catch (err) {
   console.error('Error accepting consent:', err);
 }
};
```

<Expandable title="Paramètres">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/CustomOptions">CustomOptions</a></span>}>

Facultatif. Un objet contenant des paires clé-valeur personnalisées
                                   à envoyer avec la requête. Ces paramètres seront
                                   inclus dans les données de formulaire soumises au serveur.

</ParamField>

</Expandable>
</ParamField>

<ParamField body='deny' type='Promise<void>'>

Soumet la décision de l’utilisateur de refuser (de rejeter) les autorisations demandées.
Cette méthode prépare et envoie des données de formulaire au point de terminaison `/u/consent?state=<transaction_state>`
avec `action: "deny"`. Le paramètre `state` de la transaction est automatiquement inclus à la fois
dans le paramètre de requête de l’URL et dans le corps du formulaire.

Une promesse qui se résout une fois l’envoi du formulaire initié.
                         Un envoi réussi entraîne généralement une redirection côté serveur.

#### Lève

Lève une erreur si `FormHandler` rencontre un problème (p. ex., une erreur réseau).
                Les erreurs de validation côté serveur sont reflétées dans `this.transaction.errors`.

```typescript Example
import Consent from '@auth0/auth0-acul-js/consent';
const consentManager = new Consent();
const handleDeny = async () => {
 try {
   await consentManager.deny();
   console.log('Form denied successfully.');
 } catch (err) {
   console.error('Failed to deny form:', error);
 }
};

```

<Expandable title="Paramètres">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/CustomOptions">CustomOptions</a></span>}>

Facultatif. Un objet contenant des paires clé-valeur personnalisées
                                   à envoyer avec la requête. Ces paramètres seront
                                   inclus dans les données de formulaire soumises au serveur.

</ParamField>

</Expandable>
</ParamField>

<ParamField body='getErrors' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/Error">Error</a>[]</span>}>

Récupère le tableau des erreurs de transaction à partir du contexte, ou un tableau vide si aucune n’existe.

Un tableau d’objets d’erreur provenant du contexte de la transaction.

</ParamField>