---
title: "MfaWebAuthnPlatformEnrollmentMembers"
---

MfaWebAuthnPlatformEnrollmentMembers

````ts Example
export interface MfaWebAuthnPlatformEnrollmentMembers extends BaseMembers {
  /**
   * The screen object with MFA WebAuthn Platform Enrollment specific data structure.
   */
  screen: ScreenMembersOnMfaWebAuthnPlatformEnrollment;
  
  /**
   * Initie le processus de création d'identifiants de plateforme WebAuthn en utilisant les options de clé publique
   * disponibles sur `this.screen.publicKey` et soumet l'identifiant résultant au serveur.
   * Cette méthode appelle en interne `createPasskeyCredentials` (qui encapsule `navigator.credentials.create()`).
   *
   * @param {SubmitPasskeyCredentialOptions} [payload] - Paramètres personnalisés optionnels à envoyer au serveur
   * avec l'identifiant créé.
   * @returns {Promise<void>} Une promesse qui se résout lorsque l'identifiant est créé et soumis avec succès.
   * @throws {Error} Lance une erreur si `this.screen.publicKey` n'est pas disponible, si `createPasskeyCredentials` échoue
   * (par ex. annulation par l'utilisateur, problèmes matériels) ou si la soumission au serveur échoue.
   * @example
   * ```typescript
   * // En supposant que 'sdk' est une instance de MfaWebAuthnPlatformEnrollment
   * try {
   *   if (!sdk.screen.publicKey) { // Vérifier si les options sont disponibles
   *     throw new Error("Les options de création de clé publique ne sont pas disponibles dans le contexte de l'écran.");
   *   }
   *   await sdk.submitPasskeyCredential(); // Pas besoin de passer publicKey explicitement
   *   // En cas de succès, Auth0 gère la redirection.
   * } catch (error) {
   *   console.error('L\'inscription de la clé d\'accès a échoué :', error);
   *   // Gérer l'erreur, potentiellement en appelant reportBrowserError s'il s'agit d'une erreur de l'API WebAuthn
   *   if (error.name && error.message) { // Vérifier s'il s'agit d'une erreur WebAuthn
   *     await sdk.reportBrowserError({ error: { name: error.name, message: error.message } });
   *   }
   * }
   * ```
   */
  submitPasskeyCredential(payload?: SubmitPasskeyCredentialOptions): Promise<void>;

  /**
   * Reports a browser-side error encountered during the WebAuthn `navigator.credentials.create()` operation.
   * This method sends the error details to the server.
   *
   * @param {ReportBrowserErrorOptions} payload - The browser error details and any custom options.
   * @returns {Promise<void>} A promise that resolves when the error report is successfully submitted.
   * @throws {Error} Throws an error if the submission fails.
   * @example
   * ```typescript
   * // Assuming 'sdk' is an instance of MfaWebAuthnPlatformEnrollment
   * // In the catch block of an attempted passkey creation (e.g. from submitPasskeyCredential):
   * } catch (webAuthnError) {
   *   if (webAuthnError.name) { // Check if it's likely a WebAuthn API error
   *      await sdk.reportBrowserError({ error: { name: webAuthnError.name, message: webAuthnError.message } });
   *   }
   *   // Update UI to show error message to the user
   * }
````


<div id="properties">
  ## Propriétés
</div>

<ParamField body='branding' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/BrandingMembers">BrandingMembers</a></span>}/>

<ParamField body='client' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/ClientMembers">ClientMembers</a></span>}/>

<ParamField body='organization' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/OrganizationMembers">OrganizationMembers</a></span>}/>

<ParamField body='prompt' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/PromptMembers">PromptMembers</a></span>}/>

<ParamField body='screen' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/ScreenMembersOnMfaWebAuthnPlatformEnrollment">ScreenMembersOnMfaWebAuthnPlatformEnrollment</a></span>}>

L’objet d’écran avec une structure de données spécifique à l’inscription AMF (MFA) via la plateforme WebAuthn.

</ParamField>

<ParamField body='tenant' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/TenantMembers">TenantMembers</a></span>}/>

<ParamField body='transaction' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/TransactionMembers">TransactionMembers</a></span>}/>

<ParamField body='untrustedData' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/UntrustedDataMembers">UntrustedDataMembers</a></span>}/>

<ParamField body='user' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/UserMembers">UserMembers</a></span>}/>

<div id="methods">
  ## Méthodes
</div>

<ParamField body='refuseEnrollmentOnThisDevice' type='Promise<void>'>

Permet à l’utilisateur de refuser l’inscription à l’authentificateur de plateforme WebAuthn sur l’appareil actuel.
Cette action indique que l’utilisateur ne souhaite pas utiliser un authentificateur de plateforme sur cet appareil précis.

Une promesse résolue lorsque l’action de refus est envoyée avec succès.

<div id="throws">
  #### Lève
</div>

Lève une erreur si l’envoi échoue.

```typescript Example
// Assuming 'sdk' is an instance of MfaWebAuthnPlatformEnrollment
await sdk.refuseEnrollmentOnThisDevice();
```

<Expandable title="Paramètres">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/CustomOptions">CustomOptions</a></span>}>

Options personnalisées facultatives à inclure avec la requête.

</ParamField>

</Expandable>
</ParamField>

<ParamField body='reportBrowserError' type='Promise<void>'>

Signale une erreur côté navigateur survenue pendant l’opération WebAuthn `navigator.credentials.create()`.
Cette méthode envoie les détails de l’erreur au serveur.

Une promesse résolue lorsque le rapport d’erreur est envoyé avec succès.

<div id="throws">
  #### Lève
</div>

Lève une erreur si l’envoi échoue.

```typescript Example
// Assuming 'sdk' is an instance of MfaWebAuthnPlatformEnrollment
// In the catch block of an attempted passkey creation (e.g. from submitPasskeyCredential):
} catch (webAuthnError) {
  if (webAuthnError.name) { // Check if it's likely a WebAuthn API error
     await sdk.reportBrowserError({ error: { name: webAuthnError.name, message: webAuthnError.message } });
  }
  // Update UI to show error message to the user
}
```

<Expandable title="Paramètres">
<ParamField body='payload' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/ReportBrowserErrorOptions">ReportBrowserErrorOptions</a></span>}>
Les détails de l’erreur du navigateur et d’éventuelles options personnalisées.

**Propriétés**

<ParamField body='error' type='object'>
<Expandable title="propriétés">
  <ParamField body="message" type="string"/>
  <ParamField body="name" type="string"/>
</Expandable>
</ParamField>
</ParamField>

</Expandable>
</ParamField>

<ParamField body='snoozeEnrollment' type='Promise<void>'>

Permet à l’utilisateur de différer ou de remettre à plus tard l’inscription à l’authentificateur de plateforme WebAuthn.
Cette action signifie généralement que l’utilisateur recevra un rappel pour s’inscrire plus tard.

Une promesse résolue lorsque l’action de report est envoyée avec succès.

<div id="throws">
  #### Lève
</div>

Lève une erreur si l’envoi échoue.

```typescript Example
// Assuming 'sdk' is an instance of MfaWebAuthnPlatformEnrollment
await sdk.snoozeEnrollment();
```

<Expandable title="Paramètres">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/CustomOptions">CustomOptions</a></span>}>

Options personnalisées facultatives à inclure avec la requête.

</ParamField>

</Expandable>
</ParamField>

<ParamField body='submitPasskeyCredential' type='Promise<void>'>

Lance le processus de création d’une information d’identification de plateforme WebAuthn en utilisant les options de clé publique
disponibles sur `this.screen.publicKey` et envoie l’information d’identification résultante au serveur.
Cette méthode appelle en interne `createPasskeyCredentials` (qui encapsule `navigator.credentials.create()`).

Une promesse résolue lorsque l’information d’identification est créée et envoyée avec succès.

<div id="throws">
  #### Lève
</div>

Lève une erreur si `this.screen.publicKey` n’est pas disponible, si `createPasskeyCredentials` échoue
(p. ex., annulation par l’utilisateur, problèmes matériels) ou si l’envoi au serveur échoue.

```typescript Example
// Assuming 'sdk' is an instance of MfaWebAuthnPlatformEnrollment
try {
  if (!sdk.screen.publicKey) { // Check if options are available
    throw new Error("Public key creation options are not available on the screen context.");
  }
  await sdk.submitPasskeyCredential(); // No need to pass publicKey explicitly
  // On success, Auth0 handles redirection.
} catch (error) {
  console.error('Passkey enrollment failed:', error);
  // Handle error, potentially by calling reportBrowserError if it's a WebAuthn API error
  if (error.name && error.message) { // Check if it looks like a WebAuthn error
    await sdk.reportBrowserError({ error: { name: error.name, message: error.message } });
  }
}
```

<Expandable title="Paramètres">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/js-sdk/Screens/interfaces/SubmitPasskeyCredentialOptions">SubmitPasskeyCredentialOptions</a></span>}>
Paramètres personnalisés facultatifs à envoyer au serveur
avec l’information d’identification créée.
</ParamField>

</Expandable>
</ParamField>