---
title: "LoginEmailVerificationMembers"
---

LoginEmailVerificationMembers
description Définit les membres (propriétés et méthodes) disponibles pour interagir avec l'écran de vérification du courriel de connexion.
Cet écran est un élément crucial des processus de vérification par courriel, généralement lors de la connexion, où un utilisateur doit démontrer
qu’il est bien le propriétaire d’une adresse de courriel en fournissant un code à usage unique. La Trousse de développement logiciel (SDK) facilite l'envoi de ce code
ou la demande d'un nouveau.

Le `universal_login_context` pour cet écran (`window.universal_login_context`) contient :

- `client` : Renseignements sur l'application Auth0.
- `organization` (optionnel) : Détails lorsque l'authentification vise une organisation spécifique.
- `prompt` : Contexte de l'invite d'authentification en cours (par exemple, 'login').
- `screen` : Textes de l'interface utilisateur et renseignements généraux sur l'écran. Aucun champ `data` propre à l'écran `login-email-verification` n'est défini en plus des champs standards.
- `transaction` : Détails de la transaction en cours, y compris le `state` et les erreurs provenant de tentatives précédentes (par exemple, « invalid-code »).

````ts Example
export interface LoginEmailVerificationMembers extends BaseMembers {
  /**
   * Soumet le code de vérification de courriel saisi par l'utilisateur.
   * Cette action correspond à la saisie du code reçu par courriel par l'utilisateur et
   * au clic sur un bouton « Continuer » ou « Vérifier ». La trousse de développement logiciel (SDK) effectuera ensuite un POST de ce code
   * vers le point de terminaison Auth0 `/u/login-email-verification`.
   *
   * Si le code est valide, Auth0 redirigera généralement l'utilisateur vers l'étape suivante du
   * flux d'authentification. Si le code est invalide, expiré ou qu'une autre erreur se produit,
   * Auth0 effectuera habituellement un nouveau rendu de l'écran login-email-verification, et le
   * tableau `transaction.errors` dans le contexte de la trousse de développement logiciel (SDK) sera mis à jour avec les détails
   * de l'échec (par exemple, code d'erreur `invalid-code`).
   *
   * @param {ContinueWithCodeOptions} payload - Un objet contenant la chaîne `code` saisie par l'utilisateur.
   *                                            Il peut également inclure tout `CustomOptions` pour l'extensibilité.
   * @returns {Promise<void>} Une promesse qui se résout lorsque la soumission du formulaire est initiée.
   *                          Elle ne retourne pas de données directement lors de la résolution, car une redirection ou
   *                          un nouveau rendu de page est le résultat habituel.
   * @throws {Error} Lance une erreur si `payload.code` n'est pas fourni ou n'est pas une chaîne,
   *                 ou si le `FormHandler` rencontre un problème irrécupérable lors de la soumission (par exemple, erreur réseau).
   *                 Les erreurs de validation d'Auth0 (comme un code invalide) ne sont pas lancées comme des erreurs JavaScript
   *                 mais sont reflétées dans `this.transaction.errors` après l'opération.
   *
   * @example
   * ```typescript
   * // En supposant que 'manager' est une instance de LoginEmailVerification
   * const userInputCode = "123456";
   * try {
   *   await manager.continueWithCode({ code: userInputCode });
   *   // En cas de succès, la page redirige. Aucune autre action côté client n'est nécessaire ici.
   * } catch (error) {
   *   // Ce catch est pour les erreurs inattendues, pas pour les erreurs de validation Auth0.
   *   console.error("Échec de la soumission du code de vérification :", error);
   * }
   * // Après l'await, vérifiez toujours manager.transaction.errors pour les problèmes de validation côté serveur.
   * if (manager.transaction.errors && manager.transaction.errors.length > 0) {
   *   manager.transaction.errors.forEach(err => {
   *     if (err.code === 'invalid-code') {
   *       // Afficher « Le code que vous avez saisi est invalide » à l'utilisateur.
   *     }
   *   });
   * }
   * ```
   */
  continueWithCode(payload: ContinueWithCodeOptions): Promise<void>;

  /**
   * Requests a new verification code to be sent to the user's email address.
   * This action is typically invoked when the user clicks a "Resend Code" button, perhaps because
   * they didn't receive the first email, the code expired, or they suspect an issue.
   * The SDK will POST to the Auth0 `/u/login-email-verification` endpoint with an action indicating
   * a resend request.
   *
   * Upon successful submission of this request, Auth0 attempts to send a new email.
   * The page may re-render. If there are issues (e.g., too many resend attempts for the same email,
   * identified by error code `too-many-emails`), `transaction.errors` will be updated.
   *
   * @param {ResendCodeOptions} [payload] - Optional. An object for `CustomOptions` if any
   *                                        additional parameters need to be sent with the request.
   * @returns {Promise<void>} A promise that resolves when the resend request is initiated.
   *                          Like `continueWithCode`, this usually results in a page re-render or state update
   *                          rather than direct data in the promise resolution.
   * @throws {Error} Throws if the `FormHandler` encounters an unrecoverable issue (e.g., network error).
   *                 Server-side errors (like rate limits) are reflected in `this.transaction.errors`.
   *
   * @example
   * ```typescript
   * // Assuming 'manager' is an instance of LoginEmailVerification
   * try {
   *   await manager.resendCode();
   *   // Optionally, update UI to inform the user a new code has been sent.
   *   alert("A new verification code has been dispatched to your email.");
   * } catch (error) {
   *   console.error("Failed to request a new code:", error);
   * }
   * // After the await, check manager.transaction.errors for server-side issues.
   * if (manager.transaction.errors && manager.transaction.errors.length > 0) {
   *   manager.transaction.errors.forEach(err => {
   *     if (err.code === 'too-many-emails') {
   *       // Display "You have requested too many emails. Please wait a few minutes."
   *     }
   *   });
   * }
   * ```
   */
  resendCode(payload?: ResendCodeOptions): Promise<void>;

  /**
   * Gets resend functionality with timeout management for this screen
   * @param options Configuration options for resend functionality
   */
  resendManager(options?: StartResendOptions): ResendControl;
}
````

<div id="properties">
  ## Propriétés
</div>

<ParamField body='branding' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/BrandingMembers">BrandingMembers</a></span>}/>

<ParamField body='client' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ClientMembers">ClientMembers</a></span>}/>

<ParamField body='organization' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/OrganizationMembers">OrganizationMembers</a></span>}/>

<ParamField body='prompt' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/PromptMembers">PromptMembers</a></span>}/>

<ParamField body='screen' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ScreenMembers">ScreenMembers</a></span>}/>

<ParamField body='tenant' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/TenantMembers">TenantMembers</a></span>}/>

<ParamField body='transaction' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/TransactionMembers">TransactionMembers</a></span>}/>

<ParamField body='untrustedData' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/UntrustedDataMembers">UntrustedDataMembers</a></span>}/>

<ParamField body='user' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/UserMembers">UserMembers</a></span>}/>

<div id="methods">
  ## Méthodes
</div>

<ParamField body='continueWithCode' type='Promise<void>'>

Soumet le code de vérification par courriel saisi par l’utilisateur.
Cette action correspond au fait que l’utilisateur saisit le code qu’il a reçu par courriel, puis
clique sur un bouton « Continuer » ou « Vérifier ». Le SDK envoie ensuite ce code
en POST au point de terminaison Auth0 `/u/login-email-verification`.

Si le code est valide, Auth0 redirige généralement l’utilisateur vers l’étape suivante du
flux d’authentification. Si le code est invalide, expiré ou si une autre erreur se produit,
Auth0 réaffiche habituellement l’écran login-email-verification, et le tableau
`transaction.errors` dans le contexte du SDK est mis à jour avec les détails
de l’échec (par exemple, le code d’erreur `invalid-code`).

Une promesse qui est résolue lorsque l’envoi du formulaire est lancé.
                         Elle ne renvoie pas de données directement lors de sa résolution, puisqu’une redirection ou
                         un nouveau rendu de la page est l’issue la plus fréquente.

<div id="throws">
  #### Lève des exceptions
</div>

Lève une erreur si `payload.code` n’est pas fourni ou n’est pas une chaîne de caractères,
                ou si le `FormHandler` rencontre un problème irrécupérable pendant l’envoi (par exemple, une erreur réseau).
                Les erreurs de validation provenant d’Auth0 (comme un code invalide) ne sont pas levées comme des erreurs JavaScript,
                mais sont indiquées dans `this.transaction.errors` après l’opération.

```typescript Example
// En supposant que « manager » est une instance de LoginEmailVerification
const userInputCode = "123456";
try {
  await manager.continueWithCode({ code: userInputCode });
  // En cas de réussite, la page est redirigée. Aucune autre action côté client n’est nécessaire ici.
} catch (error) {
  // Ce bloc catch concerne les erreurs inattendues, et non les erreurs de validation Auth0.
  console.error("Échec de l’envoi du code de vérification :", error);
}
// Après l’await, vérifiez toujours manager.transaction.errors pour les problèmes de validation côté serveur.
if (manager.transaction.errors && manager.transaction.errors.length > 0) {
  manager.transaction.errors.forEach(err => {
    if (err.code === 'invalid-code') {
      // Afficher « Le code que vous avez saisi est invalide » à l’utilisateur.
    }
  });
}
```

<Expandable title="Paramètres">
<ParamField body='payload' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ContinueWithCodeOptionPayload">ContinueWithCodeOptionPayload</a></span>}>
Un objet contenant la chaîne `code` saisie par l’utilisateur.
Il peut également inclure des `CustomOptions` pour permettre l’extensibilité.

**Propriétés**

<ParamField body='code' type='string'>
Le code de vérification envoyé à l’adresse courriel de l’utilisateur. Il s’agit généralement d’une courte chaîne
numérique ou alphanumérique que l’utilisateur doit saisir dans le formulaire.
</ParamField>
</ParamField>

</Expandable>
</ParamField>

<ParamField body='resendCode' type='Promise<void>'>

Demande l'envoi d'un nouveau code de vérification à l'adresse courriel de l'utilisateur.
Cette action est généralement invoquée lorsque l'utilisateur clique sur un bouton « Renvoyer le code », par exemple parce
qu'il n'a pas reçu le premier courriel, que le code a expiré ou qu'il soupçonne un problème.
Le SDK enverra une requête POST au point de terminaison Auth0 `/u/login-email-verification` avec une action indiquant
une demande de renvoi.

Une fois cette demande soumise avec succès, Auth0 tente d'envoyer un nouveau courriel.
La page peut être réaffichée. En cas de problème (p. ex., trop de tentatives de renvoi pour le même courriel,
identifié par le code d'erreur `too-many-emails`), `transaction.errors` sera mis à jour.

Une promesse qui se résout lorsque la demande de renvoi est lancée.
Comme `continueWithCode`, cela entraîne généralement un nouveau rendu de la page ou une mise à jour du state,
plutôt que le retour direct de données dans la résolution de la promesse.

#### Lève

Lève une exception si `FormHandler` rencontre un problème irrécupérable (p. ex., erreur réseau).
                Les erreurs côté serveur (comme les limites de débit) sont reflétées dans `this.transaction.errors`.

```typescript Example
// En supposant que 'manager' est une instance de LoginEmailVerification
try {
  await manager.resendCode();
  // Facultatif : mettre à jour l'interface utilisateur pour informer l'utilisateur qu'un nouveau code a été envoyé.
  alert("Un nouveau code de vérification a été envoyé à votre courriel.");
} catch (error) {
  console.error("Échec de la demande d'un nouveau code :", error);
}
// Après l'await, vérifiez manager.transaction.errors pour les problèmes côté serveur.
if (manager.transaction.errors && manager.transaction.errors.length > 0) {
  manager.transaction.errors.forEach(err => {
    if (err.code === 'too-many-emails') {
      // Afficher « Vous avez demandé trop de courriels. Veuillez attendre quelques minutes. »
    }
  });
}
```

<Expandable title="Paramètres">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ResendCodeOptionsPayload">ResendCodeOptionsPayload</a></span>}>
Facultatif. Un objet `CustomOptions` si des
paramètres supplémentaires doivent être envoyés avec la requête.
</ParamField>

</Expandable>
</ParamField>

<ParamField body='resendManager' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ResendControl">ResendControl</a></span>}>

Obtient la fonctionnalité de renvoi avec gestion du délai d'attente pour cet écran.

<Expandable title="Paramètres">
<ParamField body='options?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/StartResendOptions">StartResendOptions</a></span>}>
Options de configuration pour la fonctionnalité de renvoi.

**Propriétés**

<ParamField body='onStatusChange?' type={<span><a href="/docs-v2/main//docs/libraries/acul/react-sdkScreens/type-aliases/OnStatusChangeCallback">OnStatusChangeCallback</a></span>}/>

<ParamField body='onTimeout' type='void'/>

<ParamField body='timeoutSeconds?' type='number'/>
</ParamField>

</Expandable>
</ParamField>