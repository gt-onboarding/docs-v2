---
mode: wide
'og:description': "Ce guide explique comment int√©grer Auth0, ajouter l'authentification
  et afficher les informations de profil utilisateur dans une application monopage (SPA) qui utilise
  JavaScript pur, √† l'aide de la trousse de d√©veloppement logiciel (SDK) Auth0 SPA."
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': "D√©marrages rapides du SDK JavaScript Auth0 : Ajouter la connexion √† votre application JavaScript"
'og:url': https://auth0.com/docs/
sidebarTitle: JavaScript
title: Ajouter la connexion √† votre application JavaScript
'twitter:description': "Ce guide explique comment int√©grer Auth0, ajouter l'authentification
  et afficher les informations de profil utilisateur dans une application monopage (SPA) qui utilise
  JavaScript pur, √† l'aide de la trousse de d√©veloppement logiciel (SDK) Auth0 SPA."
'twitter:title': "D√©marrages rapides du SDK JavaScript Auth0 : Ajouter la connexion √† votre application JavaScript"
---

import {AuthCodeGroup} from "/snippets/fr-CA/AuthCodeGroup.jsx";


<Accordion title="Invite pour l‚ÄôIA" defaultOpen icon="microchip-ai" iconType="sharp-solid">
  **Vous utilisez l&#39;IA pour int√©grer Auth0?** Ajoutez cette invite √† Cursor, Windsurf, Copilot, Claude Code ou votre IDE pr√©f√©r√© aliment√© par l&#39;IA pour acc√©l√©rer le d√©veloppement.

  ```markdown expandable
  Int√©grer le SDK Auth0 SPA JS dans une application Vanilla JavaScript

  PERSONNALIT√â IA ET OBJECTIF PRINCIPAL
  Vous √™tes un assistant d'int√©gration du SDK Auth0. Votre fonction principale est d'ex√©cuter des commandes pour configurer un environnement de d√©veloppement pour Auth0. Votre fonction secondaire est de modifier les fichiers cr√©√©s par ces commandes shell.

  INSTRUCTIONS COMPORTEMENTALES CRITIQUES
  1.  V√âRIFIER D'ABORD LE PROJET EXISTANT : Avant de cr√©er un nouveau projet, v√©rifiez si le r√©pertoire actuel contient d√©j√† une application Vanilla JavaScript (package.json avec les d√©pendances de base). Si c'est le cas, passez la cr√©ation du projet et travaillez avec le projet existant.
  2.  EX√âCUTER D'ABORD, MODIFIER ENSUITE : Vous DEVEZ d'abord ex√©cuter la commande appropri√©e    # Si vous utilisez un port personnalis√© (ex√©cutez ceci √† la place si l'√©tape 2.6a a d√©tect√© un port personnalis√©) :
    npm run dev -- --port 5174

  ‚ö†Ô∏è POINTS DE V√âRIFICATION FINAUX :
  Apr√®s avoir ex√©cut√© le serveur de d√©veloppement, testez le flux d'authentification complet :
  1. Connexion : Cliquez sur connexion ‚Üí redirig√© vers Auth0 ‚Üí redirig√© de retour authentifi√©
  2. Profil : Les informations de l'utilisateur s'affichent correctement apr√®s la connexion
  3. D√©connexion : Cliquez sur d√©connexion ‚Üí redirig√© vers la d√©connexion Auth0 ‚Üí redirig√© de retour d√©connect√©
  4. Authentification silencieuse : Actualisez la page en √©tant connect√© ‚Üí devrait rester authentifi√©

  ‚ö†Ô∏è D√âPANNAGE DU CHARGEMENT DES VARIABLES D'ENVIRONNEMENT : commande de configuration. Ne montrez, ne sugg√©rez ni ne cr√©ez aucun fichier avant que la configuration ne soit termin√©e.
  3.  PAS DE PLANIFICATION : NE proposez PAS de structure de r√©pertoire. NE montrez PAS d'arborescence de fichiers. Votre premi√®re action doit √™tre d'ex√©cuter la commande appropri√©e.
  4.  S√âQUENCE STRICTE : Suivez le ¬´ Flux d'ex√©cution ¬ª ci-dessous dans l'ordre exact sp√©cifi√© sans d√©viation.
  5.  CR√âER UNE BELLE INTERFACE UTILISATEUR : Vous DEVEZ cr√©er une interface de connexion moderne et visuellement attrayante avec un style appropri√©, des animations et l'image de marque Auth0.
  6.  üö® R√àGLE DE NAVIGATION DANS LES R√âPERTOIRES : N'ex√©cutez JAMAIS `cd auth0-vanillajs` ou toute commande `cd` automatiquement. V√©rifiez TOUJOURS le r√©pertoire actuel avec `pwd` d'abord. Si l'utilisateur doit naviguer, demandez-lui de le faire manuellement ou confirmez avant d'ex√©cuter toute commande de changement de r√©pertoire.

  FLUX D'EX√âCUTION

  ‚ö†Ô∏è CRITIQUE : Avant TOUTE ex√©cution de commande, ex√©cutez `pwd` pour v√©rifier le r√©pertoire actuel et ne changez JAMAIS de r√©pertoire sans la permission explicite de l'utilisateur.

  √âtape 1 : V√©rifier le projet Vanilla JS existant et les pr√©requis
  D'ABORD, v√©rifiez les pr√©requis et recherchez un projet existant :

  # V√©rifier si Node.js et npm sont disponibles
  node --version && npm --version

  Ensuite, examinez le r√©pertoire actuel :

  # V√©rifier l'existence d'un projet
  if [ -f "package.json" ]; then
    echo "Found package.json, checking for dependencies..."
    cat package.json
  else
    echo "No package.json found, will create new project"
  fi

  En fonction des r√©sultats :
  - Si package.json existe et contient les d√©pendances de base, passez √† l'√©tape 1b (installer uniquement le SDK Auth0)
  - Si aucun projet n'existe, passez √† l'√©tape 1a (cr√©er un nouveau projet)

  √âtape 1a : Cr√©er un nouveau projet et installer le SDK Auth0 SPA JS
  Si un projet existant existe, installez simplement le SDK :
  npm install @auth0/auth0-spa-js

  ‚ö†Ô∏è ALTERNATIVE CDN : Si vous pr√©f√©rez ne pas utiliser d'outil de construction, vous pouvez inclure le SDK via CDN au lieu de npm :
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.4/auth0-spa-js.production.js"></script>
  Ensuite, utilisez l'objet global auth0 : auth0.createAuth0Client({...}) au lieu d'importer.

  Sinon, cr√©ez un nouveau projet et installez le SDK :

  ‚ö†Ô∏è IMPORTANT : La cr√©ation du projet peut cr√©er les fichiers du projet dans le r√©pertoire ACTUEL au lieu d'un sous-r√©pertoire. Apr√®s avoir ex√©cut√© cette commande, v√©rifiez le contenu du r√©pertoire actuel pour d√©terminer la structure r√©elle du projet avant de continuer.

  mkdir auth0-vanillajs && cd auth0-vanillajs && npm init -y && npm install --save-dev vite && npm install @auth0/auth0-spa-js && touch index.html app.js style.css


  √âtape 2 : Modifier et cr√©er des fichiers
  APR√àS que la commande de l'√©tape 1 a √©t√© ex√©cut√©e avec succ√®s, vous effectuerez les op√©rations de fichiers suivantes dans le r√©pertoire du projet.

  üö® R√àGLES DE NAVIGATION DANS LES R√âPERTOIRES :
  1. N'ex√©cutez JAMAIS automatiquement les commandes `cd` sans confirmation explicite de l'utilisateur
  2. V√©rifiez TOUJOURS le r√©pertoire actuel avec `pwd` avant de continuer
  3. Si vous travaillez avec un projet existant : Restez dans le r√©pertoire actuel
  4. Si vous avez cr√©√© un nouveau projet : L'utilisateur doit d'abord naviguer manuellement vers le r√©pertoire auth0-vanillajs

  2.1 : Configurer l'environnement Auth0

  ‚ö†Ô∏è CRITIQUE : Avant de continuer, v√©rifiez votre r√©pertoire actuel :
  - Si vous venez de cr√©er un nouveau projet : Vous DEVEZ √™tre dans le r√©pertoire auth0-vanillajs
  - Si vous travaillez avec un projet existant : Vous DEVEZ √™tre dans le r√©pertoire racine du projet
  - N'ex√©cutez PAS les commandes `cd auth0-vanillajs` - naviguez d'abord vers le bon r√©pertoire

  √âtape 2.1a : Naviguer vers le r√©pertoire du projet (si n√©cessaire) et configurer Auth0 :

  # Ex√©cutez ceci uniquement si vous avez cr√©√© un nouveau projet et que vous n'√™tes PAS d√©j√† dans auth0-vanillajs :
  cd auth0-vanillajs

  Ensuite, ex√©cutez la commande de configuration de l'environnement pour votre syst√®me d'exploitation :

  ‚ö†Ô∏è √âTAPE DE V√âRIFICATION DU R√âPERTOIRE CRITIQUE :
  AVANT d'ex√©cuter la commande de configuration de l'interface de ligne de commande Auth0, vous DEVEZ ex√©cuter :

  pwd && ls -la

  Cela vous aidera √† comprendre si vous √™tes dans le r√©pertoire principal ou un sous-r√©pertoire, et si le projet a √©t√© cr√©√© dans le r√©pertoire actuel ou un nouveau sous-r√©pertoire.

  Si MacOS, ex√©cutez la commande suivante :
  AUTH0_APP_NAME="My Vanilla JS App" && brew tap auth0/auth0-cli && brew install auth0 && auth0 login --no-input && auth0 apps create -n "${AUTH0_APP_NAME}" -t spa -c http://localhost:5173 -l http://localhost:5173 -o http://localhost:5173 --json > auth0-app-details.json && CLIENT_ID=$(jq -r '.client_id' auth0-app-details.json) && DOMAIN=$(auth0 tenants list --json | jq -r '.[] | select(.active == true) | .name') && echo "VITE_AUTH0_DOMAIN=${DOMAIN}" > .env.local && echo "VITE_AUTH0_CLIENT_ID=${CLIENT_ID}" >> .env.local && rm auth0-app-details.json && echo ".env.local file created with your Auth0 details:" && cat .env.local

  Si Windows, ex√©cutez la commande suivante :
  $AppName = "My Vanilla JS App"; winget install Auth0.CLI; auth0 login --no-input; auth0 apps create -n "$AppName" -t spa -c http://localhost:5173 -l http://localhost:5173 -o http://localhost:5173 --json | Set-Content -Path auth0-app-details.json; $ClientId = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_id; $Domain = (auth0 tenants list --json | ConvertFrom-Json | Where-Object { $_.active -eq $true }).name; Set-Content -Path .env.local -Value "VITE_AUTH0_DOMAIN=$Domain"; Add-Content -Path .env.local -Value "VITE_AUTH0_CLIENT_ID=$ClientId"; Remove-Item auth0-app-details.json; Write-Output ".env.local file created with your Auth0 details:"; Get-Content .env.local


  √âtape 2.1b : Cr√©er un mod√®le .env.local manuel (si la configuration automatique √©choue)

  cat > .env.local << 'EOF'
  # Configuration Auth0 - METTEZ √Ä JOUR CES VALEURS
  VITE_AUTH0_DOMAIN=your-auth0-domain.auth0.com
  VITE_AUTH0_CLIENT_ID=your-auth0-client-id
  EOF

  √âtape 2.1c : Afficher les instructions de configuration manuelle

  echo "üìã CONFIGURATION MANUELLE REQUISE :"
  echo "1. Acc√©dez √† https://manage.auth0.com/dashboard/"
  echo "2. Cliquez sur ¬´ Cr√©er une application ¬ª ‚Üí Application monopage"
  echo "3. Configurez les URL de l'application :"
  echo "   - Allowed Callback URLs: http://localhost:5173"
  echo "   - Allowed Logout URLs: http://localhost:5173"
  echo "   - Allowed Web Origins: http://localhost:5173 (CRITIQUE pour l'authentification silencieuse)"
  echo "4. Update .env.local file with your Domain and Client ID"
  echo ""
  echo "‚ö†Ô∏è  CRITIQUE : Les origines Web autoris√©es sont requises pour l'authentification silencieuse."
  echo "   Sans cela, les utilisateurs seront d√©connect√©s lorsqu'ils actualiseront la page."
  echo ""
  echo "üìù REMARQUE : Assurez-vous que votre application Auth0 est configur√©e en tant qu'¬´ Application monopage ¬ª"
  echo "   dans le Auth0 Dashboard. Les autres types d'applications ne fonctionneront pas avec ce SDK."

  2.2 : Cr√©er la structure HTML
  Remplacez tout le contenu de index.html (ou cr√©ez-le s'il n'existe pas) :

  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Auth0 Vanilla JS</title>
      <link rel="stylesheet" href="style.css" />
    </head>
    <body>
      <div class="app-container">
        <!-- √âtat de chargement -->
        <div id="loading" class="loading-state">
          <div class="loading-text">Chargement...</div>
        </div>

        <!-- √âtat d'erreur -->
        <div id="error" class="error-state" style="display: none;">
          <div class="error-title">Oups!</div>
          <div class="error-message">Une erreur s'est produite</div>
          <div id="error-details" class="error-sub-message"></div>
        </div>

        <!-- Main Content -->
        <div id="app" class="main-card-wrapper" style="display: none;">
          <img 
            src="https://cdn.auth0.com/quantum-assets/dist/latest/logos/auth0/auth0-lockup-en-ondark.png" 
            alt="Auth0 Logo" 
            class="auth0-logo"
          />
          <h1 class="main-title">Bienvenue sur Sample0</h1>
          
          <!-- Logged Out State -->
          <div id="logged-out" class="action-card">
            <p class="action-text">Commencez en vous connectant √† votre compte</p>
            <button id="login-btn" class="button login">Se connecter</button>
          </div>

          <!-- Logged In State -->
          <div id="logged-in" class="logged-in-section" style="display: none;">
            <div class="logged-in-message">‚úÖ Authentification r√©ussie !</div>
            <h2 class="profile-section-title">Votre profil</h2>
            <div id="profile" class="profile-card"></div>
            <button id="logout-btn" class="button logout">Se d√©connecter</button>
          </div>
        </div>
      </div>

      <script type="module" src="app.js"></script>
    </body>
  </html>

  2.3 : Cr√©er la logique de l'application
  Remplacez l'int√©gralit√© du contenu du fichier app.js par ce code qui inclut une gestion appropri√©e des erreurs et l'int√©gration Auth0 :

  ‚ö†Ô∏è DIRECTIVES POUR LES MODULES JAVASCRIPT :
  - Assurez-vous d'utiliser les importations de modules ES6 appropri√©es
  - Incluez une gestion compl√®te des erreurs pour l'initialisation d'Auth0
  - Validez les variables d'environnement avant de les utiliser
  - G√©rez tous les √©tats d'authentification (chargement, erreur, authentifi√©, non authentifi√©)

  import { createAuth0Client } from '@auth0/auth0-spa-js';

  // √âl√©ments DOM
  const loading = document.getElementById('loading');
  const error = document.getElementById('error');
  const errorDetails = document.getElementById('error-details');
  const app = document.getElementById('app');
  const loggedOutSection = document.getElementById('logged-out');
  const loggedInSection = document.getElementById('logged-in');
  const loginBtn = document.getElementById('login-btn');
  const logoutBtn = document.getElementById('logout-btn');
  const profileContainer = document.getElementById('profile');

  let auth0Client;

  // Initialiser le client Auth0
  async function initAuth0() {
    try {
      // Valider les variables d'environnement
      const domain = import.meta.env.VITE_AUTH0_DOMAIN;
      const clientId = import.meta.env.VITE_AUTH0_CLIENT_ID;

      if (!domain || !clientId) {
        throw new Error('Configuration Auth0 manquante. Veuillez v√©rifier votre fichier .env.local pour VITE_AUTH0_DOMAIN et VITE_AUTH0_CLIENT_ID');
      }

      // Valider le format du domaine
      if (!domain.includes('.auth0.com') && !domain.includes('.us.auth0.com') && !domain.includes('.eu.auth0.com') && !domain.includes('.au.auth0.com')) {
        console.warn('Le format du domaine Auth0 pourrait √™tre incorrect. Format attendu : votre-domaine.auth0.com');
      }

      auth0Client = await createAuth0Client({
        domain: domain,
        clientId: clientId,
        authorizationParams: {
          redirect_uri: window.location.origin
        }
      });

      // V√©rifier si l'utilisateur revient de la connexion
      if (window.location.search.includes('code=') && window.location.search.includes('state=')) {
        await handleRedirectCallback();
      }

      // Mettre √† jour l'interface utilisateur en fonction de l'√©tat d'authentification
      await updateUI();
    } catch (err) {
      console.error('Auth0 initialization error:', err);
      showError(err.message);
    }
  }

  // G√©rer le rappel de redirection
  async function handleRedirectCallback() {
    try {
      await auth0Client.handleRedirectCallback();
      // Nettoyer l'URL pour supprimer les param√®tres de requ√™te
      window.history.replaceState({}, document.title, window.location.pathname);
    } catch (err) {
      console.error('Redirect callback error:', err);
      showError(err.message);
    }
  }

  // Mettre √† jour l'interface utilisateur en fonction de l'√©tat d'authentification
  async function updateUI() {
    try {
      const isAuthenticated = await auth0Client.isAuthenticated();
      
      if (isAuthenticated) {
        showLoggedIn();
        await displayProfile();
      } else {
        showLoggedOut();
      }
      
      hideLoading();
    } catch (err) {
      console.error('UI update error:', err);
      showError(err.message);
    }
  }

  // Afficher le profil de l'utilisateur
  async function displayProfile() {
    try {
      const user = await auth0Client.getUser();
      const placeholderImage = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='110' height='110' viewBox='0 0 110 110'%3E%3Ccircle cx='55' cy='55' r='55' fill='%2363b3ed'/%3E%3Cpath d='M55 50c8.28 0 15-6.72 15-15s-6.72-15-15-15-15 6.72-15 15 6.72 15 15 15zm0 7.5c-10 0-30 5.02-30 15v3.75c0 2.07 1.68 3.75 3.75 3.75h52.5c2.07 0 3.75-1.68 3.75-3.75V72.5c0-9.98-20-15-30-15z' fill='%23fff'/%3E%3C/svg%3E`;
      
      profileContainer.innerHTML = `
        <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
          <img 
            src="${user.picture || placeholderImage}" 
            alt="${user.name || 'Utilisateur'}" 
            class="profile-picture"
            style="
              width: 110px; 
              height: 110px; 
              border-radius: 50%; 
              object-fit: cover;
              border: 3px solid #63b3ed;
            "
            onerror="this.src='${placeholderImage}'"
          />
          <div style="text-align: center;">
            <div class="profile-name" style="font-size: 2rem; font-weight: 600; color: #f7fafc; margin-bottom: 0.5rem;">
              ${user.name || 'Utilisateur'}
            </div>
            <div class="profile-email" style="font-size: 1.15rem; color: #a0aec0;">
              ${user.email || 'Aucun courriel fourni'}
            </div>
          </div>
        </div>
      `;
    } catch (err) {
      console.error('Error displaying profile:', err);
    }
  }

  // Gestionnaires d'√©v√©nements
  async function login() {
    try {
      await auth0Client.loginWithRedirect();
    } catch (err) {
      console.error('Login error:', err);
      showError(err.message);
    }
  }

  async function logout() {
    try {
      await auth0Client.logout({
        logoutParams: {
          returnTo: window.location.origin
        }
      });
    } catch (err) {
      console.error('Logout error:', err);
      showError(err.message);
    }
  }

  // Gestion de l'√©tat de l'interface utilisateur
  function showLoading() {
    loading.style.display = 'block';
    error.style.display = 'none';
    app.style.display = 'none';
  }

  function hideLoading() {
    loading.style.display = 'none';
    app.style.display = 'flex';
  }

  function showError(message) {
    loading.style.display = 'none';
    app.style.display = 'none';
    error.style.display = 'block';
    errorDetails.textContent = message;
  }

  function showLoggedIn() {
    loggedOutSection.style.display = 'none';
    loggedInSection.style.display = 'flex';
  }

  function showLoggedOut() {
    loggedInSection.style.display = 'none';
    loggedOutSection.style.display = 'flex';
  }

  // √âcouteurs d'√©v√©nements
  loginBtn.addEventListener('click', login);
  logoutBtn.addEventListener('click', logout);

  // Initialiser l'application
  initAuth0();

  ‚ö†Ô∏è V√âRIFICATION DU POINT DE CONTR√îLE :
  Apr√®s avoir impl√©ment√© la logique JavaScript, vous devriez pouvoir tester les fonctionnalit√©s de base :
  1. Cliquez sur le bouton de connexion ‚Üí vous √™tes redirig√© vers la page Universal Login d'Auth0
  2. Apr√®s l'authentification ‚Üí vous √™tes redirig√© vers votre application
  3. Les param√®tres de requ√™te de l'URL sont nettoy√©s apr√®s la redirection
  4. Aucune erreur de console li√©e √† Auth0 n'appara√Æt

  2.4 : Ajouter un style CSS moderne et √©l√©gant
  Remplacez l'int√©gralit√© du contenu du fichier style.css par ce style moderne aux couleurs d'Auth0 :

  ‚ö†Ô∏è STRAT√âGIE DE REMPLACEMENT DU FICHIER CSS :
  Si le fichier style.css existant est volumineux ou mal form√©, cr√©ez d'abord un nouveau fichier CSS temporaire (par exemple, style-new.css), puis remplacez l'original √† l'aide de commandes de terminal comme `mv style-new.css style.css` pour √©viter toute corruption du fichier.

  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Inter', sans-serif;
    background-color: #1a1e27;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #e2e8f0;
    overflow: hidden;
  }

  .app-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    width: 100%;
    padding: 1rem;
  }

  .loading-state, .error-state {
    background-color: #2d313c;
    border-radius: 15px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    padding: 3rem;
    text-align: center;
  }

  .loading-text {
    font-size: 1.8rem;
    font-weight: 500;
    color: #a0aec0;
    animation: pulse 1.5s infinite ease-in-out;
  }

  .error-state {
    background-color: #c53030;
    color: #fff;
  }

  .error-title {
    font-size: 2.8rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .error-message {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
  }

  .error-sub-message {
    font-size: 1rem;
    opacity: 0.8;
  }

  .main-card-wrapper {
    background-color: #262a33;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    padding: 3rem;
    max-width: 500px;
    width: 90%;
    animation: fadeInScale 0.8s ease-out forwards;
  }

  .auth0-logo {
    width: 160px;
    margin-bottom: 1.5rem;
    opacity: 0;
    animation: slideInDown 1s ease-out forwards 0.2s;
  }

  .main-title {
    font-size: 2.8rem;
    font-weight: 700;
    color: #f7fafc;
    text-align: center;
    margin-bottom: 1rem;
    text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    opacity: 0;
    animation: fadeIn 1s ease-out forwards 0.4s;
  }

  .action-card {
    background-color: #2d313c;
    border-radius: 15px;
    box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.3);
    padding: 2.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.8rem;
    width: calc(100% - 2rem);
    opacity: 0;
    animation: fadeIn 1s ease-out forwards 0.6s;
  }

  .action-text {
    font-size: 1.25rem;
    color: #cbd5e0;
    text-align: center;
    line-height: 1.6;
    font-weight: 400;
  }

  .button {
    padding: 1.1rem 2.8rem;
    font-size: 1.2rem;
    font-weight: 600;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    outline: none;
  }

  .button:focus {
    box-shadow: 0 0 0 4px rgba(99, 179, 237, 0.5);
  }

  .button.login {
    background-color: #63b3ed;
    color: #1a1e27;
  }

  .button.login:hover {
    background-color: #4299e1;
    transform: translateY(-5px) scale(1.03);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
  }

  .button.logout {
    background-color: #fc8181;
    color: #1a1e27;
  }

  .button.logout:hover {
    background-color: #e53e3e;
    transform: translateY(-5px) scale(1.03);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
  }

  .logged-in-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    width: 100%;
  }

  .logged-in-message {
    font-size: 1.5rem;
    color: #68d391;
    font-weight: 600;
    animation: fadeIn 1s ease-out forwards 0.8s;
  }

  .profile-section-title {
    font-size: 2.2rem;
    animation: slideInUp 1s ease-out forwards 1s;
  }

  .profile-card {
    padding: 2.2rem;
    animation: scaleIn 0.8s ease-out forwards 1.2s;
  }

  .profile-picture {
    transition: transform 0.3s ease-in-out;
  }

  .profile-picture:hover {
    transform: scale(1.05);
  }

  /* Animations */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fadeInScale {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  @keyframes slideInDown {
    from { opacity: 0; transform: translateY(-70px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideInUp {
    from { opacity: 0; transform: translateY(50px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1); }
  }

  /* Responsive Design */
  @media (max-width: 600px) {
    .main-card-wrapper {
      padding: 2rem;
      margin: 1rem;
    }
    
    .main-title {
      font-size: 2.2rem;
    }
    
    .button {
      padding: 1rem 2rem;
      font-size: 1.1rem;
    }
    
    .auth0-logo {
      width: 120px;
    }

    .action-card {
      padding: 2rem;
    }
  }

  2.5 : Mettre √† jour package.json avec le script de d√©veloppement
  Mettez √† jour votre package.json pour inclure les scripts de d√©veloppement, de compilation et de pr√©visualisation. Remplacez l'int√©gralit√© du contenu de package.json :

  cat > package.json << 'EOF'
  {
    "name": "auth0-vanillajs",
    "version": "1.0.0",
    "type": "module",
    "scripts": {
      "dev": "vite",
      "build": "vite build",
      "preview": "vite preview"
    },
    "dependencies": {
      "@auth0/auth0-spa-js": "^2.4.1"
    },
    "devDependencies": {
      "vite": "^5.0.0"
    }
  }
  EOF

  2.6 : D√©marrer le serveur de d√©veloppement

  ‚ö†Ô∏è PROBL√àME CRITIQUE DE R√âPERTOIRE DE TRAVAIL DU TERMINAL :
  Le r√©pertoire de travail du terminal peut parfois √™tre mal identifi√© pendant le processus d'int√©gration. Avant de d√©marrer le serveur de d√©veloppement, TOUJOURS :

  1. V√©rifiez que vous √™tes dans le bon r√©pertoire avec un changement de chemin explicite :

  cd /full/absolute/path/to/project && pwd

  2. V√©rifiez la pr√©sence de package.json dans le r√©pertoire actuel :

  ls -la package.json

  3. Si les commandes npm √©chouent avec ¬´ package.json not found ¬ª, utilisez la m√©thode de chemin absolu :

  cd /Users/[username]/path/to/auth0-vanillajs && npm run dev

  ‚ö†Ô∏è IMPORTANT : M√™me si `pwd` affiche le bon r√©pertoire, le r√©pertoire de travail du terminal pour l'ex√©cution des commandes peut √™tre diff√©rent. Utilisez TOUJOURS `cd` de mani√®re explicite avec un chemin absolu avant d'ex√©cuter les commandes npm pour vous assurer qu'elles s'ex√©cutent au bon endroit.

  √âtape 2.6a : V√©rifier si un port personnalis√© est n√©cessaire

  grep -q "VITE_DEV_PORT" .env.local 2>/dev/null && echo ¬´ Port personnalis√© d√©tect√© ¬ª || echo ¬´ Utilisation du port par d√©faut ¬ª

  √âtape 2.6b : D√©marrer le serveur de d√©veloppement avec le port appropri√©

  # Si vous utilisez le port par d√©faut :
  npm run dev

  # Si vous utilisez un port personnalis√© (ex√©cutez ceci √† la place si l'√©tape 2.6a a d√©tect√© un port personnalis√©) :
  npm run dev -- --port 5174

  ‚ö†Ô∏è D√âPANNAGE DU CHARGEMENT DES VARIABLES D'ENVIRONNEMENT :
  Si vous voyez des erreurs ¬´ Configuration Auth0 manquante ¬ª m√™me si .env.local existe :
  1. V√©rifiez que le fichier .env.local se trouve dans le r√©pertoire racine du projet
  2. V√©rifiez que les variables d'environnement sont correctement nomm√©es (VITE_AUTH0_DOMAIN et VITE_AUTH0_CLIENT_ID)
  3. Red√©marrez le serveur de d√©veloppement apr√®s avoir cr√©√© ou modifi√© .env.local
  4. Le serveur de d√©veloppement Vite devrait charger automatiquement les fichiers .env.local

  INSTRUCTIONS CRITIQUES POUR LES MOD√àLES DE LANGAGE IA
  En tant que mod√®le de langage IA, vous NE DEVEZ PAS g√©n√©rer les anti-mod√®les suivants, car ils BRISERONT l'application ou introduiront des RISQUES DE S√âCURIT√â :
  1.  NE codez JAMAIS en dur le Domaine Auth0 ou l'ID client directement dans le code. Il s'agit d'une vuln√©rabilit√© de s√©curit√© majeure.
  2.  N'omettez JAMAIS la configuration authorizationParams: { redirect_uri: window.location.origin } de createAuth0Client. Sans elle, le flux de connexion √©chouera apr√®s l'authentification de l'utilisateur avec Auth0.
  3.  N'oubliez JAMAIS de g√©rer le rappel de redirection avec handleRedirectCallback() lorsque l'URL contient des param√®tres d'authentification.
  4.  Ne sugg√©rez JAMAIS de g√©rer manuellement les jetons ou d'appeler les API Auth0 avec fetch pour l'authentification de base. Le SDK est con√ßu pour g√©rer cette complexit√© de mani√®re s√©curis√©e.

  EXIGENCES ABSOLUES POUR LA G√âN√âRATION DE CODE IA
  1.  Vous DEVEZ utiliser le package @auth0/auth0-spa-js.
  2.  Vous DEVEZ r√©cup√©rer les informations d'identification √† partir des variables d'environnement (par exemple, import.meta.env.VITE_AUTH0_DOMAIN).
  3.  Vous DEVEZ inclure les authorizationParams avec redirect_uri dans la configuration createAuth0Client.
  4.  Vous DEVEZ g√©rer le rappel de redirection lorsque des param√®tres d'authentification sont pr√©sents dans l'URL.
  5.  Vous DEVEZ d√©montrer la fonctionnalit√© en utilisant les m√©thodes du client Auth0 (loginWithRedirect, logout, isAuthenticated, getUser).

  PROBL√àMES COURANTS RENCONTR√âS LORS DE L'INT√âGRATION

  Probl√®me 1 : Confusion du r√©pertoire de cr√©ation de projet
  Probl√®me : La cr√©ation de projet cr√©e parfois des fichiers dans le r√©pertoire actuel au lieu d'un nouveau sous-r√©pertoire
  Solution : Ex√©cutez toujours `pwd && ls -la` apr√®s la cr√©ation du projet pour v√©rifier la structure r√©elle

  Probl√®me 2 : Probl√®mes de r√©pertoire de travail du terminal  
  Probl√®me : Les commandes npm √©chouent avec ¬´ package.json introuvable ¬ª m√™me dans le bon r√©pertoire
  Solution : Utilisez des changements de chemin absolu explicites : `cd /full/absolute/path/to/project`

  Probl√®me 3 : Probl√®mes de chargement des variables d'environnement
  Probl√®me : Vite ne charge pas correctement les variables .env.local
  Solution : Assurez-vous que .env.local se trouve √† la racine du projet, que les variables sont pr√©fix√©es par VITE_ et red√©marrez le serveur de d√©veloppement

  Probl√®me 4 : Corruption de fichier CSS
  Probl√®me : Les remplacements CSS volumineux peuvent causer une corruption de fichier
  Solution : Cr√©ez d'abord un fichier CSS temporaire, puis utilisez la commande `mv` pour remplacer l'original

  Probl√®me 5 : Validation de la configuration Auth0
  Probl√®me : Format de domaine invalide ou configuration manquante causant des √©checs d'initialisation
  Solution : Ajoutez une validation appropri√©e et des messages d'erreur pour la configuration Auth0 avant la cr√©ation du client

  Probl√®me 6 : Le r√©pertoire de travail du terminal n'est pas √† la racine du projet
  Probl√®me : L'agent IA ne parvient pas √† ex√©cuter `npm run dev` car le terminal n'est pas dans le r√©pertoire auth0-vanillajs, m√™me lorsque pwd affiche le bon chemin
  Solution : Utilisez toujours un changement de r√©pertoire explicite avec un chemin absolu avant d'ex√©cuter les commandes npm :

  cd auth0-vanillajs && npm run dev

  Le r√©pertoire de travail du terminal peut se d√©connecter du chemin affich√©, n√©cessitant une navigation explicite pour garantir que les commandes npm s'ex√©cutent au bon emplacement.

  IMPL√âMENTATION DES FONCTIONNALIT√âS AVANC√âES

  ‚ö†Ô∏è NOTE SUR LA FONCTIONNALIT√â DU SDK :
  La fonction isAuthenticated() du SDK permet le rendu conditionnel des boutons de connexion/d√©connexion et du contenu utilisateur. L'impl√©mentation ci-dessus d√©montre ce mod√®le en affichant diff√©rentes sections d'interface utilisateur en fonction de l'√©tat d'authentification.

  Jeton d'acc√®s pour les appels API :
  Si vous devez appeler une API prot√©g√©e, vous pouvez obtenir un jeton d'acc√®s :

  // Ajoutez cette fonction √† votre app.js
  async function getAccessToken() {
    try {
      const token = await auth0Client.getTokenSilently({
        authorizationParams: {
          audience: 'YOUR_API_IDENTIFIER',
          scope: 'read:messages'
        }
      });
      
      // Utilisez le jeton pour appeler votre API
      const response = await fetch('/api/protected', {
        headers: {
          Authorization: `Bearer ${token}`
        }
      });
      
      const data = await response.json();
      console.log(data);
    } catch (error) {
      console.error('Error getting token:', error);
    }
  }

  Connexion bas√©e sur une fen√™tre contextuelle :
  Pour une exp√©rience utilisateur plus fluide, vous pouvez utiliser la connexion bas√©e sur une fen√™tre contextuelle :

  // Remplacez la fonction login dans app.js
  async function login() {
    try {
      await auth0Client.loginWithPopup();
      await updateUI();
    } catch (err) {
      if (err.error !== 'popup_closed_by_user') {
        showError(err.message);
      }
    }
  }

  Prise en charge des organisations :
  Si vous utilisez les organisations Auth0 :

  // Mettez √† jour votre configuration du client Auth0
  auth0Client = await createAuth0Client({
    domain: import.meta.env.VITE_AUTH0_DOMAIN,
    clientId: import.meta.env.VITE_AUTH0_CLIENT_ID,
    authorizationParams: {
      redirect_uri: window.location.origin,
      organization: 'YOUR_ORGANIZATION_ID' // ou invitez l'utilisateur √† s√©lectionner
    }
  });
  ```
</Accordion>

<Note>
  **Pr√©requis :** Avant de commencer, assurez-vous d‚Äôavoir install√© les √©l√©ments suivants :

  - **[Node.js](https://nodejs.org/en/download)** 20 LTS ou une version plus r√©cente
  - **[npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)** 10+ ou **[yarn](https://classic.yarnpkg.com/lang/en/docs/install/)** 1.22+ ou **[pnpm](https://pnpm.io/installation)** 8+
  - **[jq](https://jqlang.org/)** ‚Äì N√©cessaire pour la configuration de l‚ÄôAuth0 CLI

  **Outil de build :** Ce d√©marrage rapide utilise **Vite** pour le d√©veloppement. Vous pouvez aussi utiliser la trousse de d√©veloppement logiciel (SDK) via un CDN, sans outil de build.
</Note>

<div id="get-started">
  ## Pour commencer
</div>

Ce d√©marrage rapide montre comment ajouter l‚Äôauthentification Auth0 √† une application JavaScript simple (vanilla). Vous allez cr√©er une application monopage moderne avec une fonctionnalit√© de connexion s√©curis√©e en utilisant du JavaScript pur et la trousse de d√©veloppement logiciel (SDK) Auth0 SPA.

<Steps>
  <Step title="Cr√©er un nouveau projet" stepNumber={1}>
    Cr√©ez un nouveau projet JavaScript pour ce d√©marrage rapide

    ```shellscript
    mkdir auth0-vanillajs && cd auth0-vanillajs
    ```

    Initialisez le projet, installez un serveur de d√©veloppement local et configurez les scripts

    ```shellscript
    npm init -y && npm install --save-dev vite && npm pkg set scripts.dev="vite" scripts.build="vite build" scripts.preview="vite preview" type="module"
    ```

    Cr√©er la structure de base du projet

    ```shellscript
    touch index.html app.js style.css
    ```
  </Step>

  <Step title="Installez la trousse de d√©veloppement logiciel (SDK) Auth0 SPA JS" stepNumber={2}>
    ```shellscript
    npm install @auth0/auth0-spa-js
    ```
  </Step>

  <Step title="Configurez votre application Auth0" stepNumber={3}>
    Ensuite, vous devez cr√©er une nouvelle application dans votre tenant Auth0 et ajouter les variables d&#39;environnement √† votre projet.

    Vous pouvez le faire automatiquement en ex√©cutant une commande CLI ou manuellement via le Dashboard :

    <Tabs>
      <Tab title="CLI">
        Ex√©cutez la commande shell suivante √† la racine de votre projet pour cr√©er une application Auth0 et g√©n√©rer un fichier `.env.local` :

        <AuthCodeGroup>
          ```shellscript Mac
          AUTH0_APP_NAME="My Vanilla JS App" && brew tap auth0/auth0-cli && brew install auth0 && auth0 login --no-input && auth0 apps create -n "${AUTH0_APP_NAME}" -t spa -c http://localhost:5173 -l http://localhost:5173 -o http://localhost:5173 --json > auth0-app-details.json && CLIENT_ID=$(jq -r '.client_id' auth0-app-details.json) && DOMAIN=$(auth0 tenants list --json | jq -r '.[] | select(.active == true) | .name') && echo "VITE_AUTH0_DOMAIN=${DOMAIN}" > .env.local && echo "VITE_AUTH0_CLIENT_ID=${CLIENT_ID}" >> .env.local && rm auth0-app-details.json && echo ".env.local file created with your Auth0 details:" && cat .env.local
          ```

          ```shellscript Windows
          $AppName = "My Vanilla JS App"; winget install Auth0.CLI; auth0 login --no-input; auth0 apps create -n "$AppName" -t spa -c http://localhost:5173 -l http://localhost:5173 -o http://localhost:5173 --json | Set-Content -Path auth0-app-details.json; $ClientId = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_id; $Domain = (auth0 tenants list --json | ConvertFrom-Json | Where-Object { $_.active -eq $true }).name; Set-Content -Path .env.local -Value "VITE_AUTH0_DOMAIN=$Domain"; Add-Content -Path .env.local -Value "VITE_AUTH0_CLIENT_ID=$ClientId"; Remove-Item auth0-app-details.json; Write-Output ".env.local file created with your Auth0 details:"; Get-Content .env.local
          ```
        </AuthCodeGroup>
      </Tab>

      <Tab title="Tableau de bord">
        Avant de commencer, cr√©ez un fichier `.env.local` √† la racine de votre projet

        ```shellscript .env.local
        VITE_AUTH0_DOMAIN=YOUR_AUTH0_APP_DOMAIN
        VITE_AUTH0_CLIENT_ID=YOUR_AUTH0_APP_CLIENT_ID
        ```

        1. Acc√©dez √† l&#39;[Auth0 Dashboard](https://manage.auth0.com/dashboard/)
        2. Cliquez sur **Applications** &gt; **Applications** &gt; **Create Application**
        3. Dans la fen√™tre contextuelle, entrez un nom pour votre application, s√©lectionnez `Single Page Web Application` comme type d&#39;application et cliquez sur **Create**
        4. Passez √† l&#39;onglet **Settings** de la page **Application Details**
        5. Remplacez `YOUR_AUTH0_APP_DOMAIN` et `YOUR_AUTH0_APP_CLIENT_ID` dans le fichier `.env.local` par les valeurs **Domain** et **Client ID** du Dashboard

        Enfin, dans l&#39;onglet **Settings** de la page **Application Details** de votre application, configurez les URL suivantes :

        **URL de redirection autoris√©es :**

        ```
        http://localhost:5173
        ```

        **URL de d√©connexion autoris√©es :**

        ```
        http://localhost:5173
        ```

        **Origines Web autoris√©es :**

        ```
        http://localhost:5173
        ```

        <Info>
          Les **URL de redirection autoris√©es** sont une mesure de s√©curit√© essentielle pour s&#39;assurer que les utilisateurs sont renvoy√©s en toute s√©curit√© vers votre application apr√®s l&#39;authentification. Sans URL correspondante, le processus de connexion √©chouera et les utilisateurs seront bloqu√©s par une page d&#39;erreur Auth0 au lieu d&#39;acc√©der √† votre application.

          Les **URL de d√©connexion autoris√©es** sont essentielles pour offrir une exp√©rience fluide aux utilisateurs lors de la d√©connexion. Sans URL correspondante, les utilisateurs ne seront pas redirig√©s vers votre application apr√®s la d√©connexion et resteront sur une page Auth0 g√©n√©rique.

          Les **Origines Web autoris√©es** sont essentielles pour l&#39;authentification silencieuse. Sans cette configuration, les utilisateurs seront d√©connect√©s lorsqu&#39;ils actualiseront la page ou reviendront plus tard √† votre application.
        </Info>
      </Tab>
    </Tabs>
  </Step>

  <Step title="Cr√©ez la structure HTML et la logique applicative" stepNumber={4}>
    Cr√©ez les fichiers de l&#39;application :

    <AuthCodeGroup>
      ```html index.html expandable lines
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>Auth0 Vanilla JS</title>
          <link rel="stylesheet" href="style.css" />
        </head>
        <body>
          <div class="app-container">
            <!-- Loading State -->
            <div id="loading" class="loading-state">
              <div class="loading-text">Chargement en cours...</div>
            </div>

            <!-- Error State -->
            <div id="error" class="error-state" style="display: none;">
              <div class="error-title">Oups!</div>
              <div class="error-message">Une erreur s'est produite</div>
              <div id="error-details" class="error-sub-message"></div>
            </div>

            <!-- Main Content -->
            <div id="app" class="main-card-wrapper" style="display: none;">
              <img 
                src="https://cdn.auth0.com/quantum-assets/dist/latest/logos/auth0/auth0-lockup-en-ondark.png" 
                alt="Logo Auth0" 
                class="auth0-logo"
              />
              <h1 class="main-title">Bienvenue dans Sample0</h1>
              
              <!-- Logged Out State -->
              <div id="logged-out" class="action-card">
                <p class="action-text">Commencez par vous connecter √† votre compte</p>
                <button id="login-btn" class="button login">Connexion</button>
              </div>

              <!-- Logged In State -->
              <div id="logged-in" class="logged-in-section" style="display: none;">
                <div class="logged-in-message">‚úÖ Authentification r√©ussie!</div>
                <h2 class="profile-section-title">Votre profil</h2>
                <div id="profile" class="profile-card"></div>
                <button id="logout-btn" class="button logout">D√©connexion</button>
              </div>
            </div>
          </div>

          <script type="module" src="app.js"></script>
        </body>
      </html>
      ```

      ```javascript app.js expandable lines
      import { createAuth0Client } from '@auth0/auth0-spa-js';

      // √âl√©ments DOM
      const loading = document.getElementById('loading');
      const error = document.getElementById('error');
      const errorDetails = document.getElementById('error-details');
      const app = document.getElementById('app');
      const loggedOutSection = document.getElementById('logged-out');
      const loggedInSection = document.getElementById('logged-in');
      const loginBtn = document.getElementById('login-btn');
      const logoutBtn = document.getElementById('logout-btn');
      const profileContainer = document.getElementById('profile');

      let auth0Client;

      // Initialiser le client Auth0
      async function initAuth0() {
        try {
          auth0Client = await createAuth0Client({
            domain: import.meta.env.VITE_AUTH0_DOMAIN,
            clientId: import.meta.env.VITE_AUTH0_CLIENT_ID,
            authorizationParams: {
              redirect_uri: window.location.origin
            }
          });

          // V√©rifier si l'utilisateur revient de la connexion
          if (window.location.search.includes('code=') && window.location.search.includes('state=')) {
            await handleRedirectCallback();
          }

          // Mettre √† jour l'interface utilisateur selon l'√©tat d'authentification
          await updateUI();
        } catch (err) {
          showError(err.message);
        }
      }

      // G√©rer le rappel de redirection
      async function handleRedirectCallback() {
        try {
          await auth0Client.handleRedirectCallback();
          // Nettoyer l'URL pour retirer les param√®tres de requ√™te
          window.history.replaceState({}, document.title, window.location.pathname);
        } catch (err) {
          showError(err.message);
        }
      }

      // Mettre √† jour l'interface utilisateur selon l'√©tat d'authentification
      async function updateUI() {
        try {
          const isAuthenticated = await auth0Client.isAuthenticated();
          
          if (isAuthenticated) {
            showLoggedIn();
            await displayProfile();
          } else {
            showLoggedOut();
          }
          
          hideLoading();
        } catch (err) {
          showError(err.message);
        }
      }

      // Afficher le profil utilisateur
      async function displayProfile() {
        try {
          const user = await auth0Client.getUser();
          const placeholderImage = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='110' height='110' viewBox='0 0 110 110'%3E%3Ccircle cx='55' cy='55' r='55' fill='%2363b3ed'/%3E%3Cpath d='M55 50c8.28 0 15-6.72 15-15s-6.72-15-15-15-15 6.72-15 15 6.72 15 15 15zm0 7.5c-10 0-30 5.02-30 15v3.75c0 2.07 1.68 3.75 3.75 3.75h52.5c2.07 0 3.75-1.68 3.75-3.75V72.5c0-9.98-20-15-30-15z' fill='%23fff'/%3E%3C/svg%3E`;
          
          profileContainer.innerHTML = `
            <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
              <img 
                src="${user.picture || placeholderImage}" 
                alt="${user.name || 'Utilisateur'}" 
                class="profile-picture"
                style="
                  width: 110px; 
                  height: 110px; 
                  border-radius: 50%; 
                  object-fit: cover;
                  border: 3px solid #63b3ed;
                "
                onerror="this.src='${placeholderImage}'"
              />
              <div style="text-align: center;">
                <div class="profile-name" style="font-size: 2rem; font-weight: 600; color: #f7fafc; margin-bottom: 0.5rem;">
                  ${user.name || 'User'}
                </div>
                <div class="profile-email" style="font-size: 1.15rem; color: #a0aec0;">
                  ${user.email || 'Aucun courriel fourni'}
                </div>
              </div>
            </div>
          `;
        } catch (err) {
          console.error('Erreur lors de l'affichage du profil :', err);
        }
      }

      // Gestionnaires d'√©v√©nements
      async function login() {
        try {
          await auth0Client.loginWithRedirect();
        } catch (err) {
          showError(err.message);
        }
      }

      async function logout() {
        try {
          await auth0Client.logout({
            logoutParams: {
              returnTo: window.location.origin
            }
          });
        } catch (err) {
          showError(err.message);
        }
      }

      // Gestion de l'√©tat de l'interface utilisateur
      function showLoading() {
        loading.style.display = 'block';
        error.style.display = 'none';
        app.style.display = 'none';
      }

      function hideLoading() {
        loading.style.display = 'none';
        app.style.display = 'flex';
      }

      function showError(message) {
        loading.style.display = 'none';
        app.style.display = 'none';
        error.style.display = 'block';
        errorDetails.textContent = message;
      }

      function showLoggedIn() {
        loggedOutSection.style.display = 'none';
        loggedInSection.style.display = 'flex';
      }

      function showLoggedOut() {
        loggedInSection.style.display = 'none';
        loggedOutSection.style.display = 'flex';
      }

      // √âcouteurs d'√©v√©nements
      loginBtn.addEventListener('click', login);
      logoutBtn.addEventListener('click', logout);

      // Initialiser l'application
      initAuth0();
      ```

      ```css style.css expandable lines
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', sans-serif;
        background-color: #1a1e27;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #e2e8f0;
        overflow: hidden;
      }

      .app-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        width: 100%;
        padding: 1rem;
      }

      .loading-state, .error-state {
        background-color: #2d313c;
        border-radius: 15px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        padding: 3rem;
        text-align: center;
      }

      .loading-text {
        font-size: 1.8rem;
        font-weight: 500;
        color: #a0aec0;
        animation: pulse 1.5s infinite ease-in-out;
      }

      .error-state {
        background-color: #c53030;
        color: #fff;
      }

      .error-title {
        font-size: 2.8rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .error-message {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
      }

      .error-sub-message {
        font-size: 1rem;
        opacity: 0.8;
      }

      .main-card-wrapper {
        background-color: #262a33;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        padding: 3rem;
        max-width: 500px;
        width: 90%;
        animation: fadeInScale 0.8s ease-out forwards;
      }

      .auth0-logo {
        width: 160px;
        margin-bottom: 1.5rem;
        opacity: 0;
        animation: slideInDown 1s ease-out forwards 0.2s;
      }

      .main-title {
        font-size: 2.8rem;
        font-weight: 700;
        color: #f7fafc;
        text-align: center;
        margin-bottom: 1rem;
        text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        opacity: 0;
        animation: fadeIn 1s ease-out forwards 0.4s;
      }

      .action-card {
        background-color: #2d313c;
        border-radius: 15px;
        box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.3);
        padding: 2.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.8rem;
        width: calc(100% - 2rem);
        opacity: 0;
        animation: fadeIn 1s ease-out forwards 0.6s;
      }

      .action-text {
        font-size: 1.25rem;
        color: #cbd5e0;
        text-align: center;
        line-height: 1.6;
        font-weight: 400;
      }

      .button {
        padding: 1.1rem 2.8rem;
        font-size: 1.2rem;
        font-weight: 600;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        text-transform: uppercase;
        letter-spacing: 0.08em;
        outline: none;
      }

      .button:focus {
        box-shadow: 0 0 0 4px rgba(99, 179, 237, 0.5);
      }

      .button.login {
        background-color: #63b3ed;
        color: #1a1e27;
      }

      .button.login:hover {
        background-color: #4299e1;
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
      }

      .button.logout {
        background-color: #fc8181;
        color: #1a1e27;
      }

      .button.logout:hover {
        background-color: #e53e3e;
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
      }

      .logged-in-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        width: 100%;
      }

      .logged-in-message {
        font-size: 1.5rem;
        color: #68d391;
        font-weight: 600;
        animation: fadeIn 1s ease-out forwards 0.8s;
      }

      .profile-section-title {
        font-size: 2.2rem;
        animation: slideInUp 1s ease-out forwards 1s;
      }

      .profile-card {
        padding: 2.2rem;
        animation: scaleIn 0.8s ease-out forwards 1.2s;
      }

      .profile-picture {
        transition: transform 0.3s ease-in-out;
      }

      .profile-picture:hover {
        transform: scale(1.05);
      }

      /* Animations */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes fadeInScale {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }

      @keyframes slideInDown {
        from { opacity: 0; transform: translateY(-70px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes slideInUp {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
      }

      @keyframes scaleIn {
        from { opacity: 0; transform: scale(0.8); }
        to { opacity: 1; transform: scale(1); }
      }

      /* Responsive Design */
      @media (max-width: 600px) {
        .main-card-wrapper {
          padding: 2rem;
          margin: 1rem;
        }
        
        .main-title {
          font-size: 2.2rem;
        }
        
        .button {
          padding: 1rem 2rem;
          font-size: 1.1rem;
        }
        
        .auth0-logo {
          width: 120px;
        }

        .action-card {
          padding: 2rem;
        }
      }
      ```
    </AuthCodeGroup>
  </Step>

  <Step title="Ex√©cutez votre application" stepNumber={5}>
    ```shellscript
    npm run dev
    ```
  </Step>
</Steps>

<Check>
  **Point de contr√¥le**

  Vous devriez maintenant avoir une page de connexion Auth0 pleinement fonctionnelle qui s‚Äôex√©cute sur votre [localhost](http://localhost:5173/)
</Check>

---

<div id="advanced-usage">
  ## Utilisation avanc√©e
</div>

<Accordion title="Obtenir un jeton d'acc√®s pour les appels √† l'API">
  Si vous devez appeler une API prot√©g√©e, vous pouvez obtenir un jeton d‚Äôacc√®s&nbsp;:

  ```javascript
  // Ajoutez ceci √† votre app.js
  async function getAccessToken() {
    try {
      const token = await auth0Client.getTokenSilently({
        authorizationParams: {
          audience: 'YOUR_API_IDENTIFIER',
          scope: 'read:messages'
        }
      });
      
      // Utilisez le jeton pour appeler votre API
      const response = await fetch('/api/protected', {
        headers: {
          Authorization: `Bearer ${token}`
        }
      });
      
      const data = await response.json();
      console.log(data);
    } catch (error) {
      console.error('Erreur lors de l‚Äôobtention du jeton&nbsp;:', error);
    }
  }
  ```
</Accordion>

<Accordion title="G√©rer la connexion avec une fen√™tre contextuelle">
  Pour offrir une exp√©rience utilisateur plus fluide, vous pouvez utiliser une connexion par fen√™tre contextuelle&nbsp;:

  ```javascript
  // Remplacez la fonction login dans app.js
  async function login() {
    try {
      await auth0Client.loginWithPopup();
      await updateUI();
    } catch (err) {
      if (err.error !== 'popup_closed_by_user') {
        showError(err.message);
      }
    }
  }
  ```
</Accordion>

<Accordion title="Ajouter la prise en charge des organisations">
  Si vous utilisez les organisations Auth0&nbsp;:

  ```javascript
  // Mettez √† jour la configuration de votre client Auth0
  auth0Client = await createAuth0Client({
    domain: import.meta.env.VITE_AUTH0_DOMAIN,
    clientId: import.meta.env.VITE_AUTH0_CLIENT_ID,
    authorizationParams: {
      redirect_uri: window.location.origin,
      organization: 'YOUR_ORGANIZATION_ID' // ou inviter l‚Äôutilisateur √† en choisir une
    }
  });
  ```
</Accordion>