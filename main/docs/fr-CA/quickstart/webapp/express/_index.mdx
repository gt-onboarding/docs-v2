---
title: Ajouter la connexion à votre application Express

sidebarTitle: Express
---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/fr-CA/recipe.jsx";
import { LoggedInForm } from "/snippets/fr-CA/Login.jsx";

import Server from "/snippets/fr-CA/quickstart/webapp/express/server.js.mdx";
import Server2 from "/snippets/fr-CA/quickstart/webapp/express/server.js2.mdx";

export const sections = [
      { id: "configure-auth0", title: "Configurer Auth0" },
      { id: "install-the-express-openid-connect-sdk", title: "Installer la trousse de développement logiciel (SDK) Express OpenID Connect" },
      { id: "display-user-profile", title: "Afficher le profil de l’utilisateur" }
]


<Recipe isSingleColumn>
  <Content>
    Auth0 vous permet d&#39;ajouter rapidement l&#39;authentification à presque n&#39;importe quel type d&#39;application. Ce guide explique comment
    intégrer Auth0, ajouter la connexion utilisateur, la déconnexion et le profil à une application Node.js Express à l&#39;aide de la trousse de développement logiciel (SDK) Express OpenID
    Connect.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Pour utiliser les services Auth0, vous devez avoir une application configurée dans Auth0 Dashboard. L’application Auth0 est l’endroit où vous allez configurer le mode de fonctionnement de l’authentification pour le projet que vous développez.

      ### Configurer une application

      Utilisez le sélecteur interactif pour créer une nouvelle application Auth0 ou sélectionner une application existante qui représente le projet que vous souhaitez intégrer. Chaque application dans Auth0 se voit attribuer un ID client alphanumérique unique, que le code de votre application utilisera pour appeler les API Auth0 à l’aide de la trousse de développement logiciel (SDK).

      Tous les paramètres que vous configurez au moyen de ce démarrage rapide seront automatiquement mis à jour pour votre Application dans le [Dashboard](https://manage.auth0.com/#/), où vous pourrez gérer vos Applications par la suite.

      Si vous préférez explorer une configuration complète, vous pouvez plutôt consulter une application d’exemple.

      ### Configurer les URL de rappel (Callback)

      Une URL de rappel est une URL dans votre application vers laquelle vous voulez qu’Auth0 redirige les utilisateurs après qu’ils se sont authentifiés. Si elle n’est pas définie, les utilisateurs ne seront pas renvoyés à votre application après leur connexion.

      <Info>
        Si vous suivez notre projet d’exemple, définissez cette valeur sur
        `http://localhost:3000/callback`.
      </Info>

      ### Configurer les URL de déconnexion (Logout)

      Une URL de déconnexion est une URL dans votre application vers laquelle vous voulez qu’Auth0 redirige les utilisateurs après qu’ils se sont déconnectés. Si elle n’est pas définie, les utilisateurs ne pourront pas se déconnecter de votre application et recevront une erreur.

      <Info>
        Si vous suivez notre projet d’exemple, définissez cette valeur sur `http://localhost:3000/`.
      </Info>

      <LoggedInForm />
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Votre application aura besoin du module [express-openid-connect](https://github.com/auth0/express-openid-connect), une trousse de développement logiciel (SDK) compatible avec OIDC pour Express et maintenue par Auth0.

      Installez la trousse de développement logiciel Express OpenID Connect (SDK) en exécutant les commandes suivantes dans votre terminal :

      ```sh lines
      cd <your-project-directory>
      npm install express-openid-connect
      ```

      ### Configurer le routeur

      La bibliothèque Express OpenID Connect fournit le routeur `auth` afin d’attacher des routes d’authentification
      à votre application. Vous devez configurer le routeur avec les clés de configuration suivantes :

      * `authRequired` - Indique si l’authentification est requise pour toutes les routes.
      * `auth0Logout` - Utilise la fonctionnalité de déconnexion Auth0.
      * `baseURL` - L’URL à partir de laquelle l’application est accessible.
      * `secret` - Une longue chaîne aléatoire.
      * `issuerBaseURL` - Le Domaine sous forme d’URL sécurisée, tel qu’indiqué dans les [paramètres de votre Application](https://manage.auth0.com/#/applications/\{yourClientId}/settings).
      * `clientID` - L’ID client indiqué dans les [paramètres de votre Application](https://manage.auth0.com/#/applications/\{yourClientId}/settings).

      Pour obtenir des options de configuration supplémentaires, consultez la [documentation de l’API](https://auth0.github.io/express-openid-connect).

      <Info>
        Vous pouvez générer une chaîne appropriée pour `LONG_RANDOM_STRING` à l’aide de
        `openssl rand -hex 32` en ligne de commande.
      </Info>

      <Info>
        ##### Point de contrôle

        Un utilisateur peut maintenant se connecter à votre application en visitant la route `/login` fournie par la
        bibliothèque. Si vous exécutez votre projet sur `localhost:3000`, ce lien serait alors [http://localhost:3000/login](http://localhost:3000/login).
      </Info>

      <Server />
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Pour afficher le profil de l&#39;utilisateur, votre application doit fournir une route protégée.

      Ajoutez le middleware `requiresAuth` pour les routes qui nécessitent une authentification. Toute route utilisant ce
      middleware vérifiera l&#39;existence d&#39;une session utilisateur valide et, si aucune n&#39;existe, redirigera l&#39;utilisateur vers la connexion.

      <Info>
        ##### Point de contrôle

        Un utilisateur peut se déconnecter de votre application en accédant à la route `/logout` fournie par la
        bibliothèque. Si vous exécutez votre projet sur `localhost:3000`, ce lien sera [http://localhost:3000/logout](http://localhost:3000/logout).
      </Info>

      <Server2 />
    </Section>

    ## Prochaines étapes

    Excellent travail! Si vous vous êtes rendu jusqu&#39;ici, vous devriez maintenant avoir la connexion, la déconnexion et les informations de profil utilisateur qui fonctionnent dans votre application.

    Ce tutoriel de démarrage rapide est maintenant terminé, mais il reste encore beaucoup à découvrir. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    * [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Découvrez comment configurer et gérer votre tenant Auth0 et vos Applications
    * [Trousse de développement logiciel (SDK) express-openid-connect](https://github.com/auth0/express-openid-connect) - Découvrez plus en détail la trousse de développement logiciel (SDK) utilisée dans ce tutoriel
    * [Auth0 Marketplace](https://marketplace.auth0.com/) - Découvrez des intégrations que vous pouvez activer afin d’étendre les fonctionnalités d’Auth0
  </Content>
</Recipe>