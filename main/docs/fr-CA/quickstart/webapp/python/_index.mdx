---
title: Ajouter une connexion √† votre application Python Flask
sidebarTitle: Python

---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/fr-CA/recipe.jsx";
import { LoggedInForm } from "/snippets/fr-CA/Login.jsx";
import Server from "/snippets/fr-CA/quickstart/webapp/python/server.py.mdx";
import Home from "/snippets/fr-CA/quickstart/webapp/python/home.html.mdx";

import {AuthCodeGroup} from "/snippets/fr-CA/AuthCodeGroup.jsx";

export const sections = [
      { id: "configure-auth0", title: "Configurer Auth0" },
      { id: "install-dependencies", title: "Installer les d√©pendances" },
      { id: "configure-your-env-file", title: "Configurer votre fichier .env" },
      { id: "setup-your-application", title: "Configurer votre application" },
      { id: "setup-your-routes", title: "Configurer vos routes" },
      { id: "add-templates", title: "Ajouter des gabarits" },
      { id: "run-your-application", title: "Ex√©cuter votre application" }
]


<Recipe isSingleColumn>
  <Content>
    Auth0 vous permet d&#39;ajouter l&#39;authentification et d&#39;acc√©der aux informations de profil utilisateur dans votre application. Ce guide
    explique comment int√©grer Auth0 avec une application Python [Flask](https://flask.palletsprojects.com/) en utilisant la trousse de d√©veloppement logiciel (SDK) [Authlib](https://authlib.org/).

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Pour utiliser les services Auth0, vous devez avoir une Application configur√©e dans l‚ÄôAuth0 Dashboard. C‚Äôest dans cette Application Auth0 que vous configurerez le fonctionnement de l‚Äôauthentification pour le projet que vous d√©veloppez.

      ### Configurer une application

      Utilisez le s√©lecteur interactif pour cr√©er une nouvelle Application Auth0 ou s√©lectionner une Application existante qui repr√©sente
      le projet que vous voulez int√©grer. Chaque Application dans Auth0 se voit attribuer un ID client alphanum√©rique unique
      que le code de votre application utilisera pour appeler les API Auth0 au moyen de la Trousse de d√©veloppement logiciel (SDK).

      Tous les param√®tres que vous configurez √† l‚Äôaide de ce D√©marrage rapide seront automatiquement mis √† jour pour votre Application dans le [Dashboard](https://manage.auth0.com/#/), o√π vous
      pourrez g√©rer vos Applications par la suite.

      Si vous pr√©f√©rez explorer une configuration compl√®te, vous pouvez plut√¥t consulter une application d‚Äôexemple.

      ### Configurer les URL de rappel (Callback)

      Une URL de rappel est une URL dans votre application vers laquelle vous souhaitez qu‚ÄôAuth0 redirige les utilisateurs apr√®s leur
      authentification. Si elle n‚Äôest pas d√©finie, les utilisateurs ne seront pas renvoy√©s √† votre application apr√®s leur connexion.

      <Info>
        Si vous suivez notre projet d‚Äôexemple, d√©finissez cette valeur √†
        `http://localhost:3000/callback`.
      </Info>

      ### Configurer les URL de d√©connexion

      Une URL de d√©connexion est une URL dans votre application vers laquelle vous souhaitez qu‚ÄôAuth0 redirige les utilisateurs apr√®s leur
      d√©connexion. Si elle n‚Äôest pas d√©finie, les utilisateurs ne pourront pas se d√©connecter de votre application et recevront une erreur.

      <Info>
        Si vous suivez notre projet d‚Äôexemple, d√©finissez cette valeur √† `http://localhost:3000`.
      </Info>

      <LoggedInForm />
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Cr√©ez un fichier `requirements.txt` dans le r√©pertoire de votre projet¬†:

      ```txt lines
      # üìÅ requirements.txt -----
      flask>=2.0.3
      python-dotenv>=0.19.2
      authlib>=1.0
      requests>=2.27.1
      ```

      Ex√©cutez la commande suivante dans votre terminal pour activer ces d√©pendances dans votre projet :

      ```bash lines
      pip install -r requirements.txt
      ```

      <LoggedInForm />
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Ensuite, cr√©ez un fichier `.env` dans le r√©pertoire de votre projet. Ce fichier contiendra les cl√©s de votre client et d‚Äôautres d√©tails de configuration.

      ```env lines
      # üìÅ .env -----
      AUTH0_CLIENT_ID={yourClientId}
      AUTH0_CLIENT_SECRET={yourClientSecret}
      AUTH0_DOMAIN={yourDomain}
      APP_SECRET_KEY=
      ```

      * G√©n√©rez une cha√Æne pour `APP_SECRET_KEY` √† l&#39;aide de `openssl rand -hex 32` dans votre shell.

      <LoggedInForm />
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      Ensuite, configurez votre application. Cr√©ez un fichier `server.py` dans le r√©pertoire de votre projet ‚Äî ce fichier
      contiendra la logique de votre application.

      Importez toutes les biblioth√®ques dont votre application a besoin.

      Chargez le fichier de configuration `.env` que vous avez cr√©√© √† l‚Äô√©tape pr√©c√©dente.

      Configurez Authlib pour g√©rer l‚Äôauthentification de votre application avec Auth0. Pour en savoir plus sur les options de configuration
      disponibles pour la m√©thode OAuth `register()` d‚ÄôAuthlib, consultez [leur documentation](https://docs.authlib.org/en/latest/client/frameworks.html#using-oauth-2-0-to-log-in).

      <AuthCodeGroup>
        <Home />

        <Server />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      Dans cet exemple, vous ajouterez quatre routes √† l&#39;application : login, callback, logout et home.

      Quand les visiteurs de votre application se rendent sur la route `/login`, votre application les redirige vers la page de connexion Auth0.

      Apr√®s que vos utilisateurs se sont connect√©s avec Auth0, votre application les redirige vers la route `/callback`. Cette
      route enregistre la session de l&#39;utilisateur et √©vite qu&#39;il doive se reconnecter √† son retour.

      La route `/logout` d√©connecte les utilisateurs de votre application. Cette route efface la session utilisateur dans votre
      application et redirige vers le point de terminaison de d√©connexion Auth0 pour s&#39;assurer que la session n&#39;est plus enregistr√©e. Ensuite, l&#39;application
      redirige l&#39;utilisateur vers votre route d&#39;accueil.

      Votre route `/home` affiche soit les d√©tails d&#39;un utilisateur authentifi√©, soit permet aux visiteurs de se connecter.

      <AuthCodeGroup>
        <Server />

        <Home />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6" isSingleColumn>
      Ensuite, cr√©ez le fichier de mod√®le utilis√© dans la route d‚Äôaccueil (lors des appels √† `render_template()`).

      Cr√©ez un nouveau sous-r√©pertoire dans le dossier de votre projet nomm√© `templates`, puis cr√©ez `home.html`
      dans ce r√©pertoire. Collez le contenu de droite dans ce fichier.

      <LoggedInForm />
    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7" isSingleColumn>
      Pour ex√©cuter votre application, acc√©dez au r√©pertoire racine de votre projet et ouvrez un terminal. Ex√©cutez la commande suivante¬†:

      ```bash lines
      python3 server.py
      ```

      <Info>
        ##### Point de contr√¥le

        Acc√©dez √† [http://localhost:3000](http://localhost:3000/) pour v√©rifier. Vous devriez voir un bouton de connexion qui redirige vers
        Auth0 pour l‚Äôauthentification, puis de retour √† votre application pour afficher les informations de votre profil.
      </Info>

      <LoggedInForm />
    </Section>

    ## Prochaines √©tapes

    Excellent travail! Si vous vous √™tes rendu jusqu&#39;ici, vous devriez maintenant avoir la connexion, la d√©connexion et les informations de profil utilisateur qui fonctionnent dans votre application.

    Ce tutoriel de d√©marrage rapide est maintenant termin√©, mais il reste encore beaucoup √† d√©couvrir. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    * [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - D√©couvrez comment configurer et g√©rer votre tenant Auth0 et vos Applications
    * [auth0-python SDK](https://github.com/auth0/auth0-python) - D√©couvrez plus en d√©tail la trousse de d√©veloppement logiciel (SDK) utilis√©e dans ce tutoriel
    * [Auth0 Marketplace](https://marketplace.auth0.com/) - D√©couvrez des int√©grations que vous pouvez activer afin d‚Äô√©tendre les fonctionnalit√©s d‚ÄôAuth0
  </Content>
</Recipe>