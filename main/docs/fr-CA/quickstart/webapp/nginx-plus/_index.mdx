---
title: NGINX Plus

---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/fr-CA/recipe.jsx";
import { LoggedInForm } from "/snippets/fr-CA/Login.jsx";
import Nginx from "/snippets/fr-CA/quickstart/webapp/nginx-plus/nginx.conf.mdx";
import OpenidConnectionConfiguration from "/snippets/fr-CA/quickstart/webapp/nginx-plus/openid_connection_configuration.conf.mdx";
import OpenidConnect from "/snippets/fr-CA/quickstart/webapp/nginx-plus/openid_connect.server_conf.mdx";
import Frontend from "/snippets/fr-CA/quickstart/webapp/nginx-plus/frontend.conf.mdx";

import {AuthCodeGroup} from "/snippets/fr-CA/AuthCodeGroup.jsx";

export const sections = [
  { id: "system-requirements", title: "Configuration système requise" },
  { id: "install-and-enable-nginx-plus-module-njs-module", title: "Installer et activer le module nginx-plus-module-njs" },
  { id: "checkout-nginx-openid-connect-template-repository", title: "Cloner le dépôt de modèles nginx-openid-connect" },
  { id: "configure-nginx-with-your-auth0-application-details", title: "Configurer NGINX avec les paramètres de votre Application Auth0" },
  { id: "configure-accept-encoding-header-for-token-and-jwks-endpoints", title: "Configurer l’en-tête Accept-Encoding pour les points de terminaison de jeton et de JWKS" },
  { id: "copy-openid-connect-configuration-files", title: "Copier les fichiers de configuration OpenID Connect" },
  { id: "configure-auth0-application-settings", title: "Configurer les paramètres de votre Application Auth0" },
  { id: "pass-headers-to-upstream-application", title: "Transmettre les en-têtes à l’application en amont" }
]


<Recipe isSingleColumn>
  <Content>
    Ce tutoriel montre comment utiliser le module nginx-openid-connect pour ajouter l&#39;authentification et l&#39;autorisation à
    votre serveur NGINX. Nous vous recommandons de vous connecter pour suivre ce démarrage rapide avec des exemples configurés pour votre compte.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Ce tutoriel et ce projet de base ont été testés avec les éléments suivants :

      * NGINX Plus R24

      <LoggedInForm />
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Tout d&#39;abord, vous devez installer le module `nginx-plus-module-njs` pour NGINX Plus.

      Suivez le guide d&#39;installation des modules dynamiques pour installer des paquets sur votre système d&#39;exploitation hôte.

      Pour les distributions Linux qui utilisent le gestionnaire de paquets `yum`, vous pouvez installer le module comme suit :

      ```sh lines
      sudo yum install nginx-plus-module-njs jq
      ```

      Une fois que vous l&#39;avez installé, vous devez l&#39;activer pour NGINX en ajoutant la ligne suivante près du début de votre fichier
      `/etc/nginx/nginx.conf` :

      ```sh lines
      load_module modules/ngx_http_js_module.so;
      ```

      <AuthCodeGroup>
        <Nginx />

        <OpenidConnectionConfiguration />

        <OpenidConnect />

        <Frontend />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Clonez le dépôt `nginx-openid-connect`. Ce dépôt est fourni avec un modèle de configuration.

      ```sh lines
      git clone https://github.com/nginxinc/nginx-openid-connect
      ```

      <LoggedInForm />
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      Exécutez le script configure.sh dans le dossier nginx-openid-connect pour remplir la configuration modèle de votre Application Auth0 :

      ```sh lines
      ./configure.sh --auth_jwt_key request \
      --client_id {yourClientId} \
      --pkce_enable \
      https://{yourDomain}/.well-known/openid-configuration
      ```

      Ensuite, ajoutez l’[URL de déconnexion de votre tenant](https://auth0.com/docs/api/authentication#auth0-logout) à votre fichier
      `openid_connect_configuration.conf`.

      <AuthCodeGroup>
        <OpenidConnectionConfiguration />

        <Nginx />

        <OpenidConnect />

        <Frontend />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      Ajoutez l’en-tête `Accept-Encoding` et définissez sa valeur sur `gzip` dans votre
      fichier `openid_connect.server_conf`.

      <AuthCodeGroup>
        <OpenidConnect />

        <Nginx />

        <OpenidConnectionConfiguration />

        <Frontend />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6" isSingleColumn>
      Copiez vos quatre fichiers de configuration dans le répertoire `conf.d`.

      ```sh lines
      sudo cp openid_connect.js \ 
      frontend.conf \
      openid_connect_configuration.conf \
      openid_connect.server_conf /etc/nginx/conf.d
      ```

      <LoggedInForm />
    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7" isSingleColumn>
      Dans Auth0 Dashboard :

      1. Accédez à **Applications** &gt; **Applications**, puis sélectionnez votre application dans la liste.
      2. Passez à la vue **Settings**.
      3. Dans la section **Application URIs**, ajoutez `https://{yourDomain}/_codexch`
         à **URL de redirection autorisées**.
      4. Passez à la vue **Credentials**.

      Dans la section **Application Authentication**, définissez **Authentication Method** sur **None**.

      <LoggedInForm />
    </Section>

    <Section id={sections[7].id} title={sections[7].title} stepNumber="8" isSingleColumn>
      Ajoutez des en-têtes supplémentaires présents dans le jeton ID (JWT) à la cible upstream dans votre fichier `/etc/nginx/conf.d/frontend.conf`.

      <AuthCodeGroup>
        <Frontend />

        <Nginx />

        <OpenidConnectionConfiguration />

        <OpenidConnect />
      </AuthCodeGroup>
    </Section>

    ## Prochaines étapes

    Excellent travail! Si vous vous êtes rendu jusqu&#39;ici, vous devriez maintenant avoir la connexion, la déconnexion et les informations de profil utilisateur qui fonctionnent dans votre application.

    Ce tutoriel de démarrage rapide est maintenant terminé, mais il reste encore beaucoup à découvrir. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    * [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Découvrez comment configurer et gérer votre tenant Auth0 et vos Applications
    * [Auth0 Marketplace](https://marketplace.auth0.com/) - Découvrez les intégrations que vous pouvez activer afin d’étendre les fonctionnalités d’Auth0
  </Content>
</Recipe>