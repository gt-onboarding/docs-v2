---
title: Ajouter une connexion à votre application ASP.NET MVC
sidebarTitle: ASP.NET Core MVC

---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/fr-CA/recipe.jsx";
import { LoggedInForm } from "/snippets/fr-CA/Login.jsx";

import AppSettingsJSON from "/snippets/fr-CA/quickstart/webapp/aspnet-core/appsettings.json.mdx";
import AccountController from "/snippets/fr-CA/quickstart/webapp/aspnet-core/AccountController.cs.mdx";

import {AuthCodeGroup} from "/snippets/fr-CA/AuthCodeGroup.jsx";

export const sections = [
      { id: "configure-auth0", title: "Configurer Auth0" },
      { id: "install-and-configure-the-sdk", title: "Installer et configurer la trousse de développement logiciel (SDK)" },
      { id: "login", title: "Connexion" },
      { id: "display-user-profile", title: "Afficher le profil de l'utilisateur" },
      { id: "logout", title: "Déconnexion" }
]


<Recipe isSingleColumn>
  <Content>
    Auth0 vous permet d&#39;ajouter rapidement l&#39;authentification et d&#39;accéder aux informations du profil utilisateur dans votre application.
    Ce guide explique comment intégrer Auth0 à toute application ASP.NET MVC nouvelle ou existante à l&#39;aide de la
    trousse de développement logiciel (SDK) **Auth0.AspNetCore.Authentication**.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Pour utiliser les services Auth0, vous devez avoir une Application configurée dans l’Auth0 Dashboard. L’Application Auth0 est
      l’endroit où vous configurerez le fonctionnement de l’authentification pour le projet que vous développez.

      ### Configurer une application

      Utilisez le sélecteur interactif pour créer une nouvelle Application Auth0 ou sélectionner une Application existante qui représente
      le projet que vous voulez intégrer. Chaque Application dans Auth0 se voit attribuer un ID client alphanumérique et unique
      que le code de votre application utilisera pour appeler les API Auth0 au moyen de la Trousse de développement logiciel (SDK).

      Tous les paramètres que vous configurez à l’aide de ce Démarrage rapide seront automatiquement mis à jour pour votre Application dans l’[Auth0 Dashboard](https://manage.auth0.com/#/), où vous
      pourrez gérer vos Applications par la suite.

      Si vous préférez examiner une configuration complète, vous pouvez plutôt consulter une Application d’exemple.

      ### Configurer les URL de rappel (callback)

      Une URL de rappel est une URL dans votre application vers laquelle vous voulez qu’Auth0 redirige les utilisateurs après s’être
      authentifiés. Si elle n’est pas définie, les utilisateurs ne seront pas renvoyés vers votre application après s’être connectés.

      <Info>
        Si vous suivez notre projet d’exemple, définissez cette valeur à
        `http://localhost:3000/callback`.
      </Info>

      ### Configurer les URL de déconnexion (logout)

      Une URL de déconnexion est une URL dans votre application vers laquelle vous voulez qu’Auth0 redirige les utilisateurs après s’être
      déconnectés. Si elle n’est pas définie, les utilisateurs ne pourront pas se déconnecter depuis votre application et recevront une erreur.

      <Info>
        Si vous suivez notre projet d’exemple, définissez cette valeur à `http://localhost:3000`.
      </Info>

      <LoggedInForm />
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      ### Installer à partir de NuGet

      Pour intégrer Auth0 à ASP.NET Core, vous pouvez utiliser notre trousse de développement logiciel (SDK) en installant le
      package NuGet [`Auth0.AspNetCore.Authentication`](https://www.nuget.org/packages/Auth0.AspNetCore.Authentication/) dans votre application.

      ### Configurer le middleware

      Pour activer l’authentification dans votre application ASP.NET Core, utilisez le middleware fourni par le SDK. Allez dans le fichier
      `Program.cs` et appelez `builder.Services.AddAuth0WebAppAuthentication()` pour enregistrer le
      middleware du SDK.

      Assurez-vous de configurer `Domain` et `ClientId`; ces champs sont requis pour que le
      SDK sache quel tenant Auth0 et quelle application il doit utiliser.

      Assurez-vous d’avoir activé l’authentification et l’autorisation dans votre fichier `Program.cs`.

      <AuthCodeGroup>
        <AppSettingsJSON />

        <AccountController />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Pour permettre aux utilisateurs de se connecter à votre application ASP.NET MVC, ajoutez une action `Login` à votre contrôleur.

      Appelez `HttpContext.ChallengeAsync()` et passez `Auth0Constants.AuthenticationScheme` comme
      schéma d’authentification. Cela invoquera le gestionnaire d’authentification OIDC que notre Trousse de développement logiciel (SDK) enregistre en interne. Assurez-vous
      également de spécifier les `authenticationProperties` correspondantes, que vous pouvez construire à l’aide de
      `LoginAuthenticationPropertiesBuilder`.

      Après avoir appelé `HttpContext.ChallengeAsync()` avec succès, l’utilisateur sera redirigé vers Auth0 et
      sera connecté à la fois au middleware OIDC et au middleware de cookies lorsqu’il sera redirigé vers votre application.
      Cela permettra aux utilisateurs d’être authentifiés lors des requêtes subséquentes.

      <Info>
        ##### Point de contrôle

        Maintenant que vous avez configuré la connexion, exécutez votre application pour vérifier que :

        * L’accès à votre action `Login` redirige vers Auth0
        * La saisie de vos informations d’identification vous redirige vers votre application.
      </Info>

      <AuthCodeGroup>
        <AccountController />

        <AppSettingsJSON />
      </AuthCodeGroup>
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      After the middleware has successfully retrieved the tokens from Auth0, it will extract the user&#39;s information and
      claims from the jeton ID and makes them available as the `User.Claims` property on the controller.

      You can create a custom user profile page for displaying a user&#39;s nom, courriel, and profile image, by
      retrieving the corresponding information from the `User` and pass it to the view from inside your
      controller.

      <Info>
        ##### Point de contrôle

        Maintenant que vous avez configuré votre action pour afficher le profil de l&#39;utilisateur, exécutez votre application afin de vérifier que :

        * Naviguer vers votre action `Profile` après vous être connecté avec succès affiche le
          profil de l&#39;utilisateur.
      </Info>

      <LoggedInForm />
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      La déconnexion de l&#39;utilisateur à partir de votre propre application peut se faire en appelant `HttpContext.SignOutAsync` avec
      le schéma d&#39;authentification `CookieAuthenticationDefaults.AuthenticationScheme` depuis l&#39;action de votre
      contrôleur.

      De plus, si vous voulez également déconnecter l&#39;utilisateur d&#39;Auth0 (ce qui peut aussi le déconnecter d&#39;autres applications
      qui reposent sur l&#39;authentification unique (SSO)), appelez `HttpContext.SignOutAsync` avec le
      schéma d&#39;authentification `Auth0Constants.AuthenticationScheme`, ainsi que les
      `authenticationProperties` appropriées, qui peuvent être construites à l&#39;aide de
      `LogoutAuthenticationPropertiesBuilder`.

      <Info>
        ##### Point de contrôle

        Maintenant que vous avez configuré la déconnexion, exécutez votre application pour vérifier que :

        * Accéder à votre action `Logout` garantira que l&#39;utilisateur est déconnecté.
        * Lorsque vous vous déconnectez également d&#39;Auth0, vous devriez être redirigé vers Auth0, puis immédiatement redirigé vers
          votre propre application.
      </Info>

      <LoggedInForm />
    </Section>

    ## Prochaines étapes

    Excellent travail! Si vous vous êtes rendu jusqu&#39;ici, vous devriez maintenant avoir la connexion, la déconnexion et les informations de profil utilisateur qui fonctionnent dans votre application.

    Ce tutoriel de démarrage rapide est maintenant terminé, mais il reste encore beaucoup à découvrir. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    * [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Découvrez comment configurer et gérer votre tenant Auth0 et vos applications
    * [auth0-aspnetcore-authentication Trousse de développement logiciel (SDK)](https://github.com/auth0/auth0-aspnetcore-authentication) - Découvrez plus en détail la trousse de développement logiciel (SDK) utilisée dans ce tutoriel
    * [Auth0 Marketplace](https://marketplace.auth0.com/) - Découvrez des intégrations que vous pouvez activer pour étendre les fonctionnalités d’Auth0
  </Content>
</Recipe>