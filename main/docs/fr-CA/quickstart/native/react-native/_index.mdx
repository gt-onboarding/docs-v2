---
title: Ajouter une connexion à votre application React Native
sidebarTitle: React Native

---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/fr-CA/recipe.jsx";
import { LoggedInForm } from "/snippets/fr-CA/Login.jsx";
import App from "/snippets/fr-CA/quickstart/native/react-native/app.js.mdx";
import App2 from "/snippets/fr-CA/quickstart/native/react-native/app.js2.mdx";
import App3 from "/snippets/fr-CA/quickstart/native/react-native/app.js3.mdx";
import App4 from "/snippets/fr-CA/quickstart/native/react-native/app.js4.mdx";

export const sections = [
      { id: "configure-auth0", title: "Configurer Auth0" },
      { id: "install-dependencies", title: "Installer les dépendances" },
      { id: "integrate-auth0-in-your-application", title: "Intégrer Auth0 à votre application" },
      { id: "configure-the-auth0provider-component", title: "Configurer le composant Auth0Provider" },
      { id: "add-login-to-your-application", title: "Ajouter la connexion à votre application" },
      { id: "add-logout-to-your-application", title: "Ajouter la déconnexion à votre application" },
      { id: "show-user-profile-information", title: "Afficher les informations du profil utilisateur" }
]


<Recipe isSingleColumn>
  <Content>
    Ce Démarrage rapide s&#39;adresse au framework React Native. Pour intégrer Auth0 à votre application Expo, consultez le [Démarrage rapide Expo](https://auth0.com/docs/quickstart/native/react-native-expo/interactive).

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Pour utiliser les services Auth0, vous devez avoir une application configurée dans Auth0 Dashboard. C’est dans l’application Auth0 que
      vous configurerez l’authentification dans votre projet.

      ### Configurer une application

      Utilisez le sélecteur interactif pour créer une nouvelle application Auth0 ou sélectionner une application existante qui représente
      le projet que vous voulez intégrer. Chaque application dans Auth0 se voit attribuer un ID client alphanumérique unique
      que le code de votre application utilisera pour appeler les API Auth0 par l’entremise de la trousse de développement logiciel (SDK).

      Tous les paramètres que vous configurez à l’aide de ce Démarrage rapide seront automatiquement mis à jour pour votre Application dans le [Dashboard](https://manage.auth0.com/#/), où vous
      pourrez gérer vos Applications par la suite.

      Pour explorer une configuration complète, consultez l’application d’exemple dans Auth0 Dashboard.

      ### Configurer les URL de rappel et de déconnexion

      Auth0 appelle les URL de rappel et de déconnexion pour rediriger les utilisateurs vers votre application. Auth0 appelle l’URL de rappel
      après avoir authentifié l’utilisateur et l’URL de déconnexion après avoir supprimé le cookie de session. Si vous ne définissez pas les
      URL de rappel et de déconnexion, les utilisateurs ne pourront pas se connecter et se déconnecter de l’application, et votre application générera
      une erreur.

      Ajoutez l’URL correspondante aux **Callback URLs** et **Logout URLs**, en fonction de la plateforme de votre application. Si
      vous utilisez un domaine personnalisé, utilisez la valeur de votre domaine personnalisé
      au lieu du domaine de votre tenant Auth0.

      #### iOS

      ```
      BUNDLE_IDENTIFIER.auth0://{yourDomain}/ios/BUNDLE_IDENTIFIER/callback
      ```

      #### Android

      ```
      PACKAGE_NAME.auth0://{yourDomain}/android/PACKAGE_NAME/callback
      ```

      <Info>
        Si vous suivez notre projet d&#39;exemple, configurez les éléments suivants :

        * **iOS** :
          `com.auth0samples.auth0://labs-fundtraining.us.auth0.com/ios/com.auth0samples/callback`
        * **Android** :
          `com.auth0samples.auth0://labs-fundtraining.us.auth0.com/android/com.auth0samples/callback`
      </Info>

      <LoggedInForm />
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Dans cette section, vous allez installer le module React Native Auth0.

      <Info>
        Consultez la [documentation officielle](https://facebook.github.io/react-native/) pour en savoir plus sur React Native.
      </Info>

      ### Yarn

      ```
      yarn add react-native-auth0
      ```

      <Info>
        Pour en savoir plus sur Yarn, consultez [leur documentation officielle](https://yarnpkg.com/en/docs).
      </Info>

      ### npm

      ```
      npm install react-native-auth0 --save
      ```

      ### Étape supplémentaire pour iOS : installez le module Pod

      Notre trousse de développement logiciel (SDK) requiert une cible de déploiement iOS minimale de 13.0. Dans le fichier `ios/Podfile` de votre projet, assurez-vous que votre plateforme cible est définie à 13.0.

      ```
      platform :ios '13.0'
      ```

      CocoaPods est l’outil de gestion de paquets iOS que le framework React Native utilise pour s’installer dans votre projet.
      Pour que le module natif iOS fonctionne avec votre application iOS, commencez par installer la bibliothèque en tant que pod. Si vous connaissez d’anciennes
      versions de la trousse de développement logiciel (SDK) React Native, cela est similaire à l’ancien processus de liaison d’un module natif (« Linking a Native module »). Le processus est maintenant simplifié :

      Placez‑vous dans le répertoire `ios` et exécutez `pod install`.

      ```
      cd ios
      pod install
      ```

      <LoggedInForm />
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Tout d’abord, vous devez permettre à vos utilisateurs de se connecter. Nous recommandons d’utiliser la page de connexion hébergée par Auth0.

      <Frame>
        <img src="/docs/images/cdy7uua7fh8z/3ZRDXpjlUXEcQpXq6Q00L1/789d583affd1f09621dc59ae49b4060c/login-ios.png" />
      </Frame>

      ### Configurer Android

      Ouvrez le fichier `build.gradle` dans le répertoire de votre application (généralement à
      `android/app/build.gradle`) et ajoutez les `manifestPlaceholders` suivants. La valeur de
      `auth0Domain` doit correspondre au domaine Auth0 que vous avez configuré ci-dessus.

      ```groovy lines
      android {
        defaultConfig {

            // Ajoutez la ligne suivante

            manifestPlaceholders = [auth0Domain: &quot;{yourDomain}&quot;, auth0Scheme: &quot;${applicationId}.auth0&quot;]

        }

        ...

      } 
      ```

      <Info>
        Au moment de l’exécution, la valeur `applicationId` sera automatiquement mise à jour avec le nom de
        package ou l’ID de votre application (p. ex. `com.example.app`). Vous pouvez modifier cette valeur dans
        le fichier `build.gradle`. Vous pouvez aussi la vérifier au début de votre fichier
        `AndroidManifest.xml`.
      </Info>

      ### Configurer iOS

      #### Configuration d’AppDelegate (choisissez en fonction de l’architecture)

      Si vous utilisez (Swift - `ios/<YOUR PROJECT>/AppDelegat.swift`), ajoutez ce qui suit dans
      la classe `AppDelegate` :

      ```text lines
      func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
        return RCTLinkingManager.application(app, open: url, options: options)
      }
      ```

      Si vous utilisez Objective-C++ (`ios/&lt;YOUR PROJECT&gt;/AppDelegate.mm`), ajoutez ce qui suit :

      ```text lines
      #import <React/RCTLinkingManager.h>


      (BOOL)application:(UIApplication *)app openURL:(NSURL *)url
            options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey, id&gt; *)options



      {
      return [RCTLinkingManager application:app openURL:url options:options];
      }
      ```

      <Info>
        Ce fichier sera `ios/<YOUR PROJECT>/AppDelegate.m` pour les applications utilisant l&#39;[ancienne architecture](https://reactnative.dev/docs/next/new-architecture-app-intro#ios---use-objective-c-mm-extension).
      </Info>

      Ensuite, ajoutez un schéma d&#39;URL (URLScheme) en utilisant l&#39;identifiant de bundle de votre application.

      Dans le dossier `ios`, ouvrez le fichier `Info.plist` et repérez la valeur de
      `CFBundleIdentifier`.

      ```xml lines
      <key>CFBundleIdentifier</key>
      <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
      ```

      Sous cette valeur, enregistrez une entrée de type URL en utilisant la valeur de `CFBundleIdentifier` comme valeur pour `CFBundleURLSchemes`.

      ```xml lines
      <key>CFBundleURLTypes</key>
      <array>
      <dict>
      <key>CFBundleTypeRole</key>
      <string>None</string>
      <key>CFBundleURLName</key>
      <string>auth0</string>
      <key>CFBundleURLSchemes</key>
      <array>
      <string>$(PRODUCT_BUNDLE_IDENTIFIER).auth0</string>
      </array>
      </dict>
      </array>
      ```

      <Info>
        Si votre application a été générée avec React Native CLI, la valeur par défaut de
        `$(PRODUCT_BUNDLE_IDENTIFIER)` correspond dynamiquement à
        `org.reactjs.native.example.$(PRODUCT_NAME:rfc1034identifier)`. Pour l&#39;application d&#39;exemple, cette
        valeur correspond à `com.auth0samples`.
      </Info>

      À une étape ultérieure, vous utiliserez cette valeur pour définir les URL de rappel ci-dessous. Vous pouvez la modifier avec Xcode en suivant les étapes ci-dessous :

      * Ouvrez le fichier `ios/<YOUR PROJECT>.xcodeproj` ou exécutez `xed ios` dans un terminal à partir
        de la racine de l&#39;application.
      * Ouvrez l&#39;onglet &quot;Build Settings&quot; du projet ou de la cible souhaitée et trouvez la section qui contient &quot;Bundle
        Identifier&quot;.
      * Remplacez la valeur &quot;Bundle Identifier&quot; par le nom d&#39;identificateur de bundle souhaité pour votre application.

      Pour plus d&#39;informations, consultez la [documentation React Native](https://facebook.github.io/react-native/docs/linking).

      <LoggedInForm />
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      Le hook `useAuth0` s&#39;appuie sur un contexte React pour gérer l&#39;état. Le
      composant `Auth0Provider` fournit ce contexte.

      Importez le hook `useAuth0` et le composant `Auth0Provider` à partir du
      package `react-native-auth0` :

      ```jsx lines
      import {useAuth0, Auth0Provider} from 'react-native-auth0';
      ```

      Pour que la Trousse de développement logiciel (SDK) fonctionne correctement, encapsulez votre application dans le composant `Auth0Provider` et définissez les
      propriétés suivantes :

      * `domain` : Le domaine de votre tenant Auth0. En général, vous pouvez le trouver dans l’Auth0 Dashboard,
        sous les paramètres de votre Application, dans le champ Domaine. Si vous utilisez un domaine personnalisé, vous devez plutôt définir cette propriété avec la valeur de votre
        domaine personnalisé.
      * `clientId` : L’ID de l’Application Auth0 que vous avez configurée plus tôt dans ce démarrage rapide. Vous pouvez
        la trouver dans l’Auth0 Dashboard sous l’onglet Settings de votre application, dans le champ Client ID.

      <Note>
        ##### Point de contrôle

        Vous venez de configurer le composant `Auth0Provider`. Exécutez votre application pour vérifier que :

        * Le SDK s’initialise correctement.
        * Votre application ne génère aucune erreur liée à Auth0.
      </Note>

      <App />
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      Authentifiez l’utilisateur en appelant la méthode `authorize` fournie par le hook `useAuth0`.
      Cette méthode redirige l’utilisateur vers la page Universal Login d’Auth0 pour l’authentification, puis de nouveau vers votre application.

      Pour confirmer que l’utilisateur s’est connecté avec succès, vérifiez que la propriété `user` fournie par le hook n’est pas
      `null`.

      <Note>
        ##### Point de contrôle

        Ajoutez un composant de bouton qui appelle `authorize` lors d’un clic. Vérifiez que vous êtes redirigé vers
        la page de connexion, puis de nouveau vers votre application.
      </Note>

      <App2 />
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6" isSingleColumn>
      Pour déconnecter l’utilisateur, redirigez-le vers le point de terminaison de déconnexion Auth0 en appelant `clearSession`. Cela
      supprimera sa session du serveur d’autorisation et déconnectera l’utilisateur de l’application.

      <Note>
        ##### Point de contrôle

        Ajoutez un bouton qui appelle `clearSession` et constatez que vous êtes redirigé vers le point de terminaison de déconnexion
        Auth0, puis de retour. Vous ne devriez plus être connecté à votre application.
      </Note>

      <App3 />
    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7" isSingleColumn>
      Le hook `useAuth0` met à disposition un objet `user` qui contient des informations sur
      l’utilisateur authentifié. Vous pouvez l’utiliser pour accéder, à partir du jeton ID, aux informations de profil décodées de cet utilisateur.

      Si un utilisateur n’a pas été authentifié, cette propriété sera `null`.

      <Note>
        ##### Point de contrôle

        Connectez-vous et inspectez la propriété `user` sur le résultat. Vérifiez le profil de l’utilisateur actuel,
        comme le courriel ou le nom.
      </Note>

      <App4 />
    </Section>

    ## Prochaines étapes

    Excellent travail! Si vous vous êtes rendu jusqu&#39;ici, vous devriez maintenant avoir la connexion, la déconnexion et les informations de profil utilisateur qui fonctionnent dans votre application.

    Ce tutoriel de démarrage rapide est maintenant terminé, mais il reste encore beaucoup à découvrir. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    * [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Découvrez comment configurer et gérer votre tenant Auth0 et vos applications
    * [Trousse de développement logiciel (SDK) react-native-auth0](https://github.com/auth0/react-native-auth0) - Explorez plus en détail la trousse de développement logiciel (SDK) utilisée dans ce tutoriel
    * [Auth0 Marketplace](https://marketplace.auth0.com/) - Découvrez les intégrations que vous pouvez activer pour étendre les fonctionnalités d’Auth0
  </Content>
</Recipe>