---
title: Ajoutez une fonctionnalité de connexion à votre application Expo
sidebarTitle: Expo

---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/fr-CA/recipe.jsx";
import { LoggedInForm } from "/snippets/fr-CA/Login.jsx";
import App from "/snippets/fr-CA/quickstart/native/react-native-expo/App.js.mdx";
import App2 from "/snippets/fr-CA/quickstart/native/react-native-expo/App.js2.mdx";
import App3 from "/snippets/fr-CA/quickstart/native/react-native-expo/App.js3.mdx";
import App4 from "/snippets/fr-CA/quickstart/native/react-native-expo/App.js4.mdx";
import App5 from "/snippets/fr-CA/quickstart/native/react-native-expo/App.js5.mdx";
import App6 from "/snippets/fr-CA/quickstart/native/react-native-expo/App.js6.mdx";

export const sections = [
      { id: "configure-auth0", title: "Configurer Auth0" },
      { id: "install-dependencies", title: "Installer les dépendances" },
      { id: "setup-auth0-config-plugin", title: "Configurer le plugin de configuration Auth0" },
      { id: "generate-native-source-code", title: "Générer le code source natif" },
      { id: "configure-the-auth0provider-component", title: "Configurer le composant Auth0Provider" },
      { id: "add-login-to-your-application", title: "Ajouter la fonctionnalité de connexion à votre application" },
      { id: "add-logout-to-your-application", title: "Ajouter la fonctionnalité de déconnexion à votre application" },
      { id: "show-user-profile-information", title: "Afficher les informations du profil de l’utilisateur" }
]


<Recipe isSingleColumn>
  <Content>
    Ce Démarrage rapide est conçu pour le framework Expo. Pour intégrer Auth0 dans votre application React Native, veuillez consulter
    le Démarrage rapide React Native.

    <Info>
      Cette trousse de développement logiciel (SDK) n&#39;est pas compatible avec l&#39;application &quot;Expo Go&quot;. Elle est compatible uniquement avec Custom Dev Client et les builds EAS.
    </Info>

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Pour utiliser les services Auth0, vous devez avoir une application configurée dans l’Auth0 Dashboard. C’est dans l’application Auth0
      que vous configurerez l’authentification dans votre projet.

      ### Configurer une application

      Utilisez le sélecteur interactif pour créer une nouvelle application Auth0 ou sélectionner une application existante qui représente
      le projet que vous voulez intégrer. Chaque application dans Auth0 se voit attribuer un ID client alphanumérique unique
      que le code de votre application utilisera pour appeler les API Auth0 au moyen de la Trousse de développement logiciel (SDK).

      Tous les paramètres que vous configurez à l’aide de ce démarrage rapide seront automatiquement appliqués à votre Application dans le [Dashboard](https://manage.auth0.com/), où vous pourrez
      gérer vos Applications ultérieurement.

      Si vous préférez explorer une configuration complète, vous pouvez plutôt consulter un exemple d’application.

      ### Configurer les URL de rappel et de déconnexion

      Auth0 utilise les URL de rappel et de déconnexion pour rediriger les utilisateurs vers votre application. Auth0 appelle l’URL de rappel
      après l’authentification de l’utilisateur et l’URL de déconnexion après la suppression du témoin de session. Si vous ne définissez pas les
      URL de rappel et de déconnexion, les utilisateurs ne pourront pas se connecter et se déconnecter de l’application, et votre application produira
      une erreur.

      Ajoutez l’URL correspondante à **Callback URLs** et **Logout URLs**, selon la plateforme de votre application. Si
      vous utilisez un domaine personnalisé, utilisez la valeur de votre domaine personnalisé
      plutôt que le domaine de votre tenant Auth0.

      #### iOS

      ```
      BUNDLE_IDENTIFIER.auth0://{yourDomain}/ios/BUNDLE_IDENTIFIER/callback
      ```

      #### Android

      ```
      PACKAGE_NAME.auth0://{yourDomain}/android/PACKAGE_NAME/callback
      ```

      <Info>
        Si vous suivez notre projet d’exemple, utilisez les valeurs suivantes :

        * iOS : `com.auth0samples.auth0://{yourDomain}/ios/com.auth0samples/callback`
        * Android : `com.auth0samples.auth0://{yourDomain}/android/com.auth0samples/callback`
      </Info>

      <LoggedInForm />
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Dans cette section, vous apprendrez à installer le module React Native Auth0.

      <Info>
        Veuillez consulter la [documentation officielle](https://facebook.github.io/react-native/) pour obtenir plus de détails sur React Native.
      </Info>

      ### Yarn

      ```bash
      yarn add react-native-auth0
      ```

      <Info>
        Pour plus de renseignements sur `yarn`, consultez sa [documentation officielle](https://yarnpkg.com/en/docs).
      </Info>

      ### npm

      ```bash
      npm install react-native-auth0 --save
      ```

      <LoggedInForm />
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Le package Auth0 exécute du code natif personnalisé qui doit être configuré au moment de la compilation. Utilisez le [plugin Expo Config](https://docs.expo.dev/guides/config-plugins/) pour ce faire.

      Le plugin `react-native-auth0` sera ajouté à la [configuration Expo](https://docs.expo.dev/workflow/configuration/).

      <App />
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      Vous devez générer le code natif pour que la configuration ci-dessus soit prise en compte. Pour ce faire, exécutez la commande suivante :

      ```bash
      expo prebuild
      ```

      On vous demandera de fournir le [package Android](https://github.com/expo/fyi/blob/main/android-package.md) et l’[identifiant de bundle iOS](https://github.com/expo/fyi/blob/main/bundle-identifier.md) s’ils ne sont pas déjà présents dans la config Expo.

      ```bash
      ? What would you like your Android package name to be? > com.auth0samples # ou le nom de package souhaité
      ? What would you like your iOS bundle identifier to be? > com.auth0samples # ou l'identifiant de bundle souhaité
      ```

      Ces valeurs sont utilisées pour configurer les URL de rappel et de déconnexion.

      <App2 />
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      Le hook `useAuth0` s’appuie sur un contexte React pour assurer la gestion de l’état. Ce contexte est fourni par le composant `Auth0Provider`.

      Importez le hook `useAuth0` et le composant `Auth0Provider` à partir du package `react-native-auth0` :

      ```jsx lines
      import {useAuth0, Auth0Provider} from 'react-native-auth0';
      ```

      Pour que la trousse de développement logiciel (SDK) fonctionne correctement, vous devez encapsuler votre application dans le composant `Auth0Provider` et
      définir les propriétés suivantes :

      * `domain` : le domaine de votre locataire Auth0. En général, vous pouvez le trouver dans l’Auth0 Dashboard
        sous **Settings** de votre Application, dans le champ **Domain**. Si vous utilisez un domaine personnalisé, vous devez plutôt donner à cette propriété la valeur de votre
        domaine personnalisé.
      * `clientId` : l’ID client de l’Application Auth0 que vous avez configurée plus tôt dans ce démarrage rapide. Vous pouvez
        le trouver dans l’Auth0 Dashboard sous **Settings** de votre Application, dans le champ **Client ID**.

      <Note>
        ##### Point de contrôle

        Votre composant `Auth0Provider` devrait maintenant être correctement configuré. Exécutez votre application pour
        vérifier que :

        * le SDK s’initialise correctement
        * votre application ne déclenche aucune erreur liée à Auth0
      </Note>

      <App3 />
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6" isSingleColumn>
      Authentifiez l’utilisateur en appelant la méthode `authorize` fournie par le hook `useAuth0`.
      Cette méthode redirige l’utilisateur vers la page Auth0 Universal Login
      pour l’authentification, puis de retour vers votre application.

      Pour confirmer que l’utilisateur s’est connecté avec succès, vérifiez que la propriété `user` fournie par
      le hook n’est pas `null`.

      <Note>
        ##### Point de contrôle

        Ajoutez un composant de bouton qui appelle `authorize` au clic. Vérifiez que vous êtes redirigé vers
        la page de connexion, puis de retour vers votre application.
      </Note>

      <App4 />
    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7" isSingleColumn>
      Pour déconnecter l’utilisateur, redirigez-le vers le point de terminaison de déconnexion Auth0 en appelant `clearSession`. Cela supprimera sa session du serveur d’autorisation et le déconnectera de l’application.

      <Note>
        ##### Point de contrôle

        Ajoutez un bouton de déconnexion qui appelle `clearSession` et vérifiez que vous êtes redirigé vers le point de terminaison de déconnexion Auth0, puis de nouveau vers l’application. Vous ne devriez plus être connecté à votre application.
      </Note>

      <App5 />
    </Section>

    <Section id={sections[7].id} title={sections[7].title} stepNumber="8" isSingleColumn>
      Le hook `useAuth0` expose un objet `user` qui contient des informations sur l’utilisateur authentifié. Vous pouvez l’utiliser pour accéder aux informations de profil de l’utilisateur authentifié qui ont été décodées à partir du [jeton ID](https://auth0.com/docs/secure/tokens/id-tokens).

      Si un utilisateur n’a pas été authentifié, cette propriété sera définie à `null`.

      <Note>
        ##### Point de contrôle

        Ouvrez une session et inspectez la propriété `user` du résultat. Vérifiez les informations de profil de l’utilisateur
        actuel, comme `email` ou `name`.
      </Note>

      <App6 />
    </Section>

    ## Prochaines étapes

    Excellent travail! Si vous vous êtes rendu jusqu&#39;ici, vous devriez maintenant avoir la connexion, la déconnexion et les informations de profil utilisateur qui fonctionnent dans votre application.

    Ce tutoriel de démarrage rapide est maintenant terminé, mais il reste encore beaucoup à découvrir. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    * [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Découvrez comment configurer et gérer votre tenant Auth0 et vos applications
    * [react-native-auth0 SDK](https://github.com/auth0/react-native-auth0) - Explorez plus en détail la trousse de développement logiciel (SDK) utilisée dans ce tutoriel
    * [Auth0 Marketplace](https://marketplace.auth0.com/) - Découvrez des intégrations que vous pouvez activer pour étendre les fonctionnalités d’Auth0
  </Content>
</Recipe>