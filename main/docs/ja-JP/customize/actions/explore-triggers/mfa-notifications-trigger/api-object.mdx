---
title: "Actions - トリガー - send-phone-message - API オブジェクト"
permalink: "api-object"
---

send-phone-message Actions トリガーの API オブジェクトには、次の項目が含まれます。

<div id="apicache">
  ## `api.cache`
</div>

実行間で永続化されるデータの保存および取得を行います。

<div id="apicachedeletekey">
  ### `api.cache.delete(key)`
</div>

指定されたキーに対応するキャッシュ値のレコードが存在すれば、それを削除します。

キャッシュから値が削除された場合は、`type: "success"` を含む `CacheWriteResult` オブジェクトを返します。操作に失敗した場合は、`type: "error"` を返します。エラーが発生した場合、返されるオブジェクトには失敗の内容を示す `code` プロパティが含まれます。

<table class="table">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>key</code></td>

      <td>
        <p><em>String</em>。キャッシュに保存されているレコードのキー。</p>
      </td>
    </tr>
  </tbody>
</table>

<div id="apicachegetkey">
  ### `api.cache.get(key)`
</div>

指定された `key` に対応するキャッシュ済み値を記述したレコードを、
存在すれば取得します。レコードが見つかった場合、キャッシュされた値は
返されるオブジェクトの `value` プロパティで参照できます。

指定された `key` に対してキャッシュ内に項目が見つかった場合、
その項目を表すキャッシュレコードを返します。キャッシュレコードはオブジェクトであり、
キャッシュされた値を保持する `value` プロパティと、Unix エポックからの
ミリ秒でレコードの最大有効期限を示す `expires_at` プロパティを持ちます。

**Important:**
このキャッシュは短期間の一時的なデータ向けに設計されています。項目は、
指定された有効期間内であっても、以降のトランザクションでは利用できない
場合があります。

<table class="table">
  <thead>
    <tr>
      <th>パラメーター</th>
      <th>説明</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>key</code></td>

      <td>
        <p><em>String</em>。キャッシュに保存されているレコードのキー。</p>
      </td>
    </tr>
  </tbody>
</table>

<div id="apicachesetkey-value-options">
  ### `api.cache.set(key, value, [options])`
</div>

指定されたキーに対して、キャッシュに文字列値を保存または更新します。

このキャッシュに保存された値は、それらが設定された Trigger にスコープされます。
これらは
[Actions Cache Limits](/docs/ja-JP/customize/actions/limitations)
の制限の対象となります。

この方法で保存された値の有効期間は、指定された `ttl` または
`expires_at` の値までとなります。有効期間が指定されていない場合は、
デフォルトで 15 分の有効期間が使用されます。有効期間は、
[Actions Cache Limits](/docs/ja-JP/customize/actions/limitations)
に記載されている最大期間を超えることはできません。

<table class="table">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><code>key</code></td>

      <td>
        <p><em>String</em>。キャッシュに格納されるレコードのキー。</p>
      </td>
    </tr>

    <tr>
      <td><code>value</code></td>

      <td>
        <p><em>String</em>。保存されるレコードの値。</p>
      </td>
    </tr>

    <tr>
      <td><code>options</code></td>

      <td>
        <p><em>Optional object</em>。キャッシュ動作を調整するためのオプション。</p>
      </td>
    </tr>

    <tr>
      <td><code>options.expires&#95;at</code></td>

      <td>
        <p>
          <em>Optional number</em>。UNIX エポックからのミリ秒で表される絶対有効期限。
          キャッシュされたレコードはそれより早く削除される場合がありますが、
          指定された <code>expires&#95;at</code> を超えて残ることはありません。
        </p>

        <p>
          <em>Note:</em> <code>ttl</code> にも値を指定する場合、この値は指定しないでください。
          両方のオプションが指定された場合は、2 つのうち有効期限が早い方が使用されます。
        </p>
      </td>
    </tr>

    <tr>
      <td><code>options.ttl</code></td>

      <td>
        <p>
          <em>Optional number</em>。このキャッシュエントリの time-to-live (TTL) を
          ミリ秒で指定します。キャッシュされた値はそれより早く削除される場合がありますが、
          指定された <code>ttl</code> を超えて残ることはありません。
        </p>

        <p>
          <em>Note:</em> <code>expires&#95;at</code> にも値を指定する場合、この値は指定しないでください。
          両方のオプションが指定された場合は、2 つのうち有効期限が早い方が使用されます。
        </p>
      </td>
    </tr>
  </tbody>
</table>