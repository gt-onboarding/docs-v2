---
title: "Deploy CLIを構成する"
permalink: "configure-the-deploy-cli"
'description': "Auth0 Deploy CLIを構成して、ニーズに合わせてツールを変更する方法を説明します。"
'og:title': "Deploy CLIを構成する"
'og:description': "Auth0 Deploy CLIを構成して、ニーズに合わせてツールを変更する方法を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Deploy CLIを構成する"
'twitter:description': "Auth0 Deploy CLIを構成して、ニーズに合わせてツールを変更する方法を説明します。"
---

DeployのCLIを構成することは、Auth0の資格情報を確立するためだけでなく、一般的にはツールの動作を特定のニーズに合わせて変更するためにも不可欠です。Deploy CLIの構成方法は2通りあります。

1. 構成ファイル（`config.json`）を使用する。
2. 環境変数を設定する。

<div id="configuration-file">
  ## 構成ファイル
</div>

Deploy CLIの構成にはスタンドアロンJSONファイルを使用できます。このファイルは通常、プロジェクトのルートディレクトリにあり、`config.json`という名前でなければなりません。

<div id="examples">
  ### 例
</div>

```javascript lines
{
  "AUTH0_DOMAIN": "<YOUR_TENANT_DOMAIN>",
  "AUTH0_CLIENT_ID": "{yourClientId}",
  "AUTH0_ALLOW_DELETE": false
}
```

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
  資格情報をハードコードすることはお勧めしません。万が一、そのファイルが公開バージョン管理システムにコミットされた場合に、シークレットが漏洩する可能性があります。このリスクを軽減するために、ベストプラクティスに従い、資格情報を[環境変数](#environment-variables)として渡します。
</Callout>

<div id="environment-variables">
  ## 環境変数
</div>

デフォルトでは、Deploy CLIは環境変数を取り込み、`config.json`ファイルに公開しなくても資格情報やその他の構成をツールに渡すことができます。環境変数は、プロジェクトのニーズに応じて`config.json`ファイルを拡張するために使用することも、同ファイルを完全に置き換えるために使用することもできます。

`AUTH0_KEYWORD_REPLACE_MAPPINGS`や`AUTH0_EXCLUDED`のような非プリミティブ構成値も、これらの値が適切にシリアル化されたJSONである限り、環境変数を介して渡すことができます。

`import`または`export`コマンドのいずれかで環境変数の使用を無効にするには、`--env=false`引数を渡します。

<div id="examples">
  ### 例
</div>

<div id="deploying-configuration-for-yaml-formats-without-a-configjson-file">
  #### config.jsonファイルを使用せずにYAML形式の構成を展開する
</div>

```php lines
$ export AUTH0_DOMAIN={yourDomain}
$ export AUTH0_CLIENT_ID={yourClientId}
$ export AUTH0_CLIENT_SECRET={yourClientSecret}
$ a0deploy import --input_file=local/tenant.yaml
```

<div id="disable-environment-variable-ingestion">
  #### 環境変数の取り込みを無効にする
</div>

```php lines
$ a0deploy export -c=config.json --format=yaml --output_folder=local --env=false
```

<div id="non-primitive-configuration-values">
  #### 非プリミティブ構成値
</div>

```php lines
$ export AUTH0_EXCLUDED='["actions","organizations"]'
$ export AUTH0_KEYWORD_REPLACE_MAPPINGS='{"ENVIRONMENT":"dev"}'
$ a0deploy export -c=config.json --format=yaml --output_folder=local
```

<div id="available-configuration-properties">
  ## 利用可能な構成プロパティ
</div>

<div id="auth0_domain">
  ### AUTH0&#95;DOMAIN
</div>

文字列。対象のAuth0テナントのドメイン。

<div id="auth0_client_id">
  ### AUTH0&#95;CLIENT&#95;ID
</div>

文字列。API要求を行うために使用される、指定されたAuth0アプリケーションのID。

<div id="auth0_client_secret">
  ### AUTH0&#95;CLIENT&#95;SECRET
</div>

文字列。API要求を行うために使用される、指定されたAuth0アプリケーションのシークレット。

<div id="auth0_access_token">
  ### AUTH0&#95;ACCESS&#95;TOKEN
</div>

文字列。指定されたAuth0アプリケーションからの<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/docs/ja-JP/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>への有効期間の短いアクセストークン。クライアントIDとクライアントシークレットの組み合わせの代わりに使用できます。

<div id="auth0_client_signing_key_path">
  ### AUTH0&#95;CLIENT&#95;SIGNING&#95;KEY&#95;PATH
</div>

文字列。秘密鍵<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-3" href="/docs/ja-JP/ja-jp/glossary?term=json-web-token" tip="JSON Web Token（JWT）: 二者間のクレームを安全に表現するために使用される標準IDトークン形式（および多くの場合、アクセストークン形式）。" cta="用語集の表示">JWT</Tooltip>認証を促進する際にクライアントが使用するプライベートキーへのパス。作業ディレクトリからの相対パス。署名アルゴリズムを指定するには、`AUTH0_CLIENT_SIGNING_ALGORITHM`も指定してください。

<div id="auth0_client_signing_algorithm">
  ### AUTH0&#95;CLIENT&#95;SIGNING&#95;ALGORITHM
</div>

文字列。秘密鍵JWT認証を促進する際にクライアントが使用するJWT署名アルゴリズムを指定します。`AUTH0_CLIENT_SIGNING_KEY_PATH`との組み合わせでのみ使用されます。

受け入れられる値：`RS256`、`RS384`、`PS256`

<div id="auth0_allow_delete">
  ### AUTH0&#95;ALLOW&#95;DELETE
</div>

ブール値。有効にすると、ツールでリソースを削除できるようになります。デフォルト：`false`

<div id="auth0_excluded">
  ### AUTH0&#95;EXCLUDED
</div>

文字列の配列。双方向で管理対象からリソースタイプ全体を除外します。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

[AUTH0&#95;INCLUDED&#95;ONLY](#auth0_included_only)と同時に使用することはできません。

可能な値：`actions`、`attackProtection`、`branding`、`clientGrants`、`clients`、`connections`、`customDomains`、`databases`、`emailProvider`、`emailTemplates`、`guardianFactorProviders`、`guardianFactorTemplates`、`guardianFactors`、`guardianPhoneFactorMessageTypes`、`guardianPhoneFactorSelectedProvider`、`guardianPolicies`、`logStreams`、`migrations`、`organizations`、`pages`、`prompts`、`resourceServers`、`roles`、`tenant`、`triggers`

<div id="example">
  #### 例
</div>

```json lines
{
  "AUTH0_EXCLUDED": ["organizations", "connections", "hooks"]
}
```

<div id="auth0_included_only">
  ### AUTH0&#95;INCLUDED&#95;ONLY
</div>

文字列の配列。双方向で管理するリソースの種類を指定します。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

[AUTH0&#95;EXCLUDED](#auth0_excluded)と同時に使用することはできません。

可能な値：`actions`、`attackProtection`、`branding`、`clientGrants`、`clients`、`connections`、`customDomains`、`databases`、`emailProvider`、`emailTemplates`、`guardianFactorProviders`、`guardianFactorTemplates`、`guardianFactors`、`guardianPhoneFactorMessageTypes`、`guardianPhoneFactorSelectedProvider`、`guardianPolicies`、`logStreams`、`migrations`、`organizations`、`pages`、`prompts`、`resourceServers`、`roles`、`tenant`、`triggers`

<div id="example">
  #### 例
</div>

```json lines
{
  "AUTH0_INCLUDED_ONLY": ["clients", "connections", "tenant", "branding"]
}
```

<div id="auth0_keyword_replace_mappings">
  ### AUTH0&#95;KEYWORD&#95;REPLACE&#95;MAPPINGS
</div>

特定のキーワードを施設の動的な置換にマッピングします。詳細については、[キーワードの置換](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/keyword-replacement)をお読みください。

<div id="example">
  #### 例
</div>

```javascript lines
{
  "ENVIRONMENT": "DEV",
  "ALLOWED_ORIGINS": ["https://dev.test-site.com", "localhost"]
}
```

<div id="auth0_preserve_keywords">
  ### AUTH0&#95;PRESERVE&#95;KEYWORDS
</div>

ブール値。有効にすると、エクスポート時にローカルリソースファイル内のキーワード置換マーカーの保存を試みます。それ以外の場合は、リモート値が手動で配置されたキーワードマーカーを上書きします。

この構成では、ローカル構成ファイルの存在と、`AUTH0_KEYWORD_REPLACE_MAPPINGS`構成プロパティを介して定義されたキーワード置換マッピングが必要です。

次の記事も参照してください：[エクスポート時にキーワードを保持する](https://auth0.com/docs/deploy-monitor/deploy-cli-tool/keyword-replacement#preserve-keywords-on-export)

<div id="auth0_export_identifiers">
  ### AUTH0&#95;EXPORT&#95;IDENTIFIERS
</div>

ブール値。有効にすると、すべてのリソースの識別子が返されます。単一テナントの場合に、特定のデバッグや記録管理で役立つ可能性があります。デフォルト：`false`

<div id="excluded_props">
  ### EXCLUDED&#95;PROPS
</div>

管理対象から不要なプロパティを除外する機能を提供します。

<div id="example">
  #### 例
</div>

```javascript lines
{
  "connections": ["options.twilio_token"]
}
```

<div id="auth0_audience">
  ### AUTH0&#95;AUDIENCE
</div>

文字列。Management APIのアクセストークンを取得する際に、値をオーディエンスの値から分離します。デフォルトのManagement APIエンドポイントが一般に公開されていない場合に役立ちます。

<div id="auth0_excluded_rules">
  ### AUTH0&#95;EXCLUDED&#95;RULES
</div>

文字列の配列。IDによる特定のルールの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

<div id="auth0_excluded_clients">
  ### AUTH0&#95;EXCLUDED&#95;CLIENTS
</div>

文字列の配列。IDによる特定のクライアントの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

<div id="auth0_excluded_databases">
  ### AUTH0&#95;EXCLUDED&#95;DATABASES
</div>

文字列の配列。IDによる特定のデータベースの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

<div id="auth0_excluded_connections">
  ### AUTH0&#95;EXCLUDED&#95;CONNECTIONS
</div>

文字列の配列。IDによる特定の接続の管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

<div id="auth0_excluded_resource_servers">
  ### AUTH0&#95;EXCLUDED&#95;RESOURCE&#95;SERVERS
</div>

文字列の配列。IDによる特定のリソースサーバーの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/docs/ja-JP/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。