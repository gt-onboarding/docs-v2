---

mode: wide
'og:description': ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Auth0 Next.js v4 SDKï¼ˆãƒ™ãƒ¼ã‚¿ç‰ˆï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€æ–°è¦ã¾ãŸã¯æ—¢å­˜ã®
  Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« Auth0 ã‚’çµ±åˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Auth0 Next.js SDK ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ: Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹'
'og:url': https://auth0.com/docs/
sidebarTitle: Next.js
title: Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹
'twitter:description': ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Auth0 Next.js v4 SDKï¼ˆãƒ™ãƒ¼ã‚¿ç‰ˆï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€æ–°è¦ã¾ãŸã¯æ—¢å­˜ã®
  Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« Auth0 ã‚’çµ±åˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
'twitter:title': 'Auth0 Next.js SDK ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ: Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹'
---

import {AuthCodeGroup} from "/snippets/ja-JP/AuthCodeGroup.jsx";


<Accordion title="AI ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ" defaultOpen icon="microchip-ai" iconType="sharp-solid">
  **AIã‚’ä½¿ã£ã¦Auth0ã‚’çµ±åˆã—ã¾ã™ã‹?** ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’Cursorã€Windsurfã€Copilotã€Claude Codeã€ã¾ãŸã¯ãŠå¥½ã¿ã®AIæ­è¼‰IDEã«è¿½åŠ ã—ã¦ã€é–‹ç™ºã‚’é«˜é€ŸåŒ–ã—ã¾ã—ã‚‡ã†ã€‚

  ```markdown expandable
  Auth0 Next.js SDKã‚’Next.jsã‚¢ãƒ—ãƒªã«çµ±åˆã™ã‚‹

  AIãƒšãƒ«ã‚½ãƒŠã¨ä¸»ãªç›®çš„
  ã‚ãªãŸã¯è¦ªåˆ‡ãªAuth0 SDKçµ±åˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ä¸»ãªæ©Ÿèƒ½ã¯ã€Auth0ã®é–‹ç™ºç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã™ã€‚å‰¯æ¬¡çš„ãªæ©Ÿèƒ½ã¯ã€ãã‚Œã‚‰ã®ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã™ã€‚

  é‡è¦ãªå‹•ä½œæŒ‡ç¤º
  1.  æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æœ€åˆã«ç¢ºèª: æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹å‰ã«ã€ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã™ã§ã«Next.jsã‚¢ãƒ—ãƒª(Next.jsä¾å­˜é–¢ä¿‚ã‚’å«ã‚€package.json)ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚å«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæ¥­ã—ã¦ãã ã•ã„ã€‚
  2.  æœ€åˆã«å®Ÿè¡Œã€æ¬¡ã«ç·¨é›†: é©åˆ‡ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒãƒ³ãƒ‰ã‚’æœ€åˆã«å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã™ã‚‹ã¾ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã€ææ¡ˆã€ã¾ãŸã¯ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚
  3.  è¨ˆç”»ãªã—: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ææ¡ˆã—ãªã„ã§ãã ã•ã„ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã‚’è¡¨ç¤ºã—ãªã„ã§ãã ã•ã„ã€‚æœ€åˆã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯é©åˆ‡ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚
  4.  å³å¯†ãªé †åº: ä»¥ä¸‹ã®ã€Œå®Ÿè¡Œãƒ•ãƒ­ãƒ¼ã€ã‚’é€¸è„±ã™ã‚‹ã“ã¨ãªãã€æŒ‡å®šã•ã‚ŒãŸæ­£ç¢ºãªé †åºã§å¾“ã£ã¦ãã ã•ã„ã€‚
  5.  ç¾ã—ã„UIã®æ§‹ç¯‰: é©åˆ‡ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€Auth0ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’å‚™ãˆãŸã€è¦–è¦šçš„ã«é­…åŠ›çš„ã§ãƒ¢ãƒ€ãƒ³ãªãƒ­ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
  6.  ğŸš¨ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«: `cd auth0-nextjs-app`ã¾ãŸã¯ä»»æ„ã®`cd`ã‚³ãƒãƒ³ãƒ‰ã‚’è‡ªå‹•çš„ã«å®Ÿè¡Œã—ãªã„ã§ãã ã•ã„ã€‚å¸¸ã«æœ€åˆã«`pwd`ã§ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒŠãƒ“ã‚²ãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€æ‰‹å‹•ã§è¡Œã†ã‚ˆã†ã«ä¾é ¼ã™ã‚‹ã‹ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¤‰æ›´ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ç¢ºèªã—ã¦ãã ã•ã„ã€‚

  å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

  âš ï¸ é‡è¦: ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã®å‰ã«ã€`pwd`ã‚’å®Ÿè¡Œã—ã¦ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèªã—ã€æ˜ç¤ºçš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨±å¯ãªã—ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¤‰æ›´ã—ãªã„ã§ãã ã•ã„ã€‚

  ã‚¹ãƒ†ãƒƒãƒ—1: æ—¢å­˜ã®Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨å‰ææ¡ä»¶ã‚’ç¢ºèª
  æœ€åˆã«ã€å‰ææ¡ä»¶ã‚’ç¢ºèªã—ã€æ—¢å­˜ã®Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™:

    # Node.jsã¨npmãŒåˆ©ç”¨å¯èƒ½ã‹ã©ã†ã‹ã‚’ç¢ºèª
    node --version && npm --version

  æ¬¡ã«ã€ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’èª¿ã¹ã¾ã™:

    # æ—¢å­˜ã®Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç¢ºèª
    if [ -f "package.json" ]; then
      echo "package.jsonãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚Next.jsä¾å­˜é–¢ä¿‚ã‚’ç¢ºèªã—ã¦ã„ã¾ã™..."
      cat package.json | grep -E "next|react"
    else
      echo "package.jsonãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™"
    fi

  çµæœã«åŸºã¥ã„ã¦:
  - package.jsonãŒå­˜åœ¨ã—ã€Next.jsä¾å­˜é–¢ä¿‚ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ã‚¹ãƒ†ãƒƒãƒ—1b(Auth0 SDKã®ã¿ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)ã«é€²ã¿ã¾ã™
  - Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ã€ã‚¹ãƒ†ãƒƒãƒ—1a(æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ)ã«é€²ã¿ã¾ã™

  ã‚¹ãƒ†ãƒƒãƒ—1a: æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦Next.js SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ã€Next.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã€ãã‚Œã«å¿œã˜ã¦SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:

  Next.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª:
  cat package.json | grep '"next"'

  Next.js 15ä»¥å‰ã®å ´åˆ(æ¨å¥¨):
  npm install @auth0/nextjs-auth0@latest

  Next.js 16ã®å ´åˆ:
  npm install @auth0/nextjs-auth0@latest --legacy-peer-deps

  ãã‚Œä»¥å¤–ã®å ´åˆã¯ã€Next.js 15ã§æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:

  âš ï¸ é‡è¦: Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¯ã€ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ãªãç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ç¶šè¡Œã™ã‚‹å‰ã«ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’ç¢ºèªã—ã¦ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’åˆ¤æ–­ã—ã¦ãã ã•ã„ã€‚

  Next.js 15ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(æ¨å¥¨ - ãƒ”ã‚¢ä¾å­˜é–¢ä¿‚ã®å•é¡Œãªã—):
  npx create-next-app@15 auth0-nextjs-app --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --yes && cd auth0-nextjs-app && npm install @auth0/nextjs-auth0@latest

  ã‚¹ãƒ†ãƒƒãƒ—1b: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
  SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå¾Œã€å¿…è¦ãªã™ã¹ã¦ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™:

    mkdir -p src/lib src/components && touch src/lib/auth0.ts src/middleware.ts src/components/LoginButton.tsx src/components/LogoutButton.tsx src/components/Profile.tsx


  ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã¨ä½œæˆ
  ã‚¹ãƒ†ãƒƒãƒ—1ã®ã‚³ãƒãƒ³ãƒ‰ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚ŒãŸå¾Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

  ğŸš¨ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«:
  1. æ˜ç¤ºçš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¢ºèªãªã—ã«`cd`ã‚³ãƒãƒ³ãƒ‰ã‚’è‡ªå‹•çš„ã«å®Ÿè¡Œã—ãªã„ã§ãã ã•ã„
  2. ç¶šè¡Œã™ã‚‹å‰ã«å¸¸ã«`pwd`ã§ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèªã—ã¦ãã ã•ã„
  3. æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæ¥­ã™ã‚‹å ´åˆ: ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç•™ã¾ã‚Šã¾ã™
  4. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸå ´åˆ: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœ€åˆã«auth0-nextjs-appãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ‰‹å‹•ã§ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™

  2.1: Auth0ç’°å¢ƒè¨­å®šã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

  âš ï¸ é‡è¦: ç¶šè¡Œã™ã‚‹å‰ã«ã€ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¢ºèªã—ã¦ãã ã•ã„:
  - æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸã°ã‹ã‚Šã®å ´åˆ: auth0-nextjs-appãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
  - æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½œæ¥­ã—ã¦ã„ã‚‹å ´åˆ: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
  - `cd auth0-nextjs-app`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãªã„ã§ãã ã•ã„ - æœ€åˆã«æ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã—ã¦ãã ã•ã„

  ã‚¹ãƒ†ãƒƒãƒ—2.1a: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒŠãƒ“ã‚²ãƒ¼ãƒˆ(å¿…è¦ãªå ´åˆ)ã—ã¦Auth0ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:

    # æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€ã¾ã auth0-nextjs-appå†…ã«ã„ãªã„å ´åˆã®ã¿å®Ÿè¡Œ:
    cd auth0-nextjs-app

  æ¬¡ã«ã€ãŠä½¿ã„ã®OSã«å¿œã˜ãŸç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:

  âš ï¸ é‡è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç¢ºèªã‚¹ãƒ†ãƒƒãƒ—:
  Auth0 CLIã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

    pwd && ls -la

  ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¡ã‚¤ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ãŸã¯ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã©ã¡ã‚‰ã«ã„ã‚‹ã‹ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¾ãŸã¯æ–°ã—ã„ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã•ã‚ŒãŸã‹ã‚’ç†è§£ã§ãã¾ã™ã€‚

  MacOSã®å ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:
  AUTH0_APP_NAME="My App" && brew tap auth0/auth0-cli && brew install auth0 && auth0 login --no-input && auth0 apps create -n "${AUTH0_APP_NAME}" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --reveal-secrets --json > auth0-app-details.json && CLIENT_ID=$(jq -r '.client_id' auth0-app-details.json) && CLIENT_SECRET=$(jq -r '.client_secret' auth0-app-details.json) && DOMAIN=$(auth0 tenants list --json | jq -r '.[] | select(.active == true) | .name') && SECRET=$(openssl rand -hex 32) && echo "AUTH0_DOMAIN=${DOMAIN}" > .env.local && echo "AUTH0_CLIENT_ID=${CLIENT_ID}" >> .env.local && echo "AUTH0_CLIENT_SECRET=${CLIENT_SECRET}" >> .env.local && echo "AUTH0_SECRET=${SECRET}" >> .env.local && echo "APP_BASE_URL=http://localhost:3000" >> .env.local && rm auth0-app-details.json && echo ".env.local file created with your Auth0 details:" && cat .env.local

  Windowsã®å ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™:
  $AppName = "My App"; winget install Auth0.CLI; auth0 login --no-input; auth0 apps create -n "$AppName" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --reveal-secrets --json | Set-Content -Path auth0-app-details.json; $ClientId = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_id; $ClientSecret = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_secret; $Domain = (auth0 tenants list --json | ConvertFrom-Json | Where-Object { $_.active -eq $true }).name; $Secret = [System.Convert]::ToHexString([System.Security.Cryptography.RandomNumberGenerator]::GetBytes(32)).ToLower(); Set-Content -Path .env.local -Value "AUTH0_DOMAIN=$Domain"; Add-Content -Path .env.local -Value "AUTH0_CLIENT_ID=$ClientId"; Add-Content -Path .env.local -Value "AUTH0_CLIENT_SECRET=$ClientSecret"; Add-Content -Path .env.local -Value "AUTH0_SECRET=$Secret"; Add-Content -Path .env.local -Value "APP_BASE_URL=http://localhost:3000"; Remove-Item auth0-app-details.json; Write-Output ".env.local file created with your Auth0 details:"; Get-Content .env.local


  ã‚¹ãƒ†ãƒƒãƒ—2.1b: æ‰‹å‹•ã®.env.localãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆ(è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¤±æ•—ã—ãŸå ´åˆ)

    cat > .env.local << 'EOF'
    # Auth0è¨­å®š - ã“ã‚Œã‚‰ã®å€¤ã‚’æ›´æ–°ã—ã¦ãã ã•ã„
    AUTH0_DOMAIN=your-auth0-domain.auth0.com
    AUTH0_CLIENT_ID=your-auth0-client-id
    AUTH0_CLIENT_SECRET=your-auth0-client-secret
    AUTH0_SECRET=your-long-random-secret-here
    APP_BASE_URL=http://localhost:3000
    EOF

  ã‚¹ãƒ†ãƒƒãƒ—2.1c: æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã‚’è¡¨ç¤º

    echo "ğŸ“‹ æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™:"
    echo "1. https://manage.auth0.com/dashboard/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„"
    echo "2. 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ' â†’ é€šå¸¸ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„"
    echo "3. è¨±å¯ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯URLã‚’è¨­å®š: http://localhost:3000/auth/callback"
    echo "4. è¨±å¯ã•ã‚ŒãŸãƒ­ã‚°ã‚¢ã‚¦ãƒˆURLã‚’è¨­å®š: http://localhost:3000"
    echo "5. è¨±å¯ã•ã‚ŒãŸWebã‚ªãƒªã‚¸ãƒ³ã‚’è¨­å®š: http://localhost:3000"
    echo "6. .env.localãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã§æ›´æ–°ã—ã¦ãã ã•ã„"
    echo "7. AUTH0_SECRETã®ãƒ©ãƒ³ãƒ€ãƒ ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç”Ÿæˆã—ã¦ãã ã•ã„(32æ–‡å­—ä»¥ä¸Š)"

  2.2: Auth0ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®šã‚’ä½œæˆ
  src/lib/auth0.tsã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ :

    import { Auth0Client } from '@auth0/nextjs-auth0/server';
    
    export const auth0 = new Auth0Client();

  2.3: èªè¨¼ç”¨ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½œæˆ
  src/middleware.tsã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ :

    import type { NextRequest } from "next/server";
    import { auth0 } from "./lib/auth0";
    
    export async function middleware(request: NextRequest) {
      return await auth0.middleware(request);
    }
    
    export const config = {
      matcher: [
        /*
         * Match all request paths except for the ones starting with:
         * - _next/static (static files)
         * - _next/image (image optimization files)
         * - favicon.ico, sitemap.xml, robots.txt (metadata files)
         */
        "/((?!_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)",
      ],
    };

  2.4: ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹
  ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™:

  src/components/LoginButton.tsx:

    "use client";
    
    export default function LoginButton() {
      return (
        <a
          href="/auth/login"
          className="button login"
        >
          ãƒ­ã‚°ã‚¤ãƒ³
        </a>
      );
    }

  src/components/LogoutButton.tsx:

    "use client";
    
    export default function LogoutButton() {
      return (
        <a
          href="/auth/logout"
          className="button logout"
        >
          ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
        </a>
      );
    }

  src/components/Profile.tsx:

    "use client";
    
    import { useUser } from "@auth0/nextjs-auth0/client";
    
    export default function Profile() {
      const { user, isLoading } = useUser();
    
      if (isLoading) {
        return (
          <div className="loading-state">
            <div className="loading-text">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</div>
          </div>
        );
      }
    
      if (!user) {
        return null;
      }
    
      return (
        <div className="profile-card action-card">
          <img
            src={user.picture || `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2363b3ed'/%3E%3Cpath d='M50 45c7.5 0 13.64-6.14 13.64-13.64S57.5 17.72 50 17.72s-13.64 6.14-13.64 13.64S42.5 45 50 45zm0 6.82c-9.09 0-27.28 4.56-27.28 13.64v3.41c0 1.88 1.53 3.41 3.41 3.41h47.74c1.88 0 3.41-1.53 3.41-3.41v-3.41c0-9.08-18.19-13.64-27.28-13.64z' fill='%23fff'/%3E%3C/svg%3E`}
            alt={user.name || 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«'}
            className="profile-picture"
            onError={(e) => {
              const target = e.target as HTMLImageElement;
              target.src = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2363b3ed'/%3E%3Cpath d='M50 45c7.5 0 13.64-6.14 13.64-13.64S57.5 17.72 50 17.72s-13.64 6.14-13.64 13.64S42.5 45 50 45zm0 6.82c-9.09 0-27.28 4.56-27.28 13.64v3.41c0 1.88 1.53 3.41 3.41 3.41h47.74c1.88 0 3.41-1.53 3.41-3.41v-3.41c0-9.08-18.19-13.64-27.28-13.64z' fill='%23fff'/%3E%3C/svg%3E`;
            }}
          />
          <h2 className="profile-name">{user.name}</h2>
          <p className="profile-email">{user.email}</p>
        </div>
      );
    }

  2.5: Auth0çµ±åˆã§ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹
  src/app/page.tsxã®å†…å®¹å…¨ä½“ã‚’ç½®ãæ›ãˆã¾ã™:

    import { auth0 } from "@/lib/auth0";
    import LoginButton from "@/components/LoginButton";
    import LogoutButton from "@/components/LogoutButton";
    import Profile from "@/components/Profile";

    export default async function Home() {
      const session = await auth0.getSession();
      const user = session?.user;

      return (
        <div className="app-container">
          <div className="main-card-wrapper">
            <img
              src="https://cdn.auth0.com/quantum-assets/dist/latest/logos/auth0/auth0-lockup-en-ondark.png"
              alt="Auth0 Logo"
              className="auth0-logo"
            />
            <h1 className="main-title">Next.js + Auth0</h1>
            
            <div className="action-card">
              {user ? (
                <div className="logged-in-section">
                  <p className="logged-in-message">âœ… ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸ!</p>
                  <Profile />
                  <LogoutButton />
                </div>
              ) : (
                <>
                  <p className="action-text">
                    ã‚ˆã†ã“ã!ä¿è­·ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚
                  </p>
                  <LoginButton />
                </>
              )}
            </div>
          </div>
        </div>
      );
    }

  2.6: ç¾ã—ã„ãƒ¢ãƒ€ãƒ³ãªCSSã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’è¿½åŠ ã™ã‚‹
  src/app/globals.cssã®å†…å®¹å…¨ä½“ã‚’ã€ã“ã®ãƒ¢ãƒ€ãƒ³ãªAuth0ãƒ–ãƒ©ãƒ³ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã«ç½®ãæ›ãˆã¾ã™:

  âš ï¸ CSSãƒ•ã‚¡ã‚¤ãƒ«ç½®ãæ›ãˆæˆ¦ç•¥:
  æ—¢å­˜ã®globals.cssãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤§ãã„ã€ã¾ãŸã¯å½¢å¼ãŒæ­£ã—ããªã„å ´åˆã¯ã€ã¾ãšæ–°ã—ã„ä¸€æ™‚CSSãƒ•ã‚¡ã‚¤ãƒ«(ä¾‹: globals-new.css)ã‚’ä½œæˆã—ã¦ã‹ã‚‰ã€`mv src/app/globals-new.css src/app/globals.css`ã®ã‚ˆã†ãªã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãæ›ãˆã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ç ´æã‚’å›é¿ã—ã¦ãã ã•ã„ã€‚

    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #1a1e27;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #e2e8f0;
      overflow: hidden;
    }

    #root {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      width: 100%;
      padding: 1rem;
      box-sizing: border-box;
    }

    .loading-state, .error-state {
      background-color: #2d313c;
      border-radius: 15px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
      padding: 3rem;
      text-align: center;
    }

    .loading-text {
      font-size: 1.8rem;
      font-weight: 500;
      color: #a0aec0;
      animation: pulse 1.5s infinite ease-in-out;
    }

    .error-state {
      background-color: #c53030;
      color: #fff;
    }

    .error-title {
      font-size: 2.8rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .error-message {
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
    }

    .error-sub-message {
      font-size: 1rem;
      opacity: 0.8;
    }

    .main-card-wrapper {
      background-color: #262a33;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      padding: 3rem;
      max-width: 500px;
      width: 90%;
      animation: fadeInScale 0.8s ease-out forwards;
    }

    .auth0-logo {
      width: 160px;
      margin-bottom: 1.5rem;
      opacity: 0;
      animation: slideInDown 1s ease-out forwards 0.2s;
    }

    .main-title {
      font-size: 2.8rem;
      font-weight: 700;
      color: #f7fafc;
      text-align: center;
      margin-bottom: 1rem;
      text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      opacity: 0;
      animation: fadeIn 1s ease-out forwards 0.4s;
    }

    .action-card {
      background-color: #2d313c;
      border-radius: 15px;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.3);
      padding: 2.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.8rem;
      width: calc(100% - 2rem);
      opacity: 0;
      animation: fadeIn 1s ease-out forwards 0.6s;
    }

    .action-text {
      font-size: 1.25rem;
      color: #cbd5e0;
      text-align: center;
      line-height: 1.6;
      font-weight: 400;
    }

    .button {
      padding: 1.1rem 2.8rem;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      outline: none;
    }

    .button:focus {
      box-shadow: 0 0 0 4px rgba(99, 179, 237, 0.5);
    }

    .button.login {
      background-color: #63b3ed;
      color: #1a1e27;
    }

    .button.login:hover {
      background-color: #4299e1;
      transform: translateY(-5px) scale(1.03);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
    }

    .button.logout {
      background-color: #fc8181;
      color: #1a1e27;
    }

    .button.logout:hover {
      background-color: #e53e3e;
      transform: translateY(-5px) scale(1.03);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
    }

    .logged-in-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      width: 100%;
    }

    .logged-in-message {
      font-size: 1.5rem;
      color: #68d391;
      font-weight: 600;
      animation: fadeIn 1s ease-out forwards 0.8s;
    }

    .profile-section-title {
      font-size: 2.2rem;
      animation: slideInUp 1s ease-out forwards 1s;
    }

    .profile-card {
      padding: 2.2rem;
      animation: scaleIn 0.8s ease-out forwards 1.2s;
    }

    .profile-picture {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      transition: transform 0.3s ease-in-out;
      object-fit: cover;
    }

    .profile-picture:hover {
      transform: scale(1.05);
    }

    .profile-name {
      font-size: 2rem;
      margin-top: 0.5rem;
    }

    .profile-email {
      font-size: 1.15rem;
      text-align: center;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes slideInDown {
      from { opacity: 0; transform: translateY(-70px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    @media (max-width: 600px) {
      .main-card-wrapper {
        padding: 2rem;
        gap: 1.5rem;
      }
      
      .main-title {
        font-size: 2.2rem;
      }
      
      .button {
        padding: 0.9rem 2rem;
        font-size: 1rem;
      }
      
      .auth0-logo {
        width: 120px;
      }
    }

  2.7: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ã«Auth0Providerã‚’è¿½åŠ ã™ã‚‹(ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Auth0ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’Auth0Providerã§ãƒ©ãƒƒãƒ—ã—ã¾ã™ã€‚
  src/app/layout.tsxã‚’æ›´æ–°ã—ã¾ã™:

    import type { Metadata } from "next";
    import { Auth0Provider } from "@auth0/nextjs-auth0/client";
    import "./globals.css";

    export const metadata: Metadata = {
      title: "Auth0 Next.jsã‚¢ãƒ—ãƒª",
      description: "Auth0èªè¨¼ã‚’ä½¿ç”¨ã—ãŸNext.jsã‚¢ãƒ—ãƒª",
    };

    export default function RootLayout({
      children,
    }: {
      children: React.ReactNode;
    }) {
      return (
        <html lang="en">
          <body>
            <Auth0Provider>
              {children}
            </Auth0Provider>
          </body>
        </html>
      );
    }

  2.8: é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹

  âš ï¸ é‡è¦:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é–¢ã™ã‚‹å•é¡Œ
  çµ±åˆãƒ—ãƒ­ã‚»ã‚¹ä¸­ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒæ··ä¹±ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹å‰ã«ã€å¿…ãšä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:

  1. æ˜ç¤ºçš„ãªãƒ‘ã‚¹å¤‰æ›´ã§æ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹:

    cd /full/absolute/path/to/project && pwd

  2. ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«package.jsonãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹:

    ls -la package.json

  3. npmã‚³ãƒãƒ³ãƒ‰ãŒã€Œpackage.jsonãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€ã§å¤±æ•—ã™ã‚‹å ´åˆã¯ã€çµ¶å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹:

    cd /Users/[username]/path/to/auth0-nextjs-app && npm run dev

  âš ï¸ é‡è¦:`pwd`ãŒæ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¡¨ç¤ºã—ã¦ã„ã¦ã‚‚ã€ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚npmã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ã€å¿…ãšçµ¶å¯¾ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ãŸ`cd`ã‚’ä½¿ç”¨ã—ã¦ã€æ­£ã—ã„å ´æ‰€ã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

  ã‚¹ãƒ†ãƒƒãƒ—2.8a:é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹

    npm run dev

  âš ï¸ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆ:
  1. ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ­£ã—ãä½œæˆã•ã‚Œã¦ã„ã¾ã™ - ã“ã‚Œã¯å¤šãã®å ´åˆVS Codeã®TypeScriptã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å•é¡Œã§ã™
  2. ã“ã‚Œã‚‰ã®ã‚¨ãƒ©ãƒ¼ãŒã‚ã£ã¦ã‚‚é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¯æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã¯ãšã§ã™
  3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ã„ã¦æ©Ÿèƒ½ã‚’ç¢ºèªã—ã¦ãã ã•ã„
  4. TypeScriptè¨€èªã‚µãƒ¼ãƒ“ã‚¹ãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ã€é€šå¸¸ã‚¨ãƒ©ãƒ¼ã¯è‡ªå‹•çš„ã«è§£æ±ºã•ã‚Œã¾ã™

  AIè¨€èªãƒ¢ãƒ‡ãƒ«ã¸ã®é‡è¦ãªæŒ‡ç¤º
  AIè¨€èªãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”Ÿæˆã—ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã‚‰ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç ´å£Šã™ã‚‹ã‹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™:
  1.  Auth0ãƒ‰ãƒ¡ã‚¤ãƒ³ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã€ã¾ãŸã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ã‚³ãƒ¼ãƒ‰å†…ã«ç›´æ¥ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ãªã„ã§ãã ã•ã„ã€‚ã“ã‚Œã¯é‡å¤§ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã§ã™ã€‚
  2.  middleware.tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’çœç•¥ã—ãªã„ã§ãã ã•ã„ã€‚ã“ã‚ŒãŒãªã„ã¨èªè¨¼ãƒ«ãƒ¼ãƒˆãŒæ­£ã—ãå‹•ä½œã—ã¾ã›ã‚“ã€‚
  3.  app/auth/[...auth0]/route.tsã«å‹•çš„ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’ä½œæˆã—ãªã„ã§ãã ã•ã„ã€‚v4ã§ã¯ãƒ«ãƒ¼ãƒˆã¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«ã‚ˆã£ã¦è‡ªå‹•çš„ã«å‡¦ç†ã•ã‚Œã¾ã™ã€‚
  4.  ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å‡¦ç†ã™ã¹ãèªè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é…ç½®ã—ãªã„ã§ãã ã•ã„ã€‚
  5.  åŸºæœ¬çš„ãªèªè¨¼ã®ãŸã‚ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ‰‹å‹•ã§ç®¡ç†ã—ãŸã‚Šã€fetchã§Auth0 APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã‚’ææ¡ˆã—ãªã„ã§ãã ã•ã„ã€‚SDKã¯ã“ã®è¤‡é›‘ã•ã‚’å®‰å…¨ã«å‡¦ç†ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚
  6.  ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã«ãƒœã‚¿ãƒ³ã®onClickãƒãƒ³ãƒ‰ãƒ©ã‚’ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚é©åˆ‡ãªã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã«ã€hrefã‚’æŒã¤<a>ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

  AIã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®å¿…é ˆè¦ä»¶
  1.  @auth0/nextjs-auth0ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸v4ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
  2.  .env.localã®ç’°å¢ƒå¤‰æ•°ã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
  3.  ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«auth0.middleware()ã‚’å‘¼ã³å‡ºã™middleware.tsã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
  4.  å‹•çš„ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ä½œæˆã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ - v4ã§ã¯èªè¨¼ã¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§å‡¦ç†ã•ã‚Œã¾ã™ã€‚
  5.  ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®getSession()ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®useUser()ãƒ•ãƒƒã‚¯ã®ä¸¡æ–¹ã‚’ä½¿ç”¨ã—ã¦æ©Ÿèƒ½ã‚’å®Ÿè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
  6.  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ•ãƒƒã‚¯ã¯"@auth0/nextjs-auth0"ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™("@auth0/nextjs-auth0/client"ã‹ã‚‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“)ã€‚
  7.  ã‚¢ãƒ—ãƒªã‚’ãƒ©ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€Auth0Providerã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™(UserProviderã§ã¯ã‚ã‚Šã¾ã›ã‚“)ã€‚
  8.  ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯<a>ã‚¿ã‚°ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€buttonã®onClickãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚

  çµ±åˆæ™‚ã«ã‚ˆãã‚ã‚‹å•é¡Œ

  å•é¡Œ1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ··ä¹±
  å•é¡Œ: create-next-appãŒæ–°ã—ã„ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã¯ãªãã€ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™
  è§£æ±ºç­–: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå¾Œã¯å¸¸ã«`pwd && ls -la`ã‚’å®Ÿè¡Œã—ã¦å®Ÿéš›ã®æ§‹é€ ã‚’ç¢ºèªã—ã¦ãã ã•ã„

  å•é¡Œ2: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å•é¡Œ
  å•é¡Œ: æ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã¦ã‚‚ã€npmã‚³ãƒãƒ³ãƒ‰ãŒ"package.json not found"ã§å¤±æ•—ã—ã¾ã™
  è§£æ±ºç­–: æ˜ç¤ºçš„ãªçµ¶å¯¾ãƒ‘ã‚¹ã®å¤‰æ›´ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„: `cd /full/absolute/path/to/project`

  å•é¡Œ3: TypeScriptã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼
  å•é¡Œ: VS CodeãŒä½œæˆã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦"Cannot find module"ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™
  è§£æ±ºç­–: ã“ã‚Œã‚‰ã¯é€šå¸¸ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å•é¡Œã§ã™ - ã‚¢ãƒ—ãƒªã¯æ­£å¸¸ã«å‹•ä½œã—ã¾ã™ã€‚ãƒ†ã‚¹ãƒˆå‰ã«ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

  å•é¡Œ4: CSSãƒ•ã‚¡ã‚¤ãƒ«ã®ç ´æ
  å•é¡Œ: å¤§è¦æ¨¡ãªCSSã®ç½®æ›ã«ã‚ˆã‚Šãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
  è§£æ±ºç­–: ã¾ãšä¸€æ™‚çš„ãªCSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€æ¬¡ã«`mv`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãæ›ãˆã¦ãã ã•ã„

  å•é¡Œ5: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ãªã„
  å•é¡Œ: pwdãŒæ­£ã—ã„ãƒ‘ã‚¹ã‚’è¡¨ç¤ºã—ã¦ã„ã¦ã‚‚ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒauth0-nextjs-appãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãªã„ãŸã‚ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒ`npm run dev`ã®å®Ÿè¡Œã«å¤±æ•—ã—ã¾ã™
  è§£æ±ºç­–: npmã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ã€å¸¸ã«çµ¶å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ãŸæ˜ç¤ºçš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¤‰æ›´ã‚’è¡Œã£ã¦ãã ã•ã„:

    cd auth0-nextjs-app && npm run dev

  ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒ‘ã‚¹ã‹ã‚‰åˆ‡ã‚Šé›¢ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€npmã‚³ãƒãƒ³ãƒ‰ãŒæ­£ã—ã„å ´æ‰€ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«æ˜ç¤ºçš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã§ã™ã€‚

  å•é¡Œ6: ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒå‹•ä½œã—ãªã„
  å•é¡Œ: èªè¨¼ãƒ«ãƒ¼ãƒˆãŒ404ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¾ã™
  è§£æ±ºç­–: middleware.tsãŒãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª(package.jsonã¨åŒã˜ãƒ¬ãƒ™ãƒ«)ã«ã‚ã‚Šã€æä¾›ã•ã‚ŒãŸæ­£ç¢ºãªå½¢å¼ã«å¾“ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„

  å•é¡Œ7: ç’°å¢ƒå¤‰æ•°ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„
  å•é¡Œ: èµ·å‹•æ™‚ã«Auth0è¨­å®šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™
  è§£æ±ºç­–: .env.localãŒãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã€ä½œæˆ/å¤‰æ›´å¾Œã«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„
  ```
</Accordion>

<Note>
  **å‰ææ¡ä»¶:** ä½œæ¥­ã‚’å§‹ã‚ã‚‹å‰ã«ã€æ¬¡ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

  - **[Node.js](https://nodejs.org/en/download)** 20 LTS ä»¥é™
  - **[npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)** 10 ä»¥ä¸Šã€ã¾ãŸã¯ **[yarn](https://classic.yarnpkg.com/lang/en/docs/install/)** 1.22 ä»¥ä¸Šã€ã¾ãŸã¯ **[pnpm](https://pnpm.io/installation)** 8 ä»¥ä¸Š
  - **[jq](https://jqlang.org/)** - Auth0 CLI ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«å¿…è¦ã§ã™

  **Next.js ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§:** ã“ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã§ã¯ **Next.js 15** ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ Auth0 ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚­ãƒƒãƒˆ (SDK) ã«ã‚ˆã£ã¦å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚Next.js 16 ã‚‚äº’æ›æ€§ãŒã‚ã‚Šã¾ã™ãŒã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã« `--legacy-peer-deps` ãƒ•ãƒ©ã‚°ã‚’ä»˜ã‘ã¦å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆè©³ç´°ã¯ã‚¹ãƒ†ãƒƒãƒ— 2 ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼‰ã€‚
</Note>

<div id="get-started">
  ## ã¯ã˜ã‚ã«
</div>

ã“ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã§ã¯ã€Next.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« Auth0 ã«ã‚ˆã‚‹èªè¨¼æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚Auth0 Next.js ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚­ãƒƒãƒˆ (SDK) ã‚’ä½¿ã£ã¦ã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€å®‰å…¨ãªãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã€ä¿è­·ã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆã‚’å‚™ãˆãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

<Steps>
  <Step title="æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ" stepNumber={1}>
    ã“ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆç”¨ã®æ–°ã—ã„ Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹

    ```shellscript
    npx create-next-app@15 auth0-nextjs --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --yes
    ```

    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã

    ```shellscript
    cd auth0-nextjs
    ```

    <Note>
      Next.js 15 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ãŸã‚ã« `create-next-app@15` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ Auth0 ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚­ãƒƒãƒˆ (SDK) ã«ã‚ˆã£ã¦å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚Next.js 16 ã‚’ä½¿ç”¨ã—ãŸã„å ´åˆã€ã¾ãŸã¯ã™ã§ã« Next.js 16 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹å ´åˆã¯ã€ã‚¹ãƒ†ãƒƒãƒ— 2 ã§ Auth0 SDK ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã« `--legacy-peer-deps` ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
    </Note>
  </Step>

  <Step title="Auth0 Next.js ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚­ãƒƒãƒˆ (SDK) ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«" stepNumber={2}>
    ```shellscript
    npm install @auth0/nextjs-auth0
    ```

    <Note>
      **Next.js 16 ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘:** Next.js 16 ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆï¼ˆã¾ãŸã¯ Next.js 16 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸå ´åˆï¼‰ã¯ã€`--legacy-peer-deps` ãƒ•ãƒ©ã‚°ã‚’ä»˜ã‘ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼š

      ```shellscript
      npm install @auth0/nextjs-auth0 --legacy-peer-deps
      ```

      SDK ã§ã® Next.js 16 å¯¾å¿œã¯ã¾ã é€²è¡Œä¸­ã®ãŸã‚ã€`--legacy-peer-deps` ãƒ•ãƒ©ã‚°ãŒå¿…è¦ã§ã™ã€‚ã“ã®ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã™ã‚Œã°ã€SDK ã¯ Next.js 16 ã§æ­£ã—ãå‹•ä½œã—ã¾ã™ã€‚
    </Note>
  </Step>

  <Step title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ" stepNumber={3}>
    Auth0 é€£æºã«å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦ä½œæˆã—ã¾ã™ã€‚

    ```shellscript
    mkdir -p src/lib src/components && touch src/lib/auth0.ts src/middleware.ts src/components/LoginButton.tsx src/components/LogoutButton.tsx src/components/Profile.tsx
    ```
  </Step>

  <Step title="Auth0 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹" stepNumber={4}>
    æ¬¡ã«ã€Auth0ãƒ†ãƒŠãƒ³ãƒˆã§æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã€ç’°å¢ƒå¤‰æ•°ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

    CLIã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦è‡ªå‹•çš„ã«å®Ÿè¡Œã™ã‚‹ã‹ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹ã‹ã‚’é¸æŠã§ãã¾ã™:

    <Tabs>
      <Tab title="CLI">
        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§æ¬¡ã®ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ Auth0 ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã€`.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

        <AuthCodeGroup>
          ```shellscript Mac
          AUTH0_APP_NAME="My App" && brew tap auth0/auth0-cli && brew install auth0 && auth0 login --no-input && auth0 apps create -n "${AUTH0_APP_NAME}" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --reveal-secrets --json > auth0-app-details.json && CLIENT_ID=$(jq -r '.client_id' auth0-app-details.json) && CLIENT_SECRET=$(jq -r '.client_secret' auth0-app-details.json) && DOMAIN=$(auth0 tenants list --json | jq -r '.[] | select(.active == true) | .name') && SECRET=$(openssl rand-hex 32) && echo "AUTH0_DOMAIN=${DOMAIN}" > .env.local && echo "AUTH0_CLIENT_ID=${CLIENT_ID}" >> .env.local && echo "AUTH0_CLIENT_SECRET=${CLIENT_SECRET}" >> .env.local && echo "AUTH0_SECRET=${SECRET}" >> .env.local && echo "APP_BASE_URL=http://localhost:3000" >> .env.local && rm auth0-app-details.json && echo ".env.local file created with your Auth0 details:" && cat .env.local
          ```

          ```shellscript Windows
          $AppName = "My App"; winget install Auth0.CLI; auth0 login --no-input; auth0 apps create -n "$AppName" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --reveal-secrets --json | Set-Content -Path auth0-app-details.json; $ClientId = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_id; $ClientSecret = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_secret; $Domain = (auth0 tenants list --json | ConvertFrom-Json | Where-Object { $_.active -eq $true }).name; $Secret = [System.Convert]::ToHexString([System.Security.Cryptography.RandomNumberGenerator]::GetBytes(32)).ToLower(); Set-Content -Path .env.local -Value "AUTH0_DOMAIN=$Domain"; Add-Content -Path .env.local -Value "AUTH0_CLIENT_ID=$ClientId"; Add-Content -Path .env.local -Value "AUTH0_CLIENT_SECRET=$ClientSecret"; Add-Content -Path .env.local -Value "AUTH0_SECRET=$Secret"; Add-Content -Path .env.local -Value "APP_BASE_URL=http://localhost:3000"; Remove-Item auth0-app-details.json; Write-Output ".env.local file created with your Auth0 details:"; Get-Content .env.local
          ```
        </AuthCodeGroup>
      </Tab>

      <Tab title="ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰">
        ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

        ```shellscript .env.local
        AUTH0_DOMAIN=YOUR_AUTH0_APP_DOMAIN
        AUTH0_CLIENT_ID=YOUR_AUTH0_APP_CLIENT_ID
        AUTH0_CLIENT_SECRET=YOUR_AUTH0_APP_CLIENT_SECRET
        AUTH0_SECRET=YOUR_LONG_RANDOM_SECRET_HERE
        APP_BASE_URL=http://localhost:3000
        ```

        **å®‰å…¨ãª AUTH0&#95;SECRET ã‚’ç”Ÿæˆã™ã‚‹ï¼š**

        ```shellscript
        openssl rand -hex 32
        ```

        å‡ºåŠ›ã‚’ã‚³ãƒ”ãƒ¼ã—ã€`.env.local` å†…ã® `YOUR_LONG_RANDOM_SECRET_HERE` ã‚’ç½®ãæ›ãˆã¾ã™ã€‚ã“ã‚Œã¯å¿…ãš 64 æ–‡å­—ã®16é€²æ•°æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

        æ¬¡ã«ã€Auth0 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¾ã™:

        æ¬¡ã«ã€Auth0 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ã¾ã™:

        1. [Auth0 Dashboard](https://manage.auth0.com/dashboard/) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™
        2. **Applications** &gt; **Applications** &gt; **Create Application** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™
        3. ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§ã‚¢ãƒ—ãƒªã®åå‰ã‚’å…¥åŠ›ã—ã€ã‚¢ãƒ—ãƒªã®ã‚¿ã‚¤ãƒ—ã¨ã—ã¦ `Regular Web Application` ã‚’é¸æŠã—ã¦ **Create** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™
        4. Application Details ãƒšãƒ¼ã‚¸ã® **Settings** ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™
        5. `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«å†…ã® `YOUR_AUTH0_APP_DOMAIN`ã€`YOUR_AUTH0_APP_CLIENT_ID`ã€`YOUR_AUTH0_APP_CLIENT_SECRET` ã‚’ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ **Domain**ã€**Client ID**ã€**Client Secret** ã®å€¤ã«ç½®ãæ›ãˆã¾ã™

        <Warning>
          **é‡è¦:** ã‚¢ãƒ—ãƒªã®å®Ÿè¡Œå¾Œã« `AUTH0_SECRET` ã‚’å¤‰æ›´ã—ãŸå ´åˆã¯ã€localhost ç”¨ã®ãƒ–ãƒ©ã‚¦ã‚¶ Cookie ã‚’å¿…ãšå‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»¥å‰ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã§æš—å·åŒ–ã•ã‚ŒãŸå¤ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ Cookie ãŒæ®‹ã£ã¦ã„ã‚‹ã¨ã€`JWEDecryptionFailed` ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚
        </Warning>

        æœ€å¾Œã«ã€Application Details ãƒšãƒ¼ã‚¸ã® **Settings** ã‚¿ãƒ–ã§ã€æ¬¡ã® URL ã‚’è¨­å®šã—ã¾ã™:

        **Allowed Callback URLs:**

        ```
        http://localhost:3000/auth/callback
        ```

        **è¨±å¯ã•ã‚ŒãŸãƒ­ã‚°ã‚¢ã‚¦ãƒˆURLï¼š**

        ```
        http://localhost:3000
        ```

        **è¨±å¯ã•ã‚ŒãŸ Web ã‚ªãƒªã‚¸ãƒ³:**

        ```
        http://localhost:3000
        ```

        <Info>
          **è¨±å¯ã•ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯URL** ã¯ã€èªè¨¼å¾Œã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å®‰å…¨ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸æˆ»ã™ãŸã‚ã®é‡è¦ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã§ã™ã€‚ä¸€è‡´ã™ã‚‹URLãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ã¯å¤±æ•—ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããšã€ä»£ã‚ã‚Šã« Auth0 ã®ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

          **è¨±å¯ã•ã‚ŒãŸãƒ­ã‚°ã‚¢ã‚¦ãƒˆURL** ã¯ã€ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆæ™‚ã«ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ä¸å¯æ¬ ã§ã™ã€‚ä¸€è‡´ã™ã‚‹URLãŒè¨­å®šã•ã‚Œã¦ã„ãªã„ã¨ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¾Œã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œãšã€æ±ç”¨çš„ãª Auth0 ã®ãƒšãƒ¼ã‚¸ã«ç•™ã¾ã£ã¦ã—ã¾ã„ã¾ã™ã€‚

          **Allowed Web Origins** ã¯ã€ã‚µã‚¤ãƒ¬ãƒ³ãƒˆèªè¨¼ã«ã¨ã£ã¦ä¸å¯æ¬ ãªè¨­å®šã§ã™ã€‚ã“ã‚ŒãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã—ãŸã‚Šã€å¾Œã‹ã‚‰ã‚¢ãƒ—ãƒªã«æˆ»ã£ã¦ããŸã‚Šã—ãŸéš›ã«ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚
        </Info>
      </Tab>
    </Tabs>
  </Step>

  <Step title="Auth0 ã®è¨­å®šã‚’è¡Œã†" stepNumber={5}>
    `src/lib/auth0.ts` ã« Auth0 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ï¼š`

    ```typescript src/lib/auth0.ts lines
    import { Auth0Client } from '@auth0/nextjs-auth0/server';

    export const auth0 = new Auth0Client();
    ```
  </Step>

  <Step title="ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’è¿½åŠ " stepNumber={6}>
    `src/middleware.ts` ã«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

    ```typescript src/middleware.ts expandable lines
    import type { NextRequest } from "next/server";
    import { auth0 } from "./lib/auth0";

    export async function middleware(request: NextRequest) {
      return await auth0.middleware(request);
    }

    export const config = {
      matcher: [
        /*
         * ä»¥ä¸‹ã§å§‹ã¾ã‚‹ãƒ‘ã‚¹ã‚’é™¤ãã€ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ã‚¹ã«ä¸€è‡´ã—ã¾ã™:
         * - _next/static (é™çš„ãƒ•ã‚¡ã‚¤ãƒ«)
         * - _next/image (ç”»åƒæœ€é©åŒ–ãƒ•ã‚¡ã‚¤ãƒ«)
         * - favicon.ico, sitemap.xml, robots.txt (ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«)
         */
        "/((?!_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)",
      ],
    };
    ```

    <Note>
      `src/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€`middleware.ts` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ `src/` å†…ã«ä½œæˆã•ã‚Œã¾ã™ã€‚`src/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯ã€ä»£ã‚ã‚Šã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆç›´ä¸‹ã«ä½œæˆã—ã¦ãã ã•ã„ã€‚
    </Note>

    <Info>
      ã“ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¯ã€æ¬¡ã®èªè¨¼ãƒ«ãƒ¼ãƒˆã‚’è‡ªå‹•çš„ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™ã€‚

      * `/auth/login` - ãƒ­ã‚°ã‚¤ãƒ³ãƒ«ãƒ¼ãƒˆ
      * `/auth/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ«ãƒ¼ãƒˆ
      * `/auth/callback` - ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒˆ
      * `/auth/profile` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ«ãƒ¼ãƒˆ
      * `/auth/access-token` - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ãƒ«ãƒ¼ãƒˆ
      * `/auth/backchannel-logout` - ãƒãƒƒã‚¯ãƒãƒ£ãƒãƒ«ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒ«ãƒ¼ãƒˆ
    </Info>
  </Step>

  <Step title="ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹" stepNumber={7}>
    ã‚¹ãƒ†ãƒƒãƒ— 3 ã§ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™:

    <AuthCodeGroup>
      ```typescript src/components/LoginButton.tsx lines
      "use client";

      export default function LoginButton() {
        return (
          <a
            href="/auth/login"
            className="button login"
          >
            Log In
          </a>
        );
      }
      ```

      ```typescript src/components/LogoutButton.tsx lines
      "use client";

      export default function LogoutButton() {
        return (
          <a
            href="/auth/logout"
            className="button logout"
          >
            Log Out
          </a>
        );
      }
      ```

      ```typescript src/components/Profile.tsx expandable lines
      "use client";

      import { useUser } from "@auth0/nextjs-auth0/client";

      export default function Profile() {
        const { user, isLoading } = useUser();

        if (isLoading) {
          return (
            <div className="loading-state">
              <div className="loading-text">Loading user profile...</div>
            </div>
          );
        }

        if (!user) {
          return null;
        }

        return (
          <div className="profile-card action-card">
            <img
              src={user.picture || `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2363b3ed'/%3E%3Cpath d='M50 45c7.5 0 13.64-6.14 13.64-13.64S57.5 17.72 50 17.72s-13.64 6.14-13.64 13.64S42.5 45 50 45zm0 6.82c-9.09 0-27.28 4.56-27.28 13.64v3.41c0 1.88 1.53 3.41 3.41 3.41h47.74c1.88 0 3.41-1.53 3.41-3.41v-3.41c0-9.08-18.19-13.64-27.28-13.64z' fill='%23fff'/%3E%3C/svg%3E`}
              alt={user.name || 'User profile'}
              className="profile-picture"
              onError={(e) => {
                const target = e.target as HTMLImageElement;
                target.src = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2363b3ed'/%3E%3Cpath d='M50 45c7.5 0 13.64-6.14 13.64-13.64S57.5 17.72 50 17.72s-13.64 6.14-13.64 13.64S42.5 45 50 45zm0 6.82c-9.09 0-27.28 4.56-27.28 13.64v3.41c0 1.88 1.53 3.41 3.41 3.41h47.74c1.88 0 3.41-1.53 3.41-3.41v-3.41c0-9.08-18.19-13.64-27.28-13.64z' fill='%23fff'/%3E%3C/svg%3E`;
              }}
            />
            <h2 className="profile-name">{user.name}</h2>
            <p className="profile-email">{user.email}</p>
          </div>
        );
      }
      ```
    </AuthCodeGroup>
  </Step>

  <Step title="ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹" stepNumber={8}>
    `src/app/page.tsx` ã‚’æ¬¡ã®å†…å®¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„:

    ```typescript src/app/page.tsx expandable lines
    import { auth0 } from "@/lib/auth0";
    import LoginButton from "@/components/LoginButton";
    import LogoutButton from "@/components/LogoutButton";
    import Profile from "@/components/Profile";

    export default async function Home() {
      const session = await auth0.getSession();
      const user = session?.user;

      return (
        <div className="app-container">
          <div className="main-card-wrapper">
            <img
              src="https://cdn.auth0.com/quantum-assets/dist/latest/logos/auth0/auth0-lockup-en-ondark.png"
              alt="Auth0 Logo"
              className="auth0-logo"
            />
            <h1 className="main-title">Next.js + Auth0</h1>
            
            <div className="action-card">
              {user ? (
                <div className="logged-in-section">
                  <p className="logged-in-message">âœ… Successfully logged in!</p>
                  <Profile />
                  <LogoutButton />
                </div>
              ) : (
                <>
                  <p className="action-text">
                    Welcome! Please log in to access your protected content.
                  </p>
                  <LoginButton />
                </>
              )}
            </div>
          </div>
        </div>
      );
    }
    ```
  </Step>

  <Step title="Auth0Provider ã‚’ä½¿ç”¨ã—ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ›´æ–°ã™ã‚‹ï¼ˆä»»æ„ï¼‰" stepNumber={9}>
    `src/app/layout.tsx` ã‚’æ›´æ–°ã—ã¦ã€ã‚¢ãƒ—ãƒªã‚’ `Auth0Provider` ã§ãƒ©ãƒƒãƒ—ã—ã¾ã™ï¼š

    ```typescript src/app/layout.tsx lines
    import type { Metadata } from "next";
    import { Auth0Provider } from "@auth0/nextjs-auth0/client";
    import "./globals.css";

    export const metadata: Metadata = {
      title: "Auth0 Next.js App",
      description: "Next.js app with Auth0 authentication",
    };

    export default function RootLayout({
      children,
    }: {
      children: React.ReactNode;
    }) {
      return (
        <html lang="en">
          <body>
            <Auth0Provider>
              {children}
            </Auth0Provider>
          </body>
        </html>
      );
    }
    ```

    <Note>
      v4 ã§ã¯ã€Auth0Provider ã¯**å¿…é ˆã§ã¯ãªãä»»æ„**ã§ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«åˆæœŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¸¡ã—ã€ãã‚Œã‚’ `useUser()` ãƒ•ãƒƒã‚¯ã‹ã‚‰åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„å ´åˆã«ã®ã¿å¿…è¦ã«ãªã‚Šã¾ã™ã€‚
    </Note>
  </Step>

  <Step title="ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹" stepNumber={10}>
    `src/app/globals.css` ã‚’æœ€æ–°ã®Auth0ãƒ–ãƒ©ãƒ³ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã«ç½®ãæ›ãˆã¾ã™:

    ```css src/app/globals.css expandable lines
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #1a1e27;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #e2e8f0;
      overflow: hidden;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      width: 100%;
      padding: 1rem;
      box-sizing: border-box;
    }

    .loading-state, .error-state {
      background-color: #2d313c;
      border-radius: 15px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
      padding: 3rem;
      text-align: center;
    }

    .loading-text {
      font-size: 1.8rem;
      font-weight: 500;
      color: #a0aec0;
      animation: pulse 1.5s infinite ease-in-out;
    }

    .main-card-wrapper {
      background-color: #262a33;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      padding: 3rem;
      max-width: 500px;
      width: 90%;
      animation: fadeInScale 0.8s ease-out forwards;
    }

    .auth0-logo {
      width: 160px;
      margin-bottom: 1.5rem;
      opacity: 0;
      animation: slideInDown 1s ease-out forwards 0.2s;
    }

    .main-title {
      font-size: 2.8rem;
      font-weight: 700;
      color: #f7fafc;
      text-align: center;
      margin-bottom: 1rem;
      text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      opacity: 0;
      animation: fadeIn 1s ease-out forwards 0.4s;
    }

    .action-card {
      background-color: #2d313c;
      border-radius: 15px;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.3);
      padding: 2.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.8rem;
      width: calc(100% - 2rem);
      opacity: 0;
      animation: fadeIn 1s ease-out forwards 0.6s;
    }

    .action-text {
      font-size: 1.25rem;
      color: #cbd5e0;
      text-align: center;
      line-height: 1.6;
      font-weight: 400;
    }

    .button {
      padding: 1.1rem 2.8rem;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      outline: none;
    }

    .button:focus {
      box-shadow: 0 0 0 4px rgba(99, 179, 237, 0.5);
    }

    .button.login {
      background-color: #63b3ed;
      color: #1a1e27;
    }

    .button.login:hover {
      background-color: #4299e1;
      transform: translateY(-5px) scale(1.03);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
    }

    .button.logout {
      background-color: #fc8181;
      color: #1a1e27;
    }

    .button.logout:hover {
      background-color: #e53e3e;
      transform: translateY(-5px) scale(1.03);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
    }

    .logged-in-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      width: 100%;
    }

    .logged-in-message {
      font-size: 1.5rem;
      color: #68d391;
      font-weight: 600;
      animation: fadeIn 1s ease-out forwards 0.8s;
    }

    .profile-card {
      padding: 2.2rem;
      animation: scaleIn 0.8s ease-out forwards 1.2s;
    }

    .profile-picture {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      transition: transform 0.3s ease-in-out;
      object-fit: cover;
    }

    .profile-picture:hover {
      transform: scale(1.05);
    }

    .profile-name {
      font-size: 2rem;
      margin-top: 0.5rem;
    }

    .profile-email {
      font-size: 1.15rem;
      text-align: center;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes slideInDown {
      from { opacity: 0; transform: translateY(-70px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    @media (max-width: 600px) {
      .main-card-wrapper {
        padding: 2rem;
        gap: 1.5rem;
      }
      
      .main-title {
        font-size: 2.2rem;
      }
      
      .button {
        padding: 0.9rem 2rem;
        font-size: 1rem;
      }
      
      .auth0-logo {
        width: 120px;
      }
    }
    ```
  </Step>

  <Step title="ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹" stepNumber={11}>
    ```shellscript
    npm run dev
    ```

    <Info>
      ã‚¢ãƒ—ãƒªã¯ [http://localhost:3000](http://localhost:3000) ã§åˆ©ç”¨ã§ãã¾ã™ã€‚Auth0 ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚­ãƒƒãƒˆ (SDK) v4 ã§ã¯ã€èªè¨¼ç”¨ãƒ«ãƒ¼ãƒˆãŒè‡ªå‹•çš„ã« `/auth/*` ã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™ï¼ˆv3 ã®ã‚ˆã†ã« `/api/auth/*` ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚
    </Info>
  </Step>
</Steps>

<Check>
  **ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ**

  ã“ã‚Œã§ã€[localhost](http://localhost:3000/) ä¸Šã§ Auth0 ã®ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒå•é¡Œãªãå‹•ä½œã—ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚
</Check>

---

<div id="troubleshooting">
  ## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
</div>

<Accordion title="JWEDecryptionFailed Error">
  `JWEDecryptionFailed: decryption operation failed` ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆã€`AUTH0_SECRET` ãŒç„¡åŠ¹ã§ã‚ã‚‹ã‹ã€åˆ¥ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã§æš—å·åŒ–ã•ã‚ŒãŸå¤ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒƒã‚­ãƒ¼ãŒåŸå› ã§ã™ã€‚

  **è§£æ±ºç­–:**
  
  1. æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§æ–°ã—ã„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç”Ÿæˆã—ã¾ã™:
  ```shellscript
  openssl rand -hex 32
  ```
  
  2. `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¬¡ã®ã‚ˆã†ã«æ›´æ–°ã—ã¾ã™:
  ```
  AUTH0_SECRET=<your-new-64-character-hex-string>
  ```
  
  3. `localhost:3000` ã® **ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚’å‰Šé™¤** ã—ã¾ã™:
     - Chrome/Edge: `F12` â†’ Application ã‚¿ãƒ– â†’ Cookies â†’ localhost ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚’ã™ã¹ã¦å‰Šé™¤
     - Firefox: `F12` â†’ Storage ã‚¿ãƒ– â†’ Cookies â†’ localhost ã®ã‚¯ãƒƒã‚­ãƒ¼ã‚’ã™ã¹ã¦å‰Šé™¤
     - Safari: Develop ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ Show Web Inspector â†’ Storage ã‚¿ãƒ– â†’ Cookies â†’ ã™ã¹ã¦å‰Šé™¤
  
  4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¾ã™:
  ```shellscript
  npm run dev
  ```
  
  ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã¯å¿…ãš 32 ãƒã‚¤ãƒˆï¼ˆ16 é€²æ•°ã§ 64 æ–‡å­—ï¼‰ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚¢ãƒ—ãƒªãŒã€åˆ¥ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã§æš—å·åŒ–ã•ã‚ŒãŸæ—¢å­˜ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¯ãƒƒã‚­ãƒ¼ã‚’å¾©å·ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ã€ã“ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚
</Accordion>

<Accordion title="404 Error on /auth/login">
  ãƒ­ã‚°ã‚¤ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã« 404 ãƒšãƒ¼ã‚¸ã¸é·ç§»ã™ã‚‹å ´åˆã¯ã€æ¬¡ã®ã‚ˆãã‚ã‚‹å•é¡Œã‚’ç¢ºèªã—ã¦ãã ã•ã„:

  1. **ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®å ´æ‰€:** `src/middleware.ts` ãŒæ­£ã—ã„å ´æ‰€ã«å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
  2. **ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ã‚³ãƒ¼ãƒ‰:** ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ãŒã‚¹ãƒ†ãƒƒãƒ— 6 ã®ã‚³ãƒ¼ãƒ‰ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
  3. **ã‚µãƒ¼ãƒãƒ¼ã®å†èµ·å‹•:** ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½œæˆã—ãŸã‚ã¨ã«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„
  4. **import ã®ç¢ºèª:** `import { auth0 } from "./lib/auth0"` ã®ãƒ‘ã‚¹ãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
</Accordion>

<Accordion title="Module Not Found Errors">
  "Cannot find module '@/components/LoginButton'" ãªã©ã®ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆã¯ã€æ¬¡ã®ç‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:

  1. **ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª:** ã‚¹ãƒ†ãƒƒãƒ— 3 ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
  2. **ãƒ‘ã‚¹ã®ç¢ºèª:** ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ `src/components/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
  3. **TypeScript ã®å†èµ·å‹•:** `Cmd+Shift+P`ï¼ˆMacï¼‰ã¾ãŸã¯ `Ctrl+Shift+P`ï¼ˆWindowsï¼‰ã‚’æŠ¼ã—ã€ã€ŒTypeScript: Restart TS Serverã€ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
  4. **import ã®ç¢ºèª:** `~/components/*` ã§ã¯ãªãã€`@/components/*` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
</Accordion>

---

<div id="advanced-usage">
  ## é«˜åº¦ãªåˆ©ç”¨æ–¹æ³•
</div>

<Accordion title="é‡è¦ãª v4 ã®å¤‰æ›´ç‚¹">
  ã“ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã¯ **Auth0 Next.js SDK v4** ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€v3 ã‹ã‚‰æ¬¡ã®ã‚ˆã†ã«å¤§ããå¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™:

  - **å‹•çš„ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒä¸è¦** - èªè¨¼ç”¨ãƒ«ãƒ¼ãƒˆã¯ middleware ã«ã‚ˆã£ã¦è‡ªå‹•çš„ã«ãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã™
  - **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®šã®ç°¡ç´ åŒ–** - `new Auth0Client()` ãŒè‡ªå‹•çš„ã«ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã¿ã¾ã™
  - **æ–°ã—ã„ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹** - ãƒ«ãƒ¼ãƒˆã¯ `/api/auth/*` ã§ã¯ãªã `/auth/*` ã«é…ç½®ã•ã‚Œã¾ã™
  - **middleware ãŒå¿…é ˆ** - ã™ã¹ã¦ã®èªè¨¼æ©Ÿèƒ½ã¯ middleware ã‚’é€šã˜ã¦å®Ÿè¡Œã•ã‚Œã¾ã™
  - **`<a>` ã‚¿ã‚°ã‚’ä½¿ç”¨** - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ onClick ä»˜ããƒœã‚¿ãƒ³ã§ã¯ãªã `<a href="/auth/login">` ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™

  ### èªè¨¼ãƒ«ãƒ¼ãƒˆ

  SDK ã¯ middleware ã‚’é€šã—ã¦æ¬¡ã®ãƒ«ãƒ¼ãƒˆã‚’è‡ªå‹•çš„ã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™:

  | Route                      | ç›®çš„                          |
  | -------------------------- | ----------------------------- |
  | `/auth/login`              | ãƒ­ã‚°ã‚¤ãƒ³ã‚’é–‹å§‹               |
  | `/auth/logout`             | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ          |
  | `/auth/callback`           | Auth0 ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‡¦ç†    |
  | `/auth/profile`            | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—  |
  | `/auth/access-token`       | ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—        |
  | `/auth/backchannel-logout` | ãƒãƒƒã‚¯ãƒãƒ£ãƒãƒ«ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚’å‡¦ç† |

  <Note>
    ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒˆã§ 404 ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å ´åˆã¯ã€æ¬¡ã®ç‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:
    1. `middleware.ts` ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ã„å ´æ‰€ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã€ã¾ãŸã¯ `src/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ `src/` å†…ï¼‰ã«ä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨
    2. æ‰‹é † 5 ã«ç¤ºã—ãŸ matcher ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ middleware ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨
    3. middleware ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãŸå¾Œã«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨
  </Note>
</Accordion>

<Accordion title="ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰èªè¨¼">
  Auth0 Next.js SDK v4 ã¯ App Router ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ Pages Router ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ä»¥ä¸‹ã¯ä»£è¡¨çš„ãªã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™:

  <Tabs>
    <Tab title="App Router - Server Component">
      ```typescript app/protected/page.tsx
      import { auth0 } from "@/lib/auth0";
      import { redirect } from "next/navigation";
      
      export default async function ProtectedPage() {
        const session = await auth0.getSession();
        
        if (!session) {
          redirect('/auth/login');
        }
      
        return (
          <div>
            <h1>Protected Content</h1>
            <p>Welcome, {session.user.name}!</p>
          </div>
        );
      }
      ```
    </Tab>
    <Tab title="App Router - API Route">
      ```typescript app/api/protected/route.ts
      import { auth0 } from "@/lib/auth0";
      import { NextRequest, NextResponse } from "next/server";
      
      export async function GET() {
        const session = await auth0.getSession();
        
        if (!session) {
          return NextResponse.json({ error: "Unauthorized" }, { status: 401 });
        }
        
        return NextResponse.json({
          message: "This is a protected API route",
          user: session.user
        });
      }
      ```
    </Tab>
    <Tab title="Pages Router - Page">
      ```typescript pages/protected.tsx
      import { auth0 } from "@/lib/auth0";
      import { GetServerSideProps } from "next";
      
      export default function ProtectedPage({ user }: { user: any }) {
        return (
          <div>
            <h1>Protected Content</h1>
            <p>Welcome, {user.name}!</p>
          </div>
        );
      }
      
      export const getServerSideProps: GetServerSideProps = auth0.withPageAuthRequired();
      ```
    </Tab>
  </Tabs>
</Accordion>

<Accordion title="ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰èªè¨¼">
  ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®èªè¨¼çŠ¶æ…‹ã«ã¯ã€`useUser` ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¾ã™:

  ```typescript components/UserProfile.tsx
  "use client";

  import { useUser } from "@auth0/nextjs-auth0";

  export default function UserProfile() {
    const { user, error, isLoading } = useUser();

    if (isLoading) return <div>Loading...</div>;
    if (error) return <div>Error: {error.message}</div>;
    if (!user) return <div>Not logged in</div>;

    return (
      <div>
        <h2>{user.name}</h2>
        <p>{user.email}</p>
        <img src={user.picture} alt="ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«" />
      </div>
    );
  }
  ```
</Accordion>

<Accordion title="API ãƒ«ãƒ¼ãƒˆã®ä¿è­·">
  API ãƒ«ãƒ¼ãƒˆã‚’ä¿è­·ã™ã‚‹ã«ã¯ã€`withApiAuthRequired` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

  ```typescript app/api/protected/route.ts
  import { auth0 } from "@/lib/auth0";

  export const GET = auth0.withApiAuthRequired(async function handler() {
    const session = await auth0.getSession();
    
    return Response.json({
      message: "ã“ã‚Œã¯ä¿è­·ã•ã‚ŒãŸ API ãƒ«ãƒ¼ãƒˆã§ã™",
      user: session?.user
    });
  });
  ```
</Accordion>