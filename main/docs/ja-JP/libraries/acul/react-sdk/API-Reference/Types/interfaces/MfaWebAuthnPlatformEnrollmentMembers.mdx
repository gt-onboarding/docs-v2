---
title: "MfaWebAuthnPlatformEnrollmentMembers"
---

MfaWebAuthnPlatformEnrollmentMembers

````ts Example
export interface MfaWebAuthnPlatformEnrollmentMembers extends BaseMembers {
  /**
   * The screen object with MFA WebAuthn Platform Enrollment specific data structure.
   */
  screen: ScreenMembersOnMfaWebAuthnPlatformEnrollment;
  
  /**
   * `this.screen.publicKey` で利用可能な公開鍵オプションを使用して WebAuthn プラットフォーム認証情報の作成プロセスを開始し、
   * 作成された認証情報をサーバーに送信します。
   * このメソッドは内部的に `createPasskeyCredentials`（`navigator.credentials.create()` をラップ）を呼び出します。
   *
   * @param {SubmitPasskeyCredentialOptions} [payload] - 作成された認証情報と共にサーバーに送信される
   * オプションのカスタムパラメータ。
   * @returns {Promise<void>} 認証情報が正常に作成され送信されたときに解決される Promise。
   * @throws {Error} `this.screen.publicKey` が利用できない場合、`createPasskeyCredentials` が失敗した場合
   * （例: ユーザーによるキャンセル、ハードウェアの問題）、またはサーバーへの送信が失敗した場合にエラーをスローします。
   * @example
   * ```typescript
   * // 'sdk' が MfaWebAuthnPlatformEnrollment のインスタンスであると仮定
   * try {
   *   if (!sdk.screen.publicKey) { // オプションが利用可能かチェック
   *     throw new Error("画面コンテキストで公開鍵作成オプションが利用できません。");
   *   }
   *   await sdk.submitPasskeyCredential(); // publicKey を明示的に渡す必要はありません
   *   // 成功時、Auth0 がリダイレクトを処理します。
   * } catch (error) {
   *   console.error('パスキー登録に失敗しました:', error);
   *   // エラーを処理します。WebAuthn API エラーの場合は reportBrowserError を呼び出すことも検討してください
   *   if (error.name && error.message) { // WebAuthn エラーのように見えるかチェック
   *     await sdk.reportBrowserError({ error: { name: error.name, message: error.message } });
   *   }
   * }
   * ```
   */
  submitPasskeyCredential(payload?: SubmitPasskeyCredentialOptions): Promise<void>;

  /**
   * Reports a browser-side error encountered during the WebAuthn `navigator.credentials.create()` operation.
   * This method sends the error details to the server.
   *
   * @param {ReportBrowserErrorOptions} payload - The browser error details and any custom options.
   * @returns {Promise<void>} A promise that resolves when the error report is successfully submitted.
   * @throws {Error} Throws an error if the submission fails.
   * @example
   * ```typescript
   * // Assuming 'sdk' is an instance of MfaWebAuthnPlatformEnrollment
   * // In the catch block of an attempted passkey creation (e.g. from submitPasskeyCredential):
   * } catch (webAuthnError) {
   *   if (webAuthnError.name) { // Check if it's likely a WebAuthn API error
   *      await sdk.reportBrowserError({ error: { name: webAuthnError.name, message: webAuthnError.message } });
   *   }
   *   // Update UI to show error message to the user
   * }
````


<div id="properties">
  ## プロパティ
</div>

<ParamField body='branding' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/BrandingMembers">BrandingMembers</a></span>}/>

<ParamField body='client' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ClientMembers">ClientMembers</a></span>}/>

<ParamField body='organization' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/OrganizationMembers">OrganizationMembers</a></span>}/>

<ParamField body='prompt' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/PromptMembers">PromptMembers</a></span>}/>

<ParamField body='screen' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ScreenMembersOnMfaWebAuthnPlatformEnrollment">ScreenMembersOnMfaWebAuthnPlatformEnrollment</a></span>}>

MFA（多要素認証）における WebAuthn プラットフォーム登録専用のデータ構造を持つ画面オブジェクトです。

</ParamField>

<ParamField body='tenant' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/TenantMembers">TenantMembers</a></span>}/>

<ParamField body='transaction' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/TransactionMembers">TransactionMembers</a></span>}/>

<ParamField body='untrustedData' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/UntrustedDataMembers">UntrustedDataMembers</a></span>}/>

<ParamField body='user' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/UserMembers">UserMembers</a></span>}/>

<div id="methods">
  ## メソッド
</div>

<ParamField body='refuseEnrollmentOnThisDevice' type='Promise<void>'>

現在のデバイスでの WebAuthn プラットフォーム登録をユーザーが拒否できるようにします。
このアクションは、ユーザーがこの特定のデバイスでプラットフォーム認証器を使用したくないことを示します。

拒否アクションが正常に送信されると解決される Promise です。

<div id="throws">
  #### 送出
</div>

送信に失敗した場合はエラーを送出します。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformEnrollment のインスタンスであると仮定します
await sdk.refuseEnrollmentOnThisDevice();
```

<Expandable title="パラメータ">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/CustomOptions">CustomOptions</a></span>}>

リクエストに含める任意のカスタムオプション。

</ParamField>
</Expandable>
</ParamField>

<ParamField body='reportBrowserError' type='Promise<void>'>

WebAuthn の `navigator.credentials.create()` 操作中に発生したブラウザ側のエラーを報告します。
このメソッドはエラーの詳細をサーバーに送信します。

エラーレポートが正常に送信されると解決される Promise です。

<div id="throws">
  #### 送出
</div>

送信に失敗した場合はエラーを送出します。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformEnrollment のインスタンスであると仮定します
// パスキー作成を試行した際の catch ブロック内（例: submitPasskeyCredential から）
} catch (webAuthnError) {
  if (webAuthnError.name) { // WebAuthn API エラーの可能性が高いかを確認
     await sdk.reportBrowserError({ error: { name: webAuthnError.name, message: webAuthnError.message } });
  }
  // UI を更新してユーザーにエラーメッセージを表示する
}
```

<Expandable title="パラメータ">
<ParamField body='payload' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ReportBrowserErrorOptions">ReportBrowserErrorOptions</a></span>}>

ブラウザエラーの詳細と任意のカスタムオプション。

**プロパティ**

<ParamField body='error' type='object'>
<Expandable title="プロパティ">

<ParamField body="message" type="string"/>
<ParamField body="name" type="string"/>

</Expandable>
</ParamField>
</ParamField>
</Expandable>
</ParamField>

<ParamField body='snoozeEnrollment' type='Promise<void>'>

WebAuthn プラットフォーム登録をスヌーズ（後回し）できるようにします。
このアクションは通常、ユーザーに後で登録を促すことを意味します。

スヌーズアクションが正常に送信されると解決される Promise です。

<div id="throws">
  #### 送出
</div>

送信に失敗した場合はエラーを送出します。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformEnrollment のインスタンスであると仮定します
await sdk.snoozeEnrollment();
```

<Expandable title="パラメータ">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/CustomOptions">CustomOptions</a></span>}>

リクエストに含める任意のカスタムオプション。

</ParamField>
</Expandable>
</ParamField>

<ParamField body='submitPasskeyCredential' type='Promise<void>'>

`this.screen.publicKey` で利用可能な公開鍵オプションを使用して
WebAuthn プラットフォーム認証情報の作成プロセスを開始し、生成された認証情報をサーバーに送信します。
このメソッドは内部的に `createPasskeyCredentials`（`navigator.credentials.create()` をラップしたもの）を呼び出します。

認証情報が正常に作成および送信されると解決される Promise です。

<div id="throws">
  #### 送出
</div>

`this.screen.publicKey` が利用できない場合、`createPasskeyCredentials` が失敗した場合
（例: ユーザーによるキャンセル、ハードウェアの問題）、またはサーバーへの送信に失敗した場合にエラーを送出します。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformEnrollment のインスタンスであると仮定します
try {
  if (!sdk.screen.publicKey) { // オプションが利用可能かどうかを確認
    throw new Error("Public key creation options are not available on the screen context.");
  }
  await sdk.submitPasskeyCredential(); // publicKey を明示的に渡す必要はありません
  // 成功時には Auth0 がリダイレクトを処理します。
} catch (error) {
  console.error('Passkey enrollment failed:', error);
  // エラーを処理し、WebAuthn API エラーであれば reportBrowserError を呼び出すことも検討する
  if (error.name && error.message) { // WebAuthn エラーのように見えるかを確認
    await sdk.reportBrowserError({ error: { name: error.name, message: error.message } });
  }
}
```

<Expandable title="パラメータ">
<ParamField body='payload?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/SubmitPasskeyCredentialOptions">SubmitPasskeyCredentialOptions</a></span>}>

作成された認証情報と一緒にサーバーに送信される任意のカスタムパラメータ。
</ParamField>
</Expandable>
</ParamField>