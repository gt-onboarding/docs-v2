---
title: "MfaWebAuthnPlatformChallengeMembers"
---

MfaWebAuthnPlatformChallengeMembers

````ts Example
export interface MfaWebAuthnPlatformChallengeMembers extends BaseMembers {
  /**
   * Screen-specific properties and data, including WebAuthn challenge options and remember device preference.
   * @type {ScreenMembersOnMfaWebAuthnPlatformChallenge}
   */
  screen: ScreenMembersOnMfaWebAuthnPlatformChallenge;

  /**
   * WebAuthnプラットフォーム認証器チャレンジを開始します。
   * このメソッドは、`screen.publicKey`で提供されるチャレンジオプションを使用して、
   * 内部的に`navigator.credentials.get()`を呼び出します。
   * 成功した場合、結果として得られた認証情報を`action: "default"`でAuth0に送信します。
   *
   * `navigator.credentials.get()`が失敗した場合（例：ユーザーによるキャンセル、タイムアウト、その他のWebAuthn APIエラー）、
   * エラーの詳細を`reportBrowserError`で報告することを推奨します。
   *
   * @param {VerifyPlatformAuthenticatorOptions} [options] - 検証プロセスのオプションパラメータ。
   * `rememberDevice`（`screen.showRememberDevice`がtrueの場合）やその他のカスタムオプションなど。
   * @returns {Promise<void>} 検証試行が送信されたときに解決されるプロミス。
   *                          成功した操作は通常、リダイレクトが発生します。
   * @throws {Error} `screen.publicKey`が欠落している場合、
   *                 `navigator.credentials.get()`が`getPasskeyCredentials`で処理されない予期しないエラーで失敗した場合、
   *                 またはAuth0へのフォーム送信が失敗した場合にエラーをスローします。
   *
   * @example
   * ```typescript
   * // 'sdk'がMfaWebAuthnPlatformChallengeのインスタンスであると仮定
   * try {
   *   const remember = sdk.screen.showRememberDevice && userCheckedRememberDeviceBox;
   *   await sdk.verify({ rememberDevice: remember });
   *   // 成功時、Auth0がリダイレクトを処理します。
   * } catch (error) {
   *   console.error("プラットフォーム認証器の検証に失敗しました:", error);
   *   // WebAuthn APIエラーの場合、報告します
   *   if (error.name && error.message) { // DOMExceptionのような基本的なエラーチェック
   *     await sdk.reportBrowserError({ error: { name: error.name, message: error.message } });
   *   }
   *   // ページがリロードされた場合、サーバー側の検証メッセージについてsdk.transaction.errorsを確認してください。
   * }
   * ```
   */
  verify(options?: VerifyPlatformAuthenticatorOptions): Promise<void>;

  /**
   * Reports a specific WebAuthn API error (from `navigator.credentials.get()`) to Auth0.
   * This method should be used when `verify()` (or a manual `navigator.credentials.get()` call) fails due to
   * a browser-side WebAuthn issue (e.g., user cancellation `NotAllowedError`, timeout).
   * It submits the error details with `action: "showError::{errorDetailsJsonString}"` and an empty `response`.
   *
   * @param {ReportBrowserErrorOptions} options - Contains the `error` object (with `name` and `message`
   * from the WebAuthn API DOMException) and any other custom options.
   * @returns {Promise<void>} A promise that resolves when the error report is submitted.
   * @throws {Error} Throws an error if the form submission fails (e.g., network error, invalid state).
   *
   * @example
   * ```typescript
   * // Assuming 'sdk' is an instance of MfaWebAuthnPlatformChallenge
   * // And webAuthnDomException is an error object from a failed navigator.credentials.get() call.
   * try {
   *   await sdk.reportBrowserError({
   *     error: { name: webAuthnDomException.name, message: webAuthnDomException.message }
   *   });
   *   // Auth0 will process this error and may re-render the page or redirect.
   * } catch (submitError) {
   *   console.error("Failed to report WebAuthn browser error:", submitError);
   * }
   * ```
   */
  reportBrowserError(options: ReportBrowserErrorOptions): Promise<void>;

  /**
   * Allows the user to opt-out of the WebAuthn platform challenge and select a different MFA method.
   * This action submits `action: "pick-authenticator"` to Auth0, which should navigate
   * the user to an MFA factor selection screen.
   *
   * @param {TryAnotherMethodOptions} [options] - Optional custom parameters to be sent with the request.
   * @returns {Promise<void>} A promise that resolves when the 'pick-authenticator' action is submitted.
   * @throws {Error} Throws an error if the form submission fails.
   *
   * @example
   * ```typescript
   * // Assuming 'sdk' is an instance of MfaWebAuthnPlatformChallenge
   * try {
   *   await sdk.tryAnotherMethod();
   *   // On success, Auth0 handles redirection to MFA selection.
   * } catch (error) {
   *   console.error("Failed to switch MFA method:", error);
   * }
   * ```
   */
  tryAnotherMethod(options?: TryAnotherMethodOptions): Promise<void>;
}
````

<div id="properties">
  ## プロパティ
</div>

<ParamField body='branding' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/BrandingMembers">BrandingMembers</a></span>}/>

<ParamField body='client' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ClientMembers">ClientMembers</a></span>}/>

<ParamField body='organization' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/OrganizationMembers">OrganizationMembers</a></span>}/>

<ParamField body='prompt' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/PromptMembers">PromptMembers</a></span>}/>

<ParamField body='screen' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/ScreenMembersOnMfaWebAuthnPlatformChallenge">ScreenMembersOnMfaWebAuthnPlatformChallenge</a></span>}>

WebAuthn チャレンジのオプションおよびデバイスを記憶するかどうかの設定を含む、画面固有のプロパティとデータ。

</ParamField>

<ParamField body='tenant' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/TenantMembers">TenantMembers</a></span>}/>

<ParamField body='transaction' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/TransactionMembers">TransactionMembers</a></span>}/>

<ParamField body='untrustedData' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/UntrustedDataMembers">UntrustedDataMembers</a></span>}/>

<ParamField body='user' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/UserMembers">UserMembers</a></span>}/>

<div id="methods">
  ## メソッド
</div>

<ParamField body='reportBrowserError' type='Promise<void>'>

特定の WebAuthn API エラー（`navigator.credentials.get()` からのエラー）を Auth0 に報告します。
このメソッドは、`verify()`（または手動で呼び出した `navigator.credentials.get()`）が、
ブラウザー側の WebAuthn に起因する問題（例: ユーザーのキャンセルによる `NotAllowedError`、タイムアウト）で失敗した場合に使用します。
このメソッドは、`action: "showError::{errorDetailsJsonString}"` と空の `response` とともにエラーの詳細を送信します。

エラー報告の送信が完了すると解決される Promise です。

#### スロー

フォーム送信が失敗した場合（例: ネットワークエラー、無効な state）にエラーをスローします。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformChallenge のインスタンスであると仮定します
// また、webAuthnDomException が失敗した navigator.credentials.get() 呼び出しからのエラーオブジェクトであるとします。
try {
  await sdk.reportBrowserError({
    error: { name: webAuthnDomException.name, message: webAuthnDomException.message }
  });
  // Auth0 はこのエラーを処理し、ページを再描画したりリダイレクトしたりすることがあります。
} catch (submitError) {
  console.error("Failed to report WebAuthn browser error:", submitError);
}
```

<Expandable title="Parameters">
<ParamField body='options' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/MfaWebAuthnPlatformChallengeReportErrorOptions">MfaWebAuthnPlatformChallengeReportErrorOptions</a></span>}>
WebAuthn API の DOMException からの `name` と `message` を持つ `error` オブジェクトと、
その他のカスタムオプションを含みます。

**プロパティ**

<ParamField body='error' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/WebAuthnErrorDetails">WebAuthnErrorDetails</a></span>}>
報告対象となる WebAuthn API（`navigator.credentials.get()`）からのエラーオブジェクトです。
</ParamField>
</ParamField>

</Expandable>
</ParamField>

<ParamField body='tryAnotherMethod' type='Promise<void>'>

ユーザーが WebAuthn プラットフォームチャレンジの利用をやめて、別の MFA メソッドを選択できるようにします。
このアクションは `action: "pick-authenticator"` を Auth0 に送信し、
ユーザーを MFA 要素選択画面に遷移させます。

`"pick-authenticator"` アクションの送信が完了すると解決される Promise です。

#### スロー

フォーム送信が失敗した場合にエラーをスローします。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformChallenge のインスタンスであると仮定します
try {
  await sdk.tryAnotherMethod();
  // 成功時には、Auth0 が MFA 選択画面へのリダイレクトを処理します。
} catch (error) {
  console.error("Failed to switch MFA method:", error);
}
```

<Expandable title="Parameters">
<ParamField body='options?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/MfaWebAuthnPlatformChallengeTryAnotherMethodOptions">MfaWebAuthnPlatformChallengeTryAnotherMethodOptions</a></span>}>
リクエストと共に送信される任意のカスタムパラメーターです。
</ParamField>

</Expandable>
</ParamField>

<ParamField body='verify' type='Promise<void>'>

WebAuthn プラットフォーム認証器チャレンジを開始します。
このメソッドは内部で、`screen.publicKey` で指定されたチャレンジオプションを使用して
`navigator.credentials.get()` を呼び出します。
成功すると、`action: "default"` を指定して得られたクレデンシャルを Auth0 に送信します。

`navigator.credentials.get()` が失敗した場合（例: ユーザーによるキャンセル、タイムアウト、その他の WebAuthn API エラー）、
エラーの詳細とともに `reportBrowserError` を呼び出すことを推奨します。

検証試行が送信されると解決される Promise です。
正常に完了すると、通常はリダイレクトが発生します。

<div id="throws">
  #### Throws
</div>

次の場合にエラーをスローします:
`screen.publicKey` が存在しない場合、
`navigator.credentials.get()` が `getPasskeyCredentials` で処理されない予期しないエラーで失敗した場合、
または Auth0 へのフォーム送信に失敗した場合。

```typescript Example
// 'sdk' が MfaWebAuthnPlatformChallenge のインスタンスであると仮定
try {
  const remember = sdk.screen.showRememberDevice && userCheckedRememberDeviceBox;
  await sdk.verify({ rememberDevice: remember });
  // 成功時は、Auth0 がリダイレクト処理を行います。
} catch (error) {
  console.error("Platform authenticator verification failed:", error);
  // これが WebAuthn API エラーであれば、報告します
  if (error.name && error.message) { // DOMException のような error の簡易チェック
    await sdk.reportBrowserError({ error: { name: error.name, message: error.message } });
  }
  // ページが再読み込みされた場合は、サーバー側のバリデーションメッセージについて sdk.transaction.errors を確認します。
}
```

<Expandable title="パラメーター">
<ParamField body='options?' type={<span><a href="/docs/libraries/acul/react-sdk/API-Reference/Types/interfaces/VerifyPlatformAuthenticatorOptions">VerifyPlatformAuthenticatorOptions</a></span>}>
検証処理のオプションパラメーターです。
`screen.showRememberDevice` が true の場合の `rememberDevice` や、その他のカスタムオプションなどを指定します。

**プロパティ**

<ParamField body='rememberDevice?' type='boolean'>
省略可能。true の場合、今後の MFA（多要素認証）チャレンジに備えて、このブラウザーを記憶しようとします。
`rememberBrowser` フォームフィールドに対応します。これは `screen.showRememberDevice` が true の場合にのみ適用されます。
</ParamField>
</ParamField>

</Expandable>
</ParamField>